{"version":3,"file":"assets/js/app.42f305d3.js","mappings":"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KAAgB,KAAgB,KAAgB,KAAgB,KAAgB,MAO5XC,UAAW,CAAC,iCAAkC,iCAAkC,iCAC5E,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACpE,iCAAkC,iCAAkC,iCACp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","sources":["webpack://vue/./src/App.vue","webpack://vue/./src/plugin/fingerprint.js","webpack://vue/./src/App.vue?7ccd","webpack://vue/./src/views/notes/NotesView.vue","webpack://vue/./src/views/notes/NotesView.vue?a789","webpack://vue/./src/views/notes/AddNoteView.vue","webpack://vue/./src/util/date.js","webpack://vue/./src/views/common/RichTextView.vue","webpack://vue/./src/plugin/clipboard.js","webpack://vue/./src/util/config.js","webpack://vue/./src/util/path.js","webpack://vue/./src/plugin/file.js","webpack://vue/./src/plugin/camera.js","webpack://vue/./src/views/common/RichTextView.vue?4543","webpack://vue/./src/views/notes/AddNoteView.vue?bc85","webpack://vue/./src/views/notes/ViewNoteView.vue","webpack://vue/./src/views/notes/ViewNoteView.vue?662e","webpack://vue/./src/views/calendar/CalendarView.vue","webpack://vue/./src/plugin/calendar.js","webpack://vue/./src/views/calendar/CalendarView.vue?f938","webpack://vue/./src/views/setting/SettingView.vue","webpack://vue/./src/views/setting/SettingView.vue?e106","webpack://vue/./src/views/search/SearchView.vue","webpack://vue/./src/views/search/SearchView.vue?4930","webpack://vue/./src/views/category/CategoryView.vue","webpack://vue/./src/views/category/CategoryView.vue?079d","webpack://vue/./src/views/category/AddCategoryView.vue","webpack://vue/./src/views/category/AddCategoryView.vue?cdff","webpack://vue/./src/views/category/CategoryDetailView.vue","webpack://vue/./src/views/category/CategoryDetailView.vue?90ca","webpack://vue/./src/router/index.js","webpack://vue/./src/store/state.js","webpack://vue/./src/store/getters.js","webpack://vue/./src/store/mutations.js","webpack://vue/./src/plugin/sqllite.js","webpack://vue/./src/store/actions.js","webpack://vue/./src/store/index.js","webpack://vue/./src/main.js","webpack://vue/webpack/bootstrap","webpack://vue/webpack/runtime/chunk loaded","webpack://vue/webpack/runtime/compat get default export","webpack://vue/webpack/runtime/define property getters","webpack://vue/webpack/runtime/global","webpack://vue/webpack/runtime/hasOwnProperty shorthand","webpack://vue/webpack/runtime/make namespace object","webpack://vue/webpack/runtime/jsonp chunk loading","webpack://vue/webpack/startup"],"sourcesContent":["<template>\r\n  <!-- 路由出口 -->\r\n  <!-- 路由匹配到的组件将渲染在这里 -->\r\n  <router-view v-slot=\"{ Component }\">\r\n    <keep-alive>\r\n      <component :is=\"Component\" />\r\n    </keep-alive>\r\n  </router-view>\r\n  <router-view name=\"NewNote\">\r\n  </router-view>\r\n  <router-view name=\"SearchNote\" v-slot=\"{ Component }\">\r\n    <keep-alive>\r\n      <component :is=\"Component\" />\r\n    </keep-alive>\r\n  </router-view>\r\n  <van-tabbar route v-show=\"IsShowTabBar\">\r\n    <van-tabbar-item icon=\"notes-o\" to=\"/\">笔记</van-tabbar-item>\r\n    <van-tabbar-item icon=\"apps-o\" to=\"/Category\">归类</van-tabbar-item>\r\n    <van-tabbar-item icon=\"calendar-o\" to=\"/Calendar\">日历</van-tabbar-item>\r\n    <van-tabbar-item icon=\"setting-o\" to=\"/Setting\">设置</van-tabbar-item>\r\n  </van-tabbar>\r\n</template>\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router';\r\nimport { mapGetters, useStore } from 'vuex'\r\nimport { FingerprintVerification } from '@/plugin/fingerprint';\r\nimport { Toast } from '@vant/compat';\r\n\r\nexport default {\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const active = ref(0);\r\n\r\n    const store = useStore();\r\n    //页面挂载后执行\r\n    onMounted(() => {\r\n      store.dispatch('startupDatabase').then(() => {\r\n        getLocalItemFn().then((data) => {\r\n          console.log('flag', data);\r\n          if (data == 'true') {\r\n            console.log('开启指纹解锁');\r\n            //指纹验证 验证成功之后这里不做其他的操作\r\n            FingerprintVerification().then((resolve) => {\r\n              console.log('FingerprintVerification' + JSON.stringify(resolve));\r\n              //Toast('FingerprintVerification' + JSON.stringify(resolve));\r\n              router.push({\r\n                path: '/',\r\n                replace:true,\r\n              })\r\n            }).catch(rs => {\r\n              console.log('FingerprintVerification',JSON.stringify(rs));\r\n              if(rs.code == 3){\r\n                navigator.app.exitApp(); //退出app\r\n              }else{\r\n                Toast(rs.msg);\r\n              }\r\n            });\r\n          } else {\r\n            console.log('不不不开启指纹解锁');\r\n            router.push({\r\n              path: '/',\r\n              replace:true,\r\n            })\r\n          }\r\n        });\r\n\r\n        navigator.splashscreen.show();\r\n        window.setTimeout(() => {\r\n          navigator.splashscreen.hide();\r\n        }, 500);\r\n      }).catch((reject) => {\r\n        console.log('startupDatabase-err=>' + reject);\r\n      });\r\n    });\r\n\r\n    const getLocalItemFn = async () => {\r\n      return await store.getters.getLocalItem(store.state.localFingerKey);\r\n    }\r\n\r\n    return {\r\n      active\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'IsShowTabBar'\r\n    ])\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n\r\n}\r\n</style>\r\n","//指纹验证\r\nexport function FingerprintVerification() {\r\n    // 检查指纹验证可用性\r\n    return new Promise((resolve, reject) => {\r\n        FingerprintAuth.isAvailable(resultSuccess => {\r\n            if (resultSuccess.isAvailable) {\r\n                var config = {\r\n                    clientId: \"com.github.topcoder520_debug\", // 在使用凭证加解密时是必须的，用于访问使用android key store，并且是加密的盐；\r\n                    usename: \"myUsername\", // 在使用凭证加解密时是必须的，加密的盐；\r\n                    password: \"myPassword\",// 加密时需要，解密时不需要\r\n                    //token: undefined, // 加密时不需要，解密时是必须的，\r\n                    disableBackup: false, // 是否允许用户使用缩退方案，即当指纹验证有问题时是否提供用户密码等方式验证的按钮；\r\n                    maxAttempts: '5', // 最大重试次数，默认为5次，可以比5小\r\n                    locale: \"zh_CN\", // 对话框的语言，默认是英文en_US\r\n                    userAuthRequired: \"false\",\r\n                    //encryptNoAuth: undefined,\r\n                    dialogTitle: '指纹验证', // 对话框标题\r\n                    dialogMessage: '请触摸指纹传感器', // 对话框的提示文字\r\n                    dialogHint: '本次验证不会保存您的指纹信息' // 对话框的指纹图标显示的文字\r\n                };\r\n                FingerprintAuth.encrypt(config, rs => {\r\n                    resolve(rs);\r\n                }, err => {\r\n                    reject({code:3,msg:\"指纹解锁授权失败\"});\r\n                });\r\n            } else {\r\n                reject({code:2,msg:\"指纹解锁不可用\"});\r\n            }\r\n        }, resultError => {\r\n            reject({code:1,msg:resultError});\r\n        });\r\n    });\r\n}\r\n","import { render } from \"./App.vue?vue&type=template&id=7a1c2317\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=7a1c2317&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <van-nav-bar class=\"list-title\" title=\"待完成列表\" v-show=\"showNavbar\">\r\n    <template #right>\r\n      <router-link v-if=\"showSwitchBtn\" to=\"/Search?lz=1\"> <van-icon name=\"search\" size=\"22\" /></router-link>\r\n    </template>\r\n  </van-nav-bar>\r\n  <div class=\"list-box\">\r\n    <van-pull-refresh v-model=\"Refresh\" @refresh=\"onRefresh\">\r\n      <van-list  v-model:loading=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\r\n        <van-swipe-cell v-for=\"(item, index) in list\" :key=\"index\" :before-close=\"beforeClose\">\r\n          <template #left v-if=\"showSwitchBtn\">\r\n            <van-button square type=\"primary\" style=\"height: 100% !important\" :text=\"item.Sort > 1 ? '取消置顶' : '置顶'\"\r\n              @click=\"topItem(item.Id, item.Sort)\" />\r\n          </template>\r\n          <van-row @click=\"onNoteDetail(item.Id)\">\r\n            <van-col span=\"24\">\r\n              <p class=\"van-multi-ellipsis--l3\">{{ item.Title }}</p>\r\n              <p>\r\n                <span v-show=\"item.State == 1\" class=\"status\"></span>\r\n                <span v-show=\"item.State == 0\" class=\"status-over\"></span>\r\n                <span style=\"margin-right:8px;\">\r\n                  <!-- {{ item.Category.split('/')[0] }} -->\r\n                </span>{{ item.CreateTime }}<span\r\n                  class=\"top-tag\" v-show=\"item.Sort > 1\">置顶</span>\r\n              </p>\r\n            </van-col>\r\n          </van-row>\r\n          <template #right>\r\n            <van-button v-show=\"item.State == 1\" square style=\"height: 100% !important\" text=\"已完成\"\r\n              @click=\"preDelItem(item.Id)\" type=\"danger\" class=\"delete-button\" />\r\n            <van-button v-show=\"!showSwitchBtn && item.State == 0\" square type=\"success\" style=\"height: 100% !important\"\r\n              :text=\"'待完成'\" @click=\"setNotState(item.Id, item.Sort)\" />\r\n          </template>\r\n        </van-swipe-cell>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n    <div class=\"add-box\" v-show=\"showNavbar\">\r\n      <span class=\"border\" @click=\"addNote\">\r\n        <van-icon name=\"plus\" />\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { onActivated, ref, watch } from 'vue';\r\nimport { showConfirmDialog, showNotify } from 'vant';\r\nimport { Toast } from '@vant/compat';\r\nimport { useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport { useWindowSize } from '@vant/use';\r\n\r\nexport default {\r\n  name: 'NotesView',\r\n  props: {\r\n    Date: {\r\n      type: Object,\r\n      default: () => ({ Year: 0, Month: 0, Day: 0 })\r\n    },\r\n    IsAll: Boolean,\r\n    ShowNavBar: {\r\n      type: Boolean,\r\n      default: () => true\r\n    }, //是否展示\r\n    Lazyload: {\r\n      type: Boolean,\r\n      default: () => false\r\n    },\r\n    QueryItem: {\r\n      type: Object,\r\n      default: () => ({ ParentId: 0, note_category_Id: -1,Keywords:''})\r\n    },\r\n  },\r\n  emits: {\r\n    'openNotedetail': null,\r\n  },\r\n  setup(props, context) {\r\n\r\n    const router = useRouter();\r\n    const store = useStore();\r\n    const Refresh = ref(false);\r\n    const list = ref([]);\r\n    const loading = ref(false);\r\n    const finished = ref(false);\r\n    var initPageIndex = 0;\r\n\r\n    const onRefresh = () => {\r\n      if (!Lazyload.value) {\r\n        setTimeout(() => {\r\n          Toast('刷新成功');\r\n          initPageIndex = 1;\r\n          list.value = [];\r\n          console.log('getNoteListByPage5');\r\n          getNoteListByPage(initPageIndex, 20);\r\n          Refresh.value = false;\r\n        }, 1000);\r\n      }\r\n    };\r\n\r\n    const Lazyload = ref(props.Lazyload);\r\n    const onLoad = () => {\r\n      // 异步更新数据\r\n      if (!Lazyload.value) {\r\n        initPageIndex = initPageIndex + 1;\r\n        console.log('getNoteListByPage6');\r\n        getNoteListByPage(initPageIndex, 20);\r\n      }else{\r\n        // 加载状态结束\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    let willDelItemId = 0;\r\n    //删除\r\n    const preDelItem = (Id) => {\r\n      willDelItemId = Id;\r\n      console.log(willDelItemId);\r\n      showConfirmDialog({\r\n        title: '该任务已完成？',\r\n        className:'task-finish-dialog',\r\n        overlayClass:'task-finish-overlay',\r\n      }).then(() => {\r\n        store.dispatch('delNote', { Id: willDelItemId, real: 0 }).then((resolve, reject) => {\r\n          if (resolve.rowsAffected > 0) {\r\n            for (let index = 0; index < list.value.length; index++) {\r\n              const item = list.value[index];\r\n              if (item.Id == willDelItemId) {\r\n                if (props.IsAll) {\r\n                  item.State = 0;\r\n                } else {\r\n                  list.value.splice(index, 1);\r\n                }\r\n                break;\r\n              }\r\n            }\r\n            //showNotify({ type: 'success', message: '已移出', position: 'bottom' });\r\n          } else {\r\n            Toast.fail('移出失败：' + reject);\r\n          }\r\n        });\r\n      }).catch(() => {\r\n        // on cancel\r\n      });\r\n    };\r\n\r\n    const topItem = (Id, Sort) => {\r\n      if (Sort > 1) {\r\n        //取消置顶\r\n        store.dispatch('updateNoteSort', {\r\n          Id: Id,\r\n          Sort: 1\r\n        }).then((resolve) => {\r\n          if (resolve.rowsAffected > 0) {\r\n            initPageIndex = 1;\r\n            list.value = [];\r\n            console.log('getNoteListByPage7');\r\n            getNoteListByPage(initPageIndex, 20);\r\n            setTimeout(function () {\r\n              Toast('已取消置顶');\r\n            }, 300);\r\n          }\r\n        }).catch((reject) => {\r\n          Toast.fail('取消置顶失败：' + reject);\r\n        });\r\n      } else {\r\n        //置顶\r\n        store.dispatch('updateNoteSort', {\r\n          Id: Id,\r\n          Sort: Date.now()\r\n        }).then((resolve) => {\r\n          if (resolve.rowsAffected > 0) {\r\n            initPageIndex = 1;\r\n            list.value = [];\r\n            console.log('getNoteListByPage1');\r\n            getNoteListByPage(initPageIndex, 20);\r\n            setTimeout(function () {\r\n              Toast('已置顶');\r\n            }, 300);\r\n          }\r\n        }).catch((reject) => {\r\n          Toast.fail('置顶失败：' + reject);\r\n        });\r\n      }\r\n    };\r\n\r\n    const setNotState = (Id, Sort) => {\r\n      showConfirmDialog({\r\n        title: '设置任务状态未完成？',\r\n        className:'task-finish-dialog',\r\n        overlayClass:'task-finish-overlay',\r\n      }).then(() => {\r\n        store.dispatch('updateNoteSort', {\r\n          Id: Id,\r\n          Sort: Sort\r\n        }).then((resolve) => {\r\n          if (resolve.rowsAffected > 0) {\r\n            for (let index = 0; index < list.value.length; index++) {\r\n              const item = list.value[index];\r\n              if (item.Id == Id) {\r\n                item.State = 1;\r\n                break;\r\n              }\r\n            }\r\n            setTimeout(function () {\r\n              Toast('已进入待完成列表');\r\n            }, 300);\r\n          }\r\n        }).catch((reject) => {\r\n          Toast.fail('设置失败：' + reject);\r\n        });\r\n      }).catch(() => {\r\n        // on cancel\r\n      });;\r\n    }\r\n\r\n    // position 为关闭时点击的位置\r\n    const beforeClose = ({ position }) => {\r\n      switch (position) {\r\n        case 'left':\r\n          return new Promise(() => {\r\n            console.log('click left');\r\n          });\r\n        case 'cell':\r\n        case 'outside':\r\n          return true;\r\n        case 'right':\r\n          return new Promise(() => {\r\n\r\n          });\r\n      }\r\n    };\r\n\r\n    onActivated(() => {\r\n      Lazyload.value = false;\r\n      store.commit('SelectTabBar', -1);\r\n\r\n      const RefreshListState = store.state.RefreshListState;\r\n      console.log('store.state.RefreshListState:' + RefreshListState, typeof RefreshListState);\r\n      if (RefreshListState) {\r\n        store.commit('setRefreshListState', false);\r\n        list.value = [];\r\n        initPageIndex = 1;\r\n        console.log('getNoteListByPage2');\r\n        getNoteListByPage(initPageIndex, 20);\r\n      }\r\n    });\r\n\r\n    //监听传入的日期是否变化\r\n    watch(() => props.Date, (newVal, oldVal) => {\r\n      console.log(JSON.stringify(newVal), JSON.stringify(oldVal));\r\n      list.value = [];\r\n      initPageIndex = 1;\r\n      console.log('getNoteListByPage3');\r\n      Lazyload.value = false;\r\n      getNoteListByPage(initPageIndex, 20);\r\n    }, { deep: true });\r\n    //\r\n    watch(() => props.QueryItem, (newVal, oldVal) => {\r\n      console.log(JSON.stringify(newVal), JSON.stringify(oldVal));\r\n      list.value = [];\r\n      initPageIndex = 1;\r\n      console.log('getNoteListByPage3');\r\n      Lazyload.value = false;\r\n      getNoteListByPage(initPageIndex, 20);\r\n    }, { deep: true });\r\n\r\n    const getNoteListByPage = (pageIndex, pageSize) => {\r\n      finished.value = false;\r\n      let Keywords = props.QueryItem.Keywords;\r\n      console.log(pageIndex + ', ' + pageSize + ', ' + props.Date.Year + ', ' + props.Date.Month + ', ' + props.Date.Day + ', ' + Keywords);\r\n      store.dispatch('getNoteListByPage', { pageIndex: pageIndex, pageSize: pageSize, Year: props.Date.Year, Month: props.Date.Month, Day: props.Date.Day, State: (props.IsAll ? 0 : 1), Sort: props.IsAll, kw: Keywords, ParentId: props.QueryItem.ParentId, note_category_Id: props.QueryItem.note_category_Id }).then((resolve) => {\r\n        var listData = resolve;\r\n        console.log('getNoteListByPage=>' + JSON.stringify(listData));\r\n        for (let i = 0; i < listData.length; i++) {\r\n          list.value.push(listData[i]);\r\n        }\r\n        // 加载状态结束\r\n        loading.value = false;\r\n\r\n        // 数据全部加载完成\r\n        if (listData.length == 0) {\r\n          finished.value = true;\r\n        }\r\n      });\r\n    };\r\n\r\n    //查看详情\r\n    const onNoteDetail = (Id) => {\r\n      console.log(Id);\r\n      context.emit('openNotedetail', { Id: Id });\r\n      router.push({\r\n        path: '/ViewNote',\r\n        query: { Id: Id }\r\n      });\r\n    };\r\n\r\n    //是否展示navbar\r\n    const showNavbar = ref(props.ShowNavBar);\r\n\r\n    const { height } = useWindowSize();\r\n    const vheight = ref((props.IsAll?(height.value - 46 - 100):(height.value - 46)) + 'px');\r\n\r\n    const marginbottom = ref('0px');\r\n    if(!props.IsAll){\r\n      marginbottom.value = '80px';\r\n    }\r\n\r\n    //添加笔记\r\n    const addNote = () => {\r\n      router.push({\r\n        path: '/AddNote',\r\n      })\r\n    }\r\n\r\n    return {\r\n      Refresh,\r\n      onRefresh,\r\n      list,\r\n      onLoad,\r\n      loading,\r\n      finished,\r\n      onNoteDetail,\r\n      preDelItem,\r\n      beforeClose,\r\n      vheight,\r\n      marginbottom,\r\n      showNavbar,\r\n      showSwitchBtn: !props.IsAll,\r\n      addNote,\r\n      setNotState,\r\n      topItem,\r\n    };\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.list-title {\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 0px;\r\n}\r\n\r\n.list-box {\r\n  margin-top: 46px;\r\n}\r\n\r\n.list-box .add-box {\r\n  display: inline-block;\r\n  width: 60px;\r\n  height: 60px;\r\n  position: fixed;\r\n  border-radius: 50%;\r\n  bottom: 60px;\r\n  right: 12px;\r\n}\r\n\r\n.list-box .add-box .border {\r\n  display: inline-block;\r\n  width: 42px;\r\n  height: 42px;\r\n  background: #fff;\r\n  border: 1px solid #1989fa;\r\n  border-radius: 50%;\r\n  background-color: #1989fa;\r\n}\r\n\r\n.list-box .add-box .border .van-icon {\r\n  line-height: 42px;\r\n  font-size: 22px;\r\n  color: #ededed;\r\n}\r\n\r\n.list-box .add-box .border .van-icon:hover {\r\n  font-size: 24px;\r\n  color: #fff;\r\n}\r\n\r\n.van-pull-refresh {\r\n  background-color: #f9f9f9;\r\n  //margin-bottom: 120px;\r\n\r\n  .van-list {\r\n    margin-bottom: v-bind(\"marginbottom\");\r\n    min-height: v-bind(\"vheight\");\r\n  }\r\n\r\n  .van-row {\r\n    margin: 12px 20px;\r\n    background-color: #fff;\r\n    border-radius: 0.8em;\r\n\r\n    .van-col {\r\n\r\n      padding: 3px 12px;\r\n\r\n      p {\r\n        margin: 6px;\r\n        text-align: left;\r\n      }\r\n\r\n      p:first {\r\n        font-size: 15px;\r\n      }\r\n\r\n      p:last-child {\r\n        font-size: 13px;\r\n        color: #666;\r\n      }\r\n    }\r\n  }\r\n\r\n  .top-tag {\r\n    font-size: 12px;\r\n    display: inline-block;\r\n    padding: 2px 3px;\r\n    background-color: blue;\r\n    color: #fff;\r\n    border-radius: 3px;\r\n    margin-left: 9px;\r\n  }\r\n}\r\n\r\n.status {\r\n  display: inline-block;\r\n  width: 8px;\r\n  height: 8px;\r\n  background-color: #07c160;\r\n  border-radius: 50%;\r\n  margin-right: 6px;\r\n}\r\n\r\n.status-over {\r\n  display: inline-block;\r\n  width: 8px;\r\n  height: 8px;\r\n  background-color: #ee0a24;\r\n  border-radius: 50%;\r\n  margin-right: 6px;\r\n}\r\n</style>","import { render } from \"./NotesView.vue?vue&type=template&id=252507de\"\nimport script from \"./NotesView.vue?vue&type=script&lang=js\"\nexport * from \"./NotesView.vue?vue&type=script&lang=js\"\n\nimport \"./NotesView.vue?vue&type=style&index=0&id=252507de&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <van-nav-bar class=\"nav-bar-addnote\" :title=\"PageTitle\" left-text=\"返回\" right-text=\"保存\" left-arrow\r\n        @click-left=\"onClickLeft\" @click-right=\"onClickRight\" />\r\n    <div class=\"addcontent\" ref=\"root\">\r\n        <div class=\"title-box\">\r\n            <input ref=\"titleRef\" type=\"text\" class=\"title\" @input=\"onTitleInput\" @blur=\"onTitleBlur\" @focus=\"onTitleFocus\" placeholder=\"标题\" v-model=\"title\" />\r\n            <van-icon v-show=\"isShowClearIcon\" name=\"cross\" size=\"12\" @click=\"onClearTitle\"/>\r\n        </div>\r\n        <!-- <van-cell class=\"date-info\" v-model:title=\"createTime\">\r\n            <template #right-icon>\r\n                <div style=\"display:inline-block;\" @click=\"showPopup = true\">\r\n                    <label class=\"category-name\">{{ categoryName }}</label>\r\n                    <van-icon class=\"arrow-down\" size=\"20px\" name=\"arrow-down\" />\r\n                </div>\r\n            </template>\r\n        </van-cell> -->\r\n        <div class=\"note-content\">\r\n            <rich-text @getValue=\"getValue\" :value=\"tmepContent\"></rich-text>\r\n        </div>\r\n    </div>\r\n    <!-- <van-popup v-model:show=\"showPopup\" round position=\"bottom\">\r\n        <van-cascader v-model=\"cascaderValue\" title=\"请选择知识库和分类\" :options=\"options\" @close=\"showPopup = false\"\r\n            @change=\"onChange\" @finish=\"onFinish\" />\r\n    </van-popup> -->\r\n</template>\r\n<script>\r\nimport { useRect, useWindowSize } from '@vant/use';\r\nimport { Toast } from '@vant/compat';\r\nimport { onUnmounted, ref, onMounted, onActivated, reactive } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport { getNowDateString } from '@/util/date';\r\nimport { closeToast, showLoadingToast } from 'vant';\r\n\r\nimport RichText from '../common/RichTextView.vue';\r\n\r\nexport default {\r\n    name: 'AddNoteView',\r\n    components: {\r\n        RichText,\r\n    },\r\n    setup() {\r\n        const store = useStore()\r\n        const route = useRoute();\r\n        const router = useRouter();\r\n\r\n        //keep-alive 缓存的组件激活时调用\r\n        onMounted(() => {\r\n            store.commit('SelectTabBar', 1);\r\n            console.log('加载');\r\n        });\r\n        onUnmounted(() => {\r\n            store.commit('SelectTabBar', -1);\r\n            console.log('卸载');\r\n        });\r\n        onActivated(() => {\r\n            console.log('addNote onActivated');\r\n        });\r\n\r\n        //\r\n        const cutTitle = (content) => {\r\n            content = content ?? '';\r\n            if (content.length > 0) {\r\n                if (content.length > 50) {\r\n                    content = content.substring(0, 50);\r\n                }\r\n            }\r\n            return content;\r\n        };\r\n\r\n        const onClearTitle = ()=>{\r\n            title.value = '';\r\n            titleRef.value.focus();\r\n        };\r\n        const isShowClearIcon = ref(false);\r\n        const titleRef = ref(null);\r\n        const onTitleFocus = ()=>{\r\n            if(title.value.length>0){\r\n                isShowClearIcon.value = true;\r\n            }else{\r\n                isShowClearIcon.value = false;\r\n            }\r\n        };\r\n        const onTitleBlur = ()=>{\r\n            setTimeout(() => {\r\n              isShowClearIcon.value = false;\r\n            }, 50);\r\n        };\r\n        const onTitleInput = (e)=>{\r\n            if(e.target.value.length>0){\r\n                isShowClearIcon.value = true;\r\n            }else{\r\n                isShowClearIcon.value = false;\r\n            }\r\n        };\r\n\r\n        const onClickLeft = () => {\r\n            history.back();\r\n        };\r\n\r\n        const openOtherNoteDetail = (cId) => {\r\n            router.push({\r\n                path: '/ViewNote',\r\n                query: { Id: cId },\r\n                replace: true\r\n            });\r\n        }\r\n\r\n        const State = ref(!route.query.State ? 1 : Number(route.query.State));\r\n        const onClickRight = () => {\r\n            tmepContent.type = '1';\r\n            if (title.value.trim().length == 0) {\r\n                if (content.value.trim().length == 0) {\r\n                    Toast.fail('请输入内容');\r\n                    return;\r\n                } else {\r\n                    title.value = cutTitle(temTitle.value);\r\n                }\r\n            }\r\n            if (Id.value > 0) {\r\n                store.dispatch('updateNote', {\r\n                    Id: Id.value,\r\n                    Title: title.value,\r\n                    Category: categoryName.value,\r\n                    Content: content.value,\r\n\r\n                    ParentId: ParentId.value,\r\n                    note_category_Id: note_category_Id.value,\r\n                }).then((resolve) => {\r\n                    if (resolve.rowsAffected > 0) {\r\n                        Toast('保存成功');\r\n                        saveAfter(Id.value);\r\n                    }\r\n                }).catch((reject) => {\r\n                    Toast.fail('保存失败：' + reject);\r\n                });\r\n            } else {\r\n                const nowdate = new Date();\r\n                const y = nowdate.getFullYear();\r\n                const m = nowdate.getMonth() + 1;\r\n                const d = nowdate.getDate();\r\n\r\n                store.dispatch('addNote', {\r\n                    Id: Id.value,\r\n                    Title: title.value,\r\n                    Category: categoryName.value,\r\n                    Content: content.value,\r\n                    CreateTime: createTime.value,\r\n                    Year: y,\r\n                    Month: m,\r\n                    Day: d,\r\n                    timestamp: Date.now(),\r\n                    State: State.value,\r\n\r\n                    ParentId: ParentId.value,\r\n                    note_category_Id: note_category_Id.value,\r\n                }).then((resolve) => {\r\n                    console.log(JSON.stringify(resolve));\r\n                    if (resolve.rowsAffected > 0) {\r\n                        Toast('添加成功');\r\n                        Id.value = resolve.insertId;\r\n                        store.commit('setRefreshListState', true);\r\n\r\n                        saveAfter(Id.value);\r\n                    }\r\n                }).catch((reject) => {\r\n                    Toast.fail('添加失败：' + reject);\r\n                });\r\n            }\r\n        };\r\n\r\n        const saveAfter = (IdVal) => {\r\n            setTimeout(() => {\r\n                if (aId.value && aId.value > 0 || cpId.value && cpId.value > 0) {\r\n                    //跳转详情页\r\n                    openOtherNoteDetail(IdVal);\r\n                } else {\r\n                    onClickLeft();\r\n                }\r\n            }, 500);\r\n        };\r\n\r\n        const { height } = useWindowSize();\r\n        const root = ref();\r\n        const vheight = ref(height.value - 94 + 'px');\r\n\r\n        //内容\r\n        const Id = ref(route.query.Id ?? 0);\r\n        const title = ref('');\r\n        const categoryName = ref('未分类');\r\n        const content = ref('');\r\n        const createTime = ref(getNowDateString());\r\n        const PageTitle = ref('添加笔记');\r\n        const ParentId = ref(0);\r\n        const note_category_Id = ref(0);\r\n\r\n        const aId = ref(route.query.aId ?? 0);\r\n\r\n        const CyId = ref(route.query.CyId ?? 0);\r\n        const NCId = ref(route.query.NCId ?? 0);\r\n\r\n        const tmepContent = reactive({ val: '', type: '0' });//进入页面赋值的时候使用一次\r\n        console.log('Id.value', Id.value);\r\n        //笔记Id\r\n        if (Id.value && Id.value > 0) {\r\n            PageTitle.value = '编辑笔记';\r\n            showLoadingToast('加载中...');\r\n            store.dispatch('getNoteById', Id.value).then((resolve) => {\r\n                const data = resolve;\r\n                title.value = data.Title;\r\n                categoryName.value = data.Category;\r\n                content.value = data.Content;\r\n                tmepContent.val = data.Content;\r\n                createTime.value = data.CreateTime;\r\n                ParentId.value = data.ParentId;\r\n                note_category_Id.value = data.note_category_Id;\r\n                closeToast();\r\n            }).catch((reject) => {\r\n                console.log('查询笔记失败：' + reject);\r\n                Toast.fail('查询笔记失败：' + reject);\r\n            });\r\n        }\r\n        //复制笔记\r\n        const cpId = ref(route.query.cpId ?? 0);\r\n        if (cpId.value && cpId.value > 0) {\r\n            PageTitle.value = '添加笔记';\r\n            showLoadingToast('加载中...');\r\n            store.dispatch('getNoteById', cpId.value).then((resolve) => {\r\n                const data = resolve;\r\n                title.value = \"[复制] \"+data.Title;\r\n                categoryName.value = data.Category;\r\n                content.value = data.Content;\r\n                tmepContent.val = data.Content;\r\n                createTime.value = data.CreateTime;\r\n                ParentId.value = data.ParentId;\r\n                note_category_Id.value = data.note_category_Id;\r\n                closeToast();\r\n            }).catch((reject) => {\r\n                console.log('查询笔记失败：' + reject);\r\n                Toast.fail('查询笔记失败：' + reject);\r\n            });\r\n        }\r\n        //其他笔记的Id\r\n        if (aId.value && aId.value > 0) {\r\n            store.dispatch('getNoteById', aId.value).then((resolve) => {\r\n                const data = resolve;\r\n                categoryName.value = data.Category;\r\n                ParentId.value = data.ParentId;\r\n                note_category_Id.value = data.note_category_Id;\r\n            }).catch((reject) => {\r\n                console.log('查询笔记失败：' + reject);\r\n                Toast.fail('查询笔记失败：' + reject);\r\n            });\r\n        }\r\n        //知识库的Id\r\n        if (CyId.value && CyId.value > 0) {\r\n            store.dispatch('getNoteById', CyId.value).then((resolve) => {\r\n                const data = resolve;\r\n                categoryName.value = data.Title + '/未分类';\r\n                ParentId.value = data.Id;\r\n                note_category_Id.value = 0;\r\n            }).catch((reject) => {\r\n                console.log('查询笔记失败：' + reject);\r\n                Toast.fail('查询笔记失败：' + reject);\r\n            });\r\n        }\r\n        //分类的Id\r\n        if (NCId.value && NCId.value > 0) {\r\n            store.dispatch('getCategoryById', NCId.value).then((resolve) => {\r\n                const data = resolve;\r\n                categoryName.value = data.Title + '/' + data.CName;\r\n                ParentId.value = data.note_Id;\r\n                note_category_Id.value = data.Id;\r\n            }).catch((reject) => {\r\n                console.log('查询笔记失败：' + reject);\r\n                Toast.fail('查询笔记失败：' + reject);\r\n            });\r\n        }\r\n\r\n        //获取富文本值\r\n        const temTitle = ref('');\r\n        const getValue = (valObj) => {\r\n            console.log(valObj.text, valObj.html);\r\n            content.value = valObj.html;\r\n            temTitle.value = valObj.text;\r\n        }\r\n\r\n\r\n        //\r\n        const getCyNoteList = () => {\r\n            store.dispatch('getCyNoteList').then((resolve) => {\r\n                var listData = resolve;\r\n                console.log('getCyNoteList=>' + JSON.stringify(listData));\r\n                for (let i = 0; i < listData.length; i++) {\r\n                    var item = listData[i];\r\n                    options.value.push({ text: item.Title, value: item.Id, children: [] });\r\n                }\r\n            });\r\n        };\r\n        getCyNoteList();\r\n        const showPopup = ref(false);\r\n        const cascaderValue = ref('');\r\n        const options = ref([{ text: '未分类', value: 0, children: [{ text: '未分类', value: 0 }] }]);\r\n\r\n        const onChange = ({ value }) => {\r\n            // 模拟数据请求\r\n            showLoadingToast('加载中...');\r\n            store.dispatch('getCategoryList', { CyNoteId: value }).then((resolve) => {\r\n                var listData = resolve;\r\n                console.log('getCategoryList=>' + JSON.stringify(listData));\r\n                let selectData = [];\r\n                for (let i = 0; i < options.value.length; i++) {\r\n                    const item = options.value[i];\r\n                    if (item.value == value) {\r\n                        selectData = item.children;\r\n                        if (value > 0) {\r\n                            selectData.length = 0;\r\n                            selectData.push({ value: 0, text: '未分类' });\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                for (let i = 0; i < listData.length; i++) {\r\n                    selectData.push({ value: listData[i].Id, text: listData[i].CName });\r\n                }\r\n                closeToast();\r\n            });\r\n        };\r\n\r\n        const onFinish = ({ selectedOptions }) => {\r\n            showPopup.value = false;\r\n            console.log('selectedOptions', JSON.stringify(selectedOptions));\r\n            categoryName.value = selectedOptions.map((option) => option.text).join('/');\r\n            var selectIdstr = selectedOptions.map((option) => option.value).join(' ');\r\n            var selectIdArr = selectIdstr.split(' ');\r\n            ParentId.value = Number(selectIdArr[0]);\r\n            note_category_Id.value = Number(selectIdArr[1]);\r\n            if (ParentId.value == 0) {\r\n                categoryName.value = categoryName.value.split('/')[0];\r\n            }\r\n        };\r\n\r\n        return {\r\n            getValue,\r\n\r\n            onClickLeft,\r\n            onClickRight,\r\n            PageTitle,\r\n            title,\r\n            categoryName,\r\n            content,\r\n            tmepContent,\r\n            createTime,\r\n            root,\r\n            vheight,\r\n            Id,\r\n\r\n            showPopup,\r\n            options,\r\n            onChange,\r\n            onFinish,\r\n            cascaderValue,\r\n\r\n            onClearTitle,\r\n            isShowClearIcon,\r\n            onTitleFocus,\r\n            onTitleBlur,\r\n            onTitleInput,\r\n            titleRef,\r\n\r\n        };\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.nav-bar-addnote {\r\n    position: fixed;\r\n    width: 100%;\r\n    top: 0px;\r\n}\r\n\r\n.addcontent {\r\n    margin-top: 46px;\r\n    padding: 16px 20px;\r\n\r\n    .title {\r\n        width: 100%;\r\n        font-size: 20px;\r\n        line-height: 20px;\r\n        border: none;\r\n    }\r\n\r\n    .title::placeholder {\r\n        font-size: x-large;\r\n        font-weight: 600;\r\n        color: #666;\r\n    }\r\n\r\n    .date-info {\r\n        text-align: left;\r\n        padding-left: 0px !important;\r\n        padding-right: 0px !important;\r\n\r\n        .category-name,\r\n        .arrow-down {\r\n            color: deepskyblue;\r\n        }\r\n    }\r\n\r\n    .note-content {\r\n        width: 100%;\r\n        border: none;\r\n        height: v-bind(\"vheight\");\r\n        margin-top: 10px;\r\n        border-top: 1px solid #efefef;\r\n        padding-top: 5px;\r\n    }\r\n    .title-box{\r\n        position: relative;\r\n\r\n        .van-icon-cross{\r\n            font-size: 16px !important;\r\n            position: absolute;\r\n            top: 4px;\r\n            color: red;\r\n            font-weight: 600;\r\n\r\n        }\r\n    }\r\n}\r\n</style>","export function getNowDateString(typ) {\r\n    const nowdate = new Date();\r\n    let y = nowdate.getFullYear();\r\n    let m = nowdate.getMonth() + 1;\r\n    let d = nowdate.getDate();\r\n    let h = nowdate.getHours();\r\n    let mn = nowdate.getMinutes();\r\n    m = m < 10 ? ('0' + m) : m;\r\n    d = d < 10 ? ('0' + d) : d;\r\n    h = h < 10 ? ('0' + h) : h;\r\n    mn = mn < 10 ? ('0' + mn) : mn;\r\n    if(typ && typ === 1){\r\n        return [y, '-', m, '-', d, ' ', h, ':', mn].join('');\r\n    }\r\n    return [y, '年', m, '月', d, '日 ', h, ':', mn].join('');\r\n}\r\nexport function getNowTimestamp() {\r\n    return Date.now();\r\n}\r\n//date 格式为yyyy-mm-dd的日期，如：2022-03-25\r\nexport function getPreDate(date) {\r\n    var arr = date.split('-');\r\n    var year = arr[0]; //获取当前日期的年份\r\n    var month = arr[1]; //获取当前日期的月份\r\n    var day = arr[2]; //获取当前日期的日\r\n    var year2 = year;\r\n    var month2 = parseInt(month) - 1;\r\n    if (month2 == 0) {\r\n        year2 = parseInt(year2) - 1;\r\n        month2 = 12;\r\n    }\r\n    var day2 = day;\r\n    var days2 = new Date(year2, month2, 0);\r\n    days2 = days2.getDate();\r\n    if (day2 > days2) {\r\n        day2 = days2;\r\n    }\r\n    if (month2 < 10) {\r\n        month2 = '0' + month2;\r\n    }\r\n    var t2 = year2 + '-' + month2 + '-' + day2;\r\n    return t2;\r\n}\r\n//date 格式为yyyy-mm-dd的日期，如：2022-03-25\r\nexport function getNextDate(date) {\r\n    var arr = date.split('-');\r\n    var year = arr[0]; //获取当前日期的年份\r\n    var month = arr[1]; //获取当前日期的月份\r\n    var day = arr[2]; //获取当前日期的日\r\n    var year2 = year;\r\n    var month2 = parseInt(month) + 1;\r\n    if (month2 == 13) {\r\n        year2 = parseInt(year2) + 1;\r\n        month2 = 1;\r\n    }\r\n    var day2 = day;\r\n    var days2 = new Date(year2, month2, 0);\r\n    days2 = days2.getDate();\r\n    if (day2 > days2) {\r\n        day2 = days2;\r\n    }\r\n    if (month2 < 10) {\r\n        month2 = '0' + month2;\r\n    }\r\n\r\n    var t2 = year2 + '-' + month2 + '-' + day2;\r\n    return t2;\r\n}\r\n\r\nexport function getPreMonths(Year, Month) {\r\n    if (Month > 12) {\r\n        Month = 12;\r\n    }\r\n    if (Month < 0) {\r\n        Month = 1;\r\n    }\r\n    if (Month == 1) {\r\n        Year = Year - 1;\r\n        Month = 12;\r\n    } else {\r\n        Month = Month - 1;\r\n    }\r\n    return {\r\n        Year: Year,\r\n        Month: Month\r\n    };\r\n}\r\n\r\nexport function getNextMonths(Year, Month) {\r\n    if (Month > 12) {\r\n        Month = 12;\r\n    }\r\n    if (Month < 0) {\r\n        Month = 1;\r\n    }\r\n    if (Month == 12) {\r\n        Year = Year + 1;\r\n        Month = 1;\r\n    } else {\r\n        Month = Month + 1;\r\n    }\r\n    return {\r\n        Year: Year,\r\n        Month: Month\r\n    };\r\n}","<template>\r\n    <div id=\"richTextID\" class=\"richText\" @click=\"clickRichText\" :contenteditable=\"editable\" @keydown.enter=\"enterKeydown\"\r\n        @blur=\"blurRichText\" ref=\"richDiv\"></div>\r\n    <van-back-top v-if=\"!editable\" target=\".richText\" bottom=\"10vh\" right=\"3vw\" />\r\n    <div class=\"tooltip\" v-if=\"editable\">\r\n        <!--粗体-->\r\n        <button @click=\"changeFont('B')\">B</button>\r\n        <!--字体下划线-->\r\n        <button class=\"under\" @click=\"changeFont('U')\">U</button>\r\n        <!--斜字体-->\r\n        <button @click=\"changeFont('I')\">I</button>\r\n        <!--创建链接-->\r\n        <button @click=\"changeFont('L')\">\r\n            <van-icon name=\"link-o\" />\r\n        </button>\r\n        <!--选中字体颜色-->\r\n        <button class=\"fontColor\" @click=\"changeFont('A')\">A</button>\r\n        <!--选中字体背景色-->\r\n        <button class=\"backFontColor\" @click=\"changeFont('AB')\"><span>A</span></button>\r\n        <!--网络图片地址-->\r\n        <button @click=\"changeFont('PH')\">\r\n            <van-icon name=\"photo-o\" />\r\n        </button>\r\n        <!--本地图片-->\r\n        <button @click=\"changeFont('PH2')\">\r\n            <van-icon name=\"photo\" />\r\n        </button>\r\n        <!--拍照-->\r\n        <button @click=\"changeFont('Camera')\">\r\n            <van-icon name=\"photograph\" />\r\n        </button>\r\n        <!--本地图片 base64编码方式存到app-->\r\n        <!-- <button @click=\"changeFont('PH3')\">\r\n            <van-icon name=\"photo\" color=\"red\" />\r\n        </button> -->\r\n        <!--待办复选框-->\r\n        <button @click=\"changeFont('TODO')\">\r\n            <van-icon name=\"certificate\" />\r\n        </button>\r\n        <!--无序列表-->\r\n        <button @click=\"changeFont('BList')\">\r\n            <van-icon name=\"bars\" />\r\n        </button>\r\n        <!--有序列表-->\r\n        <button @click=\"changeFont('NList')\">\r\n            <van-icon name=\"descending\" />\r\n        </button>\r\n        <button @click=\"changeFont('Time')\">\r\n            <van-icon name=\"tosend\" />\r\n        </button>\r\n        <button @click=\"changeFont('SelFile')\">\r\n            <van-icon name=\"description\" />\r\n        </button>\r\n    </div>\r\n    <van-dialog class=\"showPicUrlDialog\" v-model:show=\"showPicUrl\" title=\"图片地址\" show-cancel-button\r\n        @confirm=\"showPicUrlconfirm\" @closed=\"reCursorposition\">\r\n        <textarea v-model=\"picUrl\" rows=\"6\" style=\"width:96%;border: 1px solid #e1dcdc;\"></textarea>\r\n    </van-dialog>\r\n    <van-dialog class=\"showPicUrlDialog\" v-model:show=\"showLinkUrl\" title=\"设置超链接\" show-cancel-button\r\n        @confirm=\"showLinkUrlconfirm\">\r\n        <textarea v-model=\"linkUrl\" rows=\"6\" style=\"width:96%;border: 1px solid #e1dcdc;\"></textarea>\r\n    </van-dialog>\r\n\r\n    <!--图片预览-->\r\n    <van-image-preview v-model:show=\"showPreview\" :start-position=\"startPosition\" :images=\"previewImages\"\r\n        @long-press=\"onLongPressEvent\" @change=\"onPreviewChange\">\r\n        <template v-slot:previewIndex>第{{ previewIndex + 1 }}页</template>\r\n    </van-image-preview>\r\n    <!--下载图片-->\r\n    <van-action-sheet v-model:show=\"showDownPic\" @select=\"selectDownPicSheet\" :actions=\"actionsPic\" cancel-text=\"取消\"\r\n        close-on-click-action @cancel=\"onCancelDownPic\" />\r\n    <!--修改文件名-->\r\n    <van-dialog class=\"showPicUrlDialog\" v-model:show=\"showEditFileName\" title=\"文件名\" show-cancel-button\r\n        @confirm=\"onEditFileNameConfirm\" @closed=\"reCursorposition\">\r\n        <p>{{ selectFileName }}</p>\r\n        <textarea v-model=\"editFileName\" placeholder=\"输入文件名\" rows=\"4\"\r\n            style=\"width:96%;border: 1px solid #e1dcdc;\"></textarea>\r\n    </van-dialog>\r\n    <!--上传文件编辑-->\r\n    <van-action-sheet v-model:show=\"showFileActionSheet\" @select=\"selectEditFileSheet\" :actions=\"actionsFileItem\"\r\n        cancel-text=\"取消\" :description=\"editFileActionDes\" close-on-click-action />\r\n</template>\r\n<script>\r\nimport { Toast } from '@vant/compat';\r\nimport { ref } from 'vue';\r\n\r\nimport { watch } from 'vue';\r\n\r\nimport { showConfirmDialog, showToast } from 'vant';\r\n\r\nimport { useStore } from 'vuex';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { pasteText, clearText } from '@/plugin/clipboard';\r\n\r\nimport { Takefromgalery, TakefromCamera, Takefromgalery2DataURL } from '@/plugin/camera';\r\nimport { getNowDateString } from '@/util/date';\r\nimport { replaceNativeURL, getPathInfo } from '@/util/path';\r\nimport { filesPath } from '@/util/config';\r\nimport { saveNetImage, downloadImage, selectFile, copyFile, fileOpener, removeFile } from '@/plugin/file';\r\n\r\n\r\nexport default {\r\n    name: \"RichText\",\r\n    props: {\r\n        //展示内容\r\n        value: {\r\n            type: Object,\r\n            default: () => ({ val: '', type: '0' })\r\n        },\r\n        //是否可编辑\r\n        editable: {\r\n            type: Boolean,\r\n            default: () => true\r\n        }\r\n    },\r\n    emits: {\r\n        'getValue': null,\r\n        'invokeMethod':null,\r\n    },\r\n    setup(props, context) {\r\n\r\n        const store = useStore();\r\n        const router = useRouter();\r\n        \r\n        const richDiv = ref(null);\r\n        watch(() => props.value, (newVal, oldVal) => {\r\n            var rs = {};\r\n            if (newVal.type == '0') {\r\n                richDiv.value.innerHTML = newVal.val;\r\n                let imgs = document.getElementById('richTextID').getElementsByTagName('img');\r\n                console.log('imgs length ', imgs.length);\r\n                if (imgs.length > 0) {\r\n                    if (!editable.value) {//阅读模式下\r\n                        let num = 0;\r\n                        for (let i = 0; i < imgs.length; i++) {\r\n                            const img = imgs[i];\r\n                            let imgsrc = img.src;\r\n                            if (imgsrc.startsWith('file://')) {\r\n                                imgsrc = replaceNativeURL(imgsrc);//替换跟宿主机路径不一样的图片路径\r\n                                if (imgsrc != img.src) {\r\n                                    img.src = imgsrc;\r\n                                    num++;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (num > 0) {\r\n                            rs = { changeInputCheck: true };\r\n                        }\r\n                    }\r\n                }\r\n                setRichText(rs);\r\n            }\r\n        }, { deep: true });\r\n\r\n        //点击图片 长按保存\r\n        const showPreview = ref(false);\r\n        const previewImages = ref([]);\r\n        const previewIndex = ref(0);\r\n        const startPosition = ref(0);\r\n\r\n        const onPreviewChange = (index) => {\r\n            previewIndex.value = index;\r\n        };\r\n\r\n        const onLongPressEvent = (index) => {\r\n            showDownPic.value = true;\r\n        };\r\n        const showDownPic = ref(false);\r\n        const actionsPic = [{ name: '下载图片' }, { name: \"其他应用打开\" }];\r\n        const onCancelDownPic = () => {\r\n\r\n        };\r\n        const selectDownPicSheet = (action, index) => {\r\n            console.log('action', action, 'index', index);\r\n            if (index == 0) {\r\n                let downUrl = previewImages.value[previewIndex.value];\r\n                console.log(\"down url:\", downUrl);\r\n                downloadImage(downUrl).then((res) => {\r\n                    console.log(\"download image:\", res);\r\n                    Toast.success('下载成功');\r\n                }).catch((err) => {\r\n                    console.log(\"download image err:\", err);\r\n                    Toast.fail('下载失败');\r\n                });\r\n            } else if (index == 1) {\r\n                let downUrl = previewImages.value[previewIndex.value];\r\n                fileOpener(downUrl).then(() => {\r\n                    console.log('open file success');\r\n                }).catch((e) => {\r\n                    console.log('open file fail', e);\r\n                    Toast('open file fail' + e);\r\n                });\r\n            }\r\n        };\r\n\r\n        //点击文件，编辑文件信息\r\n        const showFileActionSheet = ref(false);\r\n        const actionsFileItem = [{ name: \"其他应用打开\" }, { name: \"编辑文件名\" }, { name: \"下载文件\" }, { name: \"删除文件\" }];\r\n        const editFileActionDes = ref('文件操作');\r\n\r\n        const showEditFileFlag = ref(false); //是否显示编辑文件名\r\n        const selectTarget = ref(null);//选中的文件对象\r\n        const selectEditFileSheet = (action, index) => {\r\n            if (index == 0) {\r\n                console.log('open file');\r\n                //其他应用打开\r\n                fileOpener(selectFilePath.value).then(() => {\r\n                    console.log('open file success');\r\n                }).catch((e) => {\r\n                    console.log('open file fail', e);\r\n                    Toast('open file fail' + e);\r\n                });\r\n            } else if (index == 1) {\r\n                //重命名\r\n                showEditFileFlag.value = true;\r\n                showEditFileName.value = true;\r\n            } else if (index == 2) {\r\n                //下载文件\r\n                console.log('download file');\r\n                var downFileName = \"\";\r\n                var info = getPathInfo(selectFilePath.value);\r\n                if (editFileName.value.endsWith(info.ext)) {\r\n                    downFileName = editFileName.value;\r\n                } else {\r\n                    downFileName = editFileName.value + info.ext;\r\n                }\r\n                downloadImage(selectFilePath.value, \"Documents\", downFileName).then((res) => {\r\n                    console.log(\"download file:\", res);\r\n                    Toast.success('下载成功');\r\n                }).catch((err) => {\r\n                    console.log(\"download file err:\", err);\r\n                    Toast.fail('下载失败');\r\n                });\r\n            } else if (index == 3) {\r\n                //删除文件\r\n                console.log('delete file');\r\n                showConfirmDialog({\r\n                    title: '提示',\r\n                    message: '确定要删除该文件吗？',\r\n                }).then(async () => {\r\n                    //删除文件\r\n                    removeFile(selectFilePath.value).then(() => {\r\n                        //删除节点\r\n                        selectTarget.value.parentNode.removeChild(selectTarget.value);\r\n                        setRichText({ changeInputCheck: true });\r\n                        Toast.success('删除成功');\r\n                    }).catch((err) => {\r\n                        console.log(\"delete file err:\", err);\r\n                        Toast.fail('删除失败');\r\n                    });\r\n                }).catch(() => {\r\n                });\r\n            }\r\n        };\r\n\r\n        //input[checkbox] 状态保存\r\n        const clickRichText = (e) => {\r\n            if (e.target.className == 'checkbox') {\r\n                console.log('checked');\r\n                //判断是否有多个checkbox，如果是则不处理\r\n                const parent = e.target.parentNode;\r\n                console.log('parent', parent);\r\n                const childrens = parent.children;\r\n                let num = 0;\r\n                for (let index = 0; index < childrens.length; index++) {\r\n                    const el = childrens[index];\r\n                    if (el.type == 'checkbox') {\r\n                        num++;\r\n                    }\r\n                    if (num > 1) {\r\n                        break;\r\n                    }\r\n                }\r\n                //设置input[checkbox]状态\r\n                if (e.target.checked) {\r\n                    e.target.setAttribute('checked', true);\r\n                    if (num == 1) {\r\n                        parent.className += ' checkdivChecked';\r\n                    }\r\n                } else {\r\n                    e.target.removeAttribute('checked');\r\n                    let className = parent.className;\r\n                    let pclasslist = className.split(' ');\r\n                    let index = pclasslist.indexOf('checkdivChecked');\r\n                    if (index != -1) {\r\n                        pclasslist.splice(index, 1);\r\n                        parent.className = pclasslist.join(' ');\r\n                    }\r\n                }\r\n                setRichText({ changeInputCheck: true });\r\n            } else if (!editable.value && e.target.localName == 'img') {\r\n                //img \r\n                var imgsrc = e.target.src;\r\n                console.log('imgsrc', imgsrc);\r\n                let imgsrcList = [];\r\n                let imgs = document.getElementById('richTextID').getElementsByTagName('img');\r\n                let location = 0;\r\n                for (let i = 0; i < imgs.length; i++) {\r\n                    const img = imgs[i];\r\n                    console.log('img', img, ' compare:', img.src == imgsrc);\r\n                    if (img.src == imgsrc) {\r\n                        location = i;\r\n                    }\r\n                    imgsrcList.push(img.src);\r\n                }\r\n                previewImages.value = imgsrcList;\r\n                previewIndex.value = location;\r\n                startPosition.value = location;\r\n                console.log('previewIndex', previewIndex.value);\r\n                //展示预览\r\n                showPreview.value = true;\r\n            } else if (!editable.value && e.target.className == 'uploadfile') {\r\n                //是否打开上传的文件\r\n                selectFilePath.value = e.target.getAttribute('data-path');\r\n                console.log('data-path', selectFilePath.value);\r\n                editFileActionDes.value = e.target.innerText;\r\n                selectFileName.value = e.target.innerText;\r\n                editFileName.value = e.target.innerText;\r\n\r\n                selectTarget.value = e.target;\r\n\r\n                showFileActionSheet.value = true;\r\n            }else if(!editable.value && e.target.className == 'appUrl'){\r\n                //appUrl\r\n                var noteId = e.target.getAttribute('data-Id');\r\n                console.log('click appUrl :',noteId);\r\n                context.emit('invokeMethod',{typ:'appUrl',param:{noteId:noteId}})\r\n            }\r\n        }\r\n\r\n\r\n        const blurRichText = (e) => {\r\n            console.log(e);\r\n            context.emit('getValue', { html: e.target.innerHTML, text: e.target.innerText });\r\n        }\r\n\r\n        const setRichText = (obj) => {\r\n            var rs = { html: richDiv.value.innerHTML, text: richDiv.value.innerText };\r\n            if (obj) {\r\n                rs = Object.assign({}, rs, obj);\r\n            }\r\n            context.emit('getValue', rs);\r\n\r\n            let imgs = document.getElementById('richTextID').getElementsByTagName('img');\r\n            if (imgs.length > 0) {\r\n                for (let i = 0; i < imgs.length; i++) {\r\n                    const simg = imgs[i];\r\n                    if (simg.src.startsWith('http://') || simg.src.startsWith('https://')) {\r\n                        saveNetImage(simg.src).then(res => {\r\n                            console.log('res', res);\r\n                            simg.setAttribute('data-source-url', simg.src)\r\n                            simg.src = res;\r\n                        });\r\n                    } else if (simg.src.startsWith('data:image/') || simg.src.startsWith('file://')) {\r\n                        let sourceurl = simg.getAttribute('data-source-url');\r\n                        if (sourceurl) {\r\n                            saveNetImage(sourceurl).then(res => {\r\n                                console.log('res', res);\r\n                                if (simg.src != res) {\r\n                                    simg.src = res;\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        //设置超链接\r\n        const showLinkUrl = ref(false);\r\n        const linkUrl = ref(''); //地址\r\n        const showLinkUrlconfirm = () => {\r\n            console.log('linkUrl', linkUrl.value);\r\n            if (linkUrl.value.trim().length > 0) {\r\n                setSelectionRange();\r\n                const selection = window.getSelection();\r\n                if (selection.rangeCount > 0) {\r\n                    console.log('恢复选择文本了:',selection.toString(),selection.toString().length);\r\n                    if(linkUrl.value.startsWith('appnote:Id')){\r\n                        var noteId = linkUrl.value.replace('appnote:Id=','');\r\n                        if(selection.toString().length>0){\r\n                            var htmlstr = `<div class=\"appUrl\" style=\"color: #1989fa;text-decoration: underline;margin: 13px 6px;\" data-Id=\"${noteId}\">${selection.toString()}</div>`;\r\n                            document.execCommand(\"insertHTML\", false, htmlstr);\r\n                            document.execCommand('insertHTML', false, \"<br/>\");\r\n                        }else{\r\n                            store.dispatch('getNoteById', noteId).then((res)=>{\r\n                                const data = res;\r\n                                var title = data.Title;\r\n                                if(title != null && title.length > 0){\r\n                                    var htmlstr = `<div class=\"appUrl\" style=\"color: #1989fa;text-decoration: underline;margin: 13px 6px;\" data-Id=\"${noteId}\">${title}</div>`;\r\n                                    document.execCommand(\"insertHTML\", false, htmlstr);\r\n                                    document.execCommand('insertHTML', false, \"<br/>\");\r\n                                }\r\n                            }).catch((err)=>{\r\n                                //document.execCommand(\"CreateLink\", false, linkUrl.value);   \r\n                                Toast('err copy url'); \r\n                            });\r\n                        }\r\n                        pasteText().then((res)=>{\r\n                            console.log(res);\r\n                            if(res.length>0 && res.startsWith('appnote:Id')){\r\n                                clearText();//清除文本\r\n                            }\r\n                        }).catch((err)=>{\r\n                            console.log(err);\r\n                        });\r\n                    }else{\r\n                        if(selection.toString().length > 0){\r\n                            document.execCommand(\"CreateLink\", false, linkUrl.value);\r\n                        }else{\r\n                            var htmlstr = `<a href=\"${linkUrl.value}\">${linkUrl.value}</a>`;\r\n                                document.execCommand(\"insertHTML\", false, htmlstr);\r\n                                document.execCommand('insertHTML', false, \"<br/>\");\r\n                        }\r\n                    }\r\n                    setRichText();\r\n                }\r\n            } else {\r\n                Toast('请输入超链接地址')\r\n            }\r\n\r\n        }\r\n\r\n\r\n        const showPicUrl = ref(false); //是否展示图片地址弹框\r\n        const picUrl = ref(''); //图片网络地址\r\n\r\n        //上传文件\r\n        const showEditFileName = ref(false); //是否展示修改文件名弹框\r\n        const selectFileName = ref(''); //当前选中的文件名\r\n        const editFileName = ref(''); //修改后的文件名\r\n        const selectFilePath = ref(''); //当前选中的文件路径\r\n        const onEditFileNameConfirm = () => {\r\n            console.log('editFileName', editFileName.value);\r\n            if (editFileName.value.trim().length > 0) {\r\n                if (!showEditFileFlag.value) {\r\n                    //上传文件\r\n                    var info = getPathInfo(selectFilePath.value);\r\n                    var timestr = 'upload_file_' + new Date().getTime();\r\n                    copyFile(selectFilePath.value, filesPath, \"document\"+info.ext, timestr + info.ext).then((data) => {\r\n                        console.log('copyFile', data.toURL());\r\n                        richDiv.value.focus();\r\n                        //设置光标位置\r\n                        setSelectionRange();\r\n                        var htmlstr = `<div class=\"uploadfile\" style=\"color: #1989fa;text-decoration: underline;margin: 13px 6px;\" data-path=\"${data.toURL()}\">${editFileName.value}${info.ext}</div>`;\r\n                        document.execCommand(\"insertHTML\", false, htmlstr);\r\n                        document.execCommand('insertHTML', false, \"<br/>\");\r\n                        showEditFileName.value = false;\r\n                        setRichText();\r\n                    }).catch((err) => {\r\n                        console.log('err', err);\r\n                        Toast('上传文件失败');\r\n                    })\r\n                } else {\r\n                    //编辑文件名\r\n                    showEditFileFlag.value = false;\r\n                    var info = getPathInfo(selectFilePath.value);\r\n                    if (!editFileName.value.endsWith(info.ext)) {\r\n                        selectTarget.value.innerText = editFileName.value + info.ext;\r\n                    } else {\r\n                        selectTarget.value.innerText = editFileName.value;\r\n                    }\r\n                    showEditFileName.value = false;\r\n                    var rs = { changeInputCheck: true };\r\n                    setRichText(rs);\r\n\r\n                }\r\n\r\n            } else {\r\n                Toast('请输入文件名')\r\n            }\r\n        };\r\n\r\n        const changeFont = (typ) => {\r\n            if (typ == 'B') {//粗体\r\n                document.execCommand(\"Bold\", false, null);\r\n                setRichText();\r\n            } else if (typ == 'U') {//下划线\r\n                document.execCommand(\"Underline\", false, null);\r\n                setRichText();\r\n            } else if (typ == 'I') {//斜体\r\n                document.execCommand(\"Italic\", false, null);\r\n                setRichText();\r\n            } else if (typ == 'L') {//设置超链接,链接地址是选中的文字\r\n                linkUrl.value = \"\";\r\n                showLinkUrl.value = true;\r\n                getSelectionRange();\r\n            } else if (typ == 'A') {//字体颜色\r\n                document.execCommand(\"ForeColor\", false, '#ff4d4f');\r\n                setRichText();\r\n            } else if (typ == 'AB') {//字体背景颜色\r\n                document.execCommand(\"BackColor\", false, '#40a9ff');\r\n                setRichText();\r\n            } else if (typ == 'BList') {//无序列表\r\n                document.execCommand(\"insertUnorderedList\", false, null);\r\n                setRichText();\r\n            } else if (typ == 'NList') {//有序列表\r\n                document.execCommand(\"insertOrderedList\", false, null);\r\n                setRichText();\r\n            } else if (typ == 'TODO') {//待办\r\n                //checkbox的html\r\n                var htmlStr = `<div class=\"checkdiv\"><input type=\"checkbox\" class=\"checkbox\"/></div>`;\r\n\r\n                document.execCommand(\"insertHTML\", false, htmlStr);\r\n                setRichText();\r\n            } else if (typ == 'PH') {//网上图片\r\n                picUrl.value = \"\";\r\n                showPicUrl.value = true;\r\n                getSelectionRange();\r\n            } else if (typ == 'PH2') {//本地图片\r\n                getSelectionRange();\r\n                //调用相册接口\r\n                Takefromgalery().then((resole) => {\r\n                    console.log(resole);\r\n                    if (resole.type == 'base64') {\r\n                        var htmlStr = `<div class=\"photobox\" style=\"width: 100%;\"><img class=\"insertphoto\" src=\"data:image/jpeg;base64,${resole.data}\" style=\"width: 100%;\"></div>`;\r\n                        document.execCommand(\"insertHTML\", false, htmlStr);\r\n                        document.execCommand('insertHTML', false, \"<br/>\");\r\n                    } else {\r\n                        var htmlStr = `<div class=\"photobox\" style=\"width: 100%;\"><img class=\"insertphoto\" src=\"${resole.data}\" style=\"width: 100%;\"></div>`;\r\n                        //document.execCommand(\"insertText\", false, htmlStr);\r\n                        document.execCommand(\"insertHTML\", false, htmlStr);\r\n                        document.execCommand('insertHTML', false, \"<br/>\");\r\n                    }\r\n                }).catch((e) => {\r\n                    console.log(e);\r\n                    Toast(e);\r\n                });\r\n            } else if (typ == 'Camera') {//拍照\r\n                getSelectionRange();\r\n                //调用相册接口\r\n                TakefromCamera().then((resole) => {\r\n                    console.log(resole);\r\n                    if (resole.type == 'base64') {\r\n                        var htmlStr = `<div class=\"photobox\" style=\"width: 100%;\"><img class=\"insertphoto\" src=\"data:image/jpeg;base64,${resole.data}\" style=\"width: 100%;\"></div>`;\r\n                        document.execCommand(\"insertHTML\", false, htmlStr);\r\n                        document.execCommand('insertHTML', false, \"<br/>\");\r\n                    } else {\r\n                        var htmlStr = `<div class=\"photobox\" style=\"width: 100%;\"><img class=\"insertphoto\" src=\"${resole.data}\" style=\"width: 100%;\"></div>`;\r\n                        //document.execCommand(\"insertText\", false, htmlStr);\r\n                        document.execCommand(\"insertHTML\", false, htmlStr);\r\n                        document.execCommand('insertHTML', false, \"<br/>\");\r\n                    }\r\n                }).catch((e) => {\r\n                    console.log(e);\r\n                    Toast(e);\r\n                });\r\n\r\n            } else if (typ == 'PH3') {//本地图片 base64编码方式存到app里面\r\n                getSelectionRange();\r\n                //调用相册接口\r\n                Takefromgalery2DataURL().then((resole) => {\r\n                    console.log(resole);\r\n                    if (resole.type == 'base64') {\r\n                        var htmlStr = `<div class=\"photobox\" style=\"width: 100%;\"><img class=\"insertphoto\" src=\"data:image/jpeg;base64,${resole.data}\" style=\"width: 100%;\"></div>`;\r\n                        document.execCommand(\"insertHTML\", false, htmlStr);\r\n                        document.execCommand('insertHTML', false, \"<br/>\");\r\n                    } else {\r\n                        var htmlStr = `<div class=\"photobox\" style=\"width: 100%;\"><img class=\"insertphoto\" src=\"${resole.data}\" style=\"width: 100%;\"></div>`;\r\n                        //document.execCommand(\"insertText\", false, htmlStr);\r\n                        document.execCommand(\"insertHTML\", false, htmlStr);\r\n                        document.execCommand('insertHTML', false, \"<br/>\");\r\n                    }\r\n                }).catch((e) => {\r\n                    console.log(e);\r\n                    Toast(e);\r\n                });\r\n            } else if (typ == 'Time') {//时间\r\n                //checkbox的html\r\n                var datestr = getNowDateString(1);\r\n                var htmlStr = `[${datestr}]`;\r\n                document.execCommand(\"insertHTML\", false, htmlStr);\r\n                setRichText();\r\n            } else if (typ == 'SelFile') {\r\n                //选择文件 并上传\r\n                getSelectionRange();\r\n                selectFile().then((uri) => {\r\n                    console.log(uri);\r\n                    selectFilePath.value = uri;\r\n                    var info = getPathInfo(uri);\r\n                    //弹窗口\r\n                    editFileName.value = info.name;\r\n                    selectFileName.value = info.name + info.ext;\r\n                    showEditFileName.value = true;\r\n                }).catch((e) => {\r\n                    console.log(e);\r\n                    Toast(e);\r\n                });\r\n\r\n            }\r\n        }\r\n\r\n        let rangeRef = ref(null);\r\n        //获取光标位置\r\n        const getSelectionRange = () => {\r\n            //提前获取光标位置\r\n            let selection = window.getSelection();\r\n            console.log(selection);\r\n            let range = selection.getRangeAt(0); //获取光标位置\r\n            rangeRef.value = range; //保存光标位置\r\n            console.log(range);\r\n        }\r\n        //设置光标位置\r\n        const setSelectionRange = () => {\r\n            //恢复光标位置\r\n            var sel = window.getSelection();\r\n            sel.removeAllRanges();\r\n            sel.addRange(rangeRef.value);\r\n        }\r\n\r\n        //图片网址\r\n        const showPicUrlconfirm = () => {\r\n            if (picUrl.value.trim().length > 0) {\r\n                //showPicUrl.value = false;\r\n                console.log('showPicUrlconfirm');\r\n                console.log('picUrl', picUrl.value);\r\n                richDiv.value.focus();\r\n                //设置光标位置\r\n                setSelectionRange();\r\n                //document.execCommand(\"insertImage\", false, picUrl.value);\r\n                var htmlStr = `<img src=\"${picUrl.value}\" style=\"width: 100%;\">`;\r\n                document.execCommand(\"insertHTML\", false, htmlStr);\r\n                document.execCommand('insertHTML', false, \"<br/>\");\r\n                setRichText();\r\n            } else {\r\n                Toast('请输入图片地址')\r\n            }\r\n\r\n        }\r\n        //恢复光标位置\r\n        const reCursorposition = (e) => {\r\n            richDiv.value.focus();\r\n            setSelectionRange();\r\n        }\r\n        //处理换行时系统在空的div加上class = 'checkdivChecked'\r\n        //换行时去掉空div的类名checkdivChecked\r\n        const enterAfter = (e) => {\r\n            var parent = e.target;\r\n            //checkbox\r\n            var checkdivList = parent.querySelectorAll('.checkdiv');\r\n            console.log(checkdivList);\r\n            if (checkdivList.length > 0) {\r\n                for (let index = 0; index < checkdivList.length; index++) {\r\n                    const el = checkdivList[index];\r\n                    var inputCheck = el.querySelector('.checkbox');\r\n                    if (inputCheck == null) {\r\n                        let className = el.className;\r\n                        let pclasslist = className.split(' ');\r\n                        let index = pclasslist.indexOf('checkdivChecked');\r\n                        if (index != -1) {\r\n                            pclasslist.splice(index, 1);\r\n                            el.className = pclasslist.join(' ');\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        //换行自动添加input[checkbox]\r\n        const newInputCheckbox = (range, inc) => {\r\n            console.log('kd', range);\r\n            //在checkbox行换行的时候自动插入inputcheckbox\r\n            let parentCheckbox = range.startContainer.parentNode;\r\n            let classList = parentCheckbox.className.split(' ');\r\n            if (classList.indexOf('checkdiv') != -1) {\r\n                var inputCheck = parentCheckbox.querySelector('.checkbox');\r\n                if (inputCheck != null) {\r\n                    var htmlStr = `<div class=\"checkdiv box${inc}\"><input type=\"checkbox\" class=\"checkbox\"/></div>`;\r\n                    document.execCommand(\"insertHTML\", false, htmlStr);\r\n                    setRichText();\r\n                    console.log('add input[checkbox]');\r\n                }\r\n            }\r\n        }\r\n\r\n        //监听换行事件\r\n        const incRef = ref(0);\r\n        const enterKeydown = (e) => {\r\n            console.log('键盘', e)\r\n            let selection = window.getSelection();\r\n            console.log(selection);\r\n            let range = selection.getRangeAt(0); //获取光标位置\r\n            setTimeout(function () {\r\n                enterAfter(e);\r\n                newInputCheckbox(range, incRef.value);\r\n            }, 200)\r\n            incRef.value = incRef.value + 1;\r\n        }\r\n\r\n        const editable = ref(props.editable);\r\n\r\n\r\n        return {\r\n            richDiv,\r\n            blurRichText,\r\n            changeFont,\r\n            enterKeydown,\r\n            clickRichText,\r\n            editable,\r\n            showPicUrl,\r\n            showPicUrlconfirm,\r\n            picUrl,\r\n\r\n            showLinkUrl,\r\n            linkUrl,\r\n            showLinkUrlconfirm,\r\n\r\n            showPreview,\r\n            previewImages,\r\n            previewIndex,\r\n            startPosition,\r\n            onPreviewChange,\r\n            onLongPressEvent,\r\n\r\n            onCancelDownPic,\r\n            showDownPic,\r\n            actionsPic,\r\n            selectDownPicSheet,\r\n\r\n            showEditFileName,\r\n            selectFileName,\r\n            editFileName,\r\n            onEditFileNameConfirm,\r\n\r\n            showFileActionSheet,\r\n            actionsFileItem,\r\n            editFileActionDes,\r\n            selectEditFileSheet,\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.richText {\r\n    text-align: left;\r\n    width: 100%;\r\n    height: 100%;\r\n    //border: 1px solid;\r\n    overflow: auto;\r\n\r\n    line-height: 24px !important;\r\n}\r\n\r\n.richText ul {\r\n    list-style: auto !important;\r\n    margin: 8px 25px;\r\n}\r\n\r\n.richText ul li {\r\n    list-style: inside;\r\n    display: list-item !important;\r\n}\r\n\r\n.richText ol {\r\n    list-style: auto !important;\r\n    padding: revert !important;\r\n    margin-top: 8px;\r\n    margin-bottom: 8px;\r\n}\r\n\r\n.richText .checkbox {\r\n    margin-left: 16px;\r\n    margin-right: 5px;\r\n    position: relative;\r\n    top: 2px;\r\n}\r\n\r\n.richText:focus {\r\n    outline: none;\r\n}\r\n\r\n.richText .checkdivChecked {\r\n    text-decoration: line-through;\r\n    color: #999;\r\n}\r\n\r\n.tooltip {\r\n    position: fixed;\r\n    bottom: 0px;\r\n    width: 100%;\r\n    text-align: left;\r\n    left: 0px;\r\n    background: #fff;\r\n\r\n    button {\r\n        width: 42px;\r\n        height: 28px;\r\n        background: #fff;\r\n        border: 1px #111;\r\n    }\r\n\r\n    button:active {\r\n        background-color: #d5ddd5;\r\n        color: #fff;\r\n    }\r\n\r\n    button.under,\r\n    button.fontColor {\r\n        text-decoration: underline;\r\n    }\r\n\r\n    button.backFontColor span {\r\n        position: relative;\r\n        background: #000;\r\n        color: #fff;\r\n        padding: 2px 4px;\r\n    }\r\n}\r\n\r\n.showPicUrlDialog input {\r\n    border: 1px solid #eee;\r\n    width: 94%;\r\n    height: 30px;\r\n    border-radius: 2px;\r\n}\r\n</style>","export function copyText(text){\r\n    return new Promise((resolve, reject)=>{\r\n        //复制文本到剪贴板\r\n        cordova.plugins.clipboard.copy(text, function () {\r\n            resolve();\r\n        }, function (err) {\r\n            reject(err);\r\n        });\r\n    });\r\n}\r\nexport function pasteText(){\r\n    return new Promise((resolve, reject) => {\r\n        cordova.plugins.clipboard.paste(function (text) {\r\n            resolve(text);\r\n        }, function (err) {\r\n            reject(err);\r\n        });\r\n    });\r\n}\r\nexport function clearText(){\r\n    return new Promise((resolve, reject) => {\r\n        cordova.plugins.clipboard.clear(function () {\r\n            resolve();\r\n        }, function (err) {\r\n            reject(err);\r\n        });\r\n    }); \r\n}","let rootPath = '';\r\nlet filesPath = ''; //app外部专用文件地址\r\nlet cachePath = ''; //app外部专用缓存地址\r\nlet localPicPath = ''; //app图片存储地址\r\nlet picFolderName = 'local'; //图片文件夹名称\r\ndocument.addEventListener('deviceready',function(){\r\n    rootPath = (window.cordova.platformId === 'browser')?\"\":cordova.file.externalRootDirectory;\r\n    filesPath = (window.cordova.platformId === 'browser')?\"\":cordova.file.externalDataDirectory;\r\n    cachePath = (window.cordova.platformId === 'browser')?\"\":cordova.file.externalCacheDirectory;\r\n    localPicPath = filesPath + picFolderName+'/';\r\n},false);\r\n\r\nexport {\r\n    rootPath,\r\n    filesPath,\r\n    cachePath,\r\n    localPicPath,\r\n    picFolderName,\r\n}","import { filesPath, cachePath, picFolderName } from '@/util/config'\r\n\r\nexport function replaceNativeURL(url) {\r\n    console.log('filesPath ', filesPath);\r\n    if (!url) {\r\n        return \"\";\r\n    }\r\n    if (!url.startsWith('file://')) {\r\n        return url;\r\n    }\r\n    if (url.startsWith(filesPath) || url.startsWith(cachePath)) {\r\n        return url;\r\n    }\r\n    let subpath = url.substring(url.indexOf(picFolderName));\r\n    if (url.indexOf('/files/') != -1) {\r\n        console.log('filesPath + url ', filesPath + url);\r\n        url = filesPath + subpath;\r\n    } else {\r\n        console.log('cachePath + url ', cachePath + url);\r\n        url = cachePath + subpath;\r\n    }\r\n    return url;\r\n}\r\n\r\nexport function getPathInfo(path) {\r\n    if(path.lastIndexOf('.') != -1){\r\n        let ext = path.substring(path.lastIndexOf('.'));\r\n        let name = path.substring(path.lastIndexOf('/') + 1, path.lastIndexOf('.'));\r\n        name = decodeURI(name);\r\n        return {\r\n            path: path.substring(0, path.lastIndexOf('/')),\r\n            name: name,\r\n            ext: ext,\r\n            mimeType:getMIMEType(ext)\r\n        }\r\n    }\r\n    return {\r\n        path: path,\r\n        name: path,\r\n        ext: '',\r\n        mimeType: ''\r\n    }\r\n}\r\n\r\nexport function getMIMEType(ext){\r\n    switch(ext){\r\n        case '.jpg':\r\n        case '.jpeg':\r\n        case '.png':\r\n        case '.gif':\r\n            return 'image/jpeg';\r\n        case '.doc':\r\n            return 'application/msword';\r\n        case '.docx':\r\n            return 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\r\n        case '.xls':\r\n            return 'application/vnd.ms-excel';\r\n        case '.xlsx':\r\n            return 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\r\n        case '.ppt':\r\n            return 'application/vnd.ms-powerpoint';\r\n        case '.pptx':\r\n            return 'application/vnd.openxmlformats-officedocument.presentationml.presentation';\r\n        case '.pdf':\r\n            return 'application/pdf';\r\n        case '.txt':\r\n            return 'text/plain';\r\n        case '.mp4':\r\n            return 'video/mp4';\r\n        case '.mp3':\r\n            return 'audio/mpeg';\r\n        case '.zip':\r\n            return 'application/zip';\r\n        case '.rar':\r\n            return 'application/x-rar-compressed';\r\n        case '.7z':\r\n            return 'application/x-7z-compressed';\r\n        case '.html':\r\n            return 'text/html';\r\n        case '.css':\r\n            return 'text/css';\r\n        case '.js':\r\n            return 'text/javascript';\r\n        case '.json':\r\n            return 'application/json';\r\n        case '.xml':\r\n            return 'text/xml';\r\n        case '.png':\r\n            return 'image/png';\r\n        case '.jpg':\r\n            return 'image/jpeg';\r\n        case '.jpeg':\r\n            return 'image/jpeg';\r\n        case '.gif':\r\n            return 'image/gif';\r\n        case '.svg':\r\n            return 'image/svg+xml';\r\n        case '.equb':\r\n            return 'application/application/epub+zip';\r\n        case '.apk':\r\n            return 'application/vnd.android.package-archive';\r\n        default:\r\n            return 'application/octet-stream';\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { rootPath, cachePath, filesPath, picFolderName } from '@/util/config'\r\nimport { getPathInfo, getMIMEType } from '@/util/path'\r\n//import {fetchImage} from '@/plugin/request'\r\nimport html2canvas from 'html2canvas';\r\n\r\nvar permissions = \"\";\r\n\r\ndocument.addEventListener('deviceready', function () {\r\n    permissions = (window.cordova.platformId === 'browser') ? \"\" : cordova.plugins.permissions;\r\n}, false)\r\n\r\n//保存图片\r\nexport function saveImage(blob) {\r\n    return new Promise((resolve, reject) => {\r\n        permissions.checkPermission(permissions.WRITE_EXTERNAL_STORAGE, function (status) {\r\n            if (status.hasPermission) {\r\n                saveImageAsBlob(blob, resolve, reject);\r\n            }\r\n            else {\r\n                //reject('没有写入权限')\r\n                permissions.requestPermission(permissions.WRITE_EXTERNAL_STORAGE, (stat) => {\r\n                    if (!stat.hasPermission) {\r\n                        reject('获取写入权限失败');\r\n                    } else {\r\n                        saveImageAsBlob(blob, resolve, reject);\r\n                    }\r\n                }, err => {\r\n                    reject(JSON.stringify(err));\r\n                });\r\n            }\r\n        });\r\n    });\r\n\r\n}\r\n\r\nfunction saveImageAsBlob(blob, resolve, reject) {\r\n    window.resolveLocalFileSystemURL(rootPath, function (root) {\r\n        // 先查找这个文件，如果没有则创建\r\n        if (root.isDirectory) {\r\n            root.getDirectory('Pictures', { create: true }, (dirEntry) => {\r\n                dirEntry.getDirectory('notepictures', { create: true }, (subDirEntry) => {\r\n                    let time = new Date().getTime();\r\n                    subDirEntry.getFile('note_cut_' + time + '.jpg', { create: true }, function (fileEntry) {\r\n                        // 开始写入文件\r\n                        fileEntry.createWriter(function (fileWriter) {\r\n                            fileWriter.onwriteend = function () {\r\n                                console.log('写入文件成功');\r\n                                console.log(JSON.stringify(fileEntry));\r\n                                resolve(fileEntry);\r\n                                // 将fileEntry打印出来可以得到一个包含操作信息的对象\r\n                                //_this.resultUrl = fileEntry.nativeURL\r\n                                // 下一行不用管，是个人项目中的调用函数\r\n                                //_this.bridgeShare(_this.resultUrl)\r\n                            },\r\n                                // 失败回调\r\n                                fileWriter.onerror = function (err) {\r\n                                    console.error('写入文件失败：' + err.toString());\r\n                                    reject('写入文件失败：' + err.toString());\r\n                                }\r\n                            // 以上创建新文件后，开始向文件中写入blob文件对象\r\n                            fileWriter.write(blob);\r\n                        });\r\n                    }, function (err) { console.log('出错1', JSON.stringify(err)); reject('出错1' + JSON.stringify(err)); });\r\n                });\r\n            })\r\n        }\r\n    }, function (err) {\r\n        console.log('出错2', JSON.stringify(err));\r\n        reject('出错2' + JSON.stringify(err));\r\n    });\r\n}\r\n\r\n\r\nfunction dataURItoBlob(dataURI) {\r\n    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]; // mime类型\r\n    var byteString = atob(dataURI.split(',')[1]); //base64 解码\r\n    var arrayBuffer = new ArrayBuffer(byteString.length); //创建缓冲数组\r\n    var intArray = new Uint8Array(arrayBuffer); //创建视图\r\n\r\n    for (var i = 0; i < byteString.length; i++) {\r\n        intArray[i] = byteString.charCodeAt(i);\r\n    }\r\n    return new Blob([intArray], { type: mimeString });\r\n}\r\n\r\nexport function copyFile(fromFileURL, toParentDirectURL, newFolder, newName) {\r\n    console.log('fromFileURL', fromFileURL);\r\n    console.log('toParentDirectURL', toParentDirectURL);\r\n    console.log('newFolder', newFolder);\r\n    console.log('newName', newName);\r\n    return new Promise((resolve, reject) => {\r\n        window.resolveLocalFileSystemURL(toParentDirectURL, (dirEntry) => {\r\n            console.log('dirEntry ', dirEntry.toURL(), 'isDirectory', dirEntry.isDirectory);\r\n            dirEntry.getDirectory(newFolder, { create: true }, (newFolderEntry) => {\r\n                window.resolveLocalFileSystemURL(fromFileURL, function (root) {\r\n                    // 先查找这个文件，如果没有则创建\r\n                    if (root.isFile) {\r\n                        root.copyTo(newFolderEntry, newName, (entry) => {\r\n                            console.log('copy success :', entry.nativeURL)\r\n                            resolve(entry);\r\n                        }, (err) => {\r\n                            console.log('copy err', JSON.stringify(err))\r\n                            reject('copy err', JSON.stringify(err));\r\n                        })\r\n                    } else {\r\n                        console.log('fromFileURL: ', fromFileURL, ' isFile:false')\r\n                    }\r\n                }, function (err) {\r\n                    console.log('fromFileURL出错2', JSON.stringify(err));\r\n                    reject('fromFileURL出错2' + JSON.stringify(err));\r\n                });\r\n            }, (err) => {\r\n                console.log('create newFolder error', JSON.stringify(err));\r\n                reject('create newFolder error:' + JSON.stringify(err));\r\n            });\r\n        }, (err) => {\r\n            console.log('err', JSON.stringify(err), 'toParentDirectURL:', toParentDirectURL)\r\n            reject(JSON.stringify(err));\r\n        });\r\n    });\r\n}\r\n//下载网络图片 用插件下载图片避免跨域\r\nexport function saveNetImage(url) {\r\n    return new Promise((resolve, reject) => {\r\n        window.resolveLocalFileSystemURL(cachePath, (root) => {\r\n            root.getDirectory(picFolderName, { create: true }, (dirEntry) => {\r\n                let filename = \"\";\r\n                let fromFileURL = \"\";\r\n                if (url.indexOf('?') > -1) {\r\n                    fromFileURL = url.substring(0, url.indexOf('?'));\r\n                } else {\r\n                    fromFileURL = url\r\n                }\r\n                if (fromFileURL.endsWith('.jpg')\r\n                    || fromFileURL.endsWith('.jpeg')\r\n                    || fromFileURL.endsWith('.png')\r\n                    || fromFileURL.endsWith('.gif')) {\r\n                    filename = fromFileURL.substring(fromFileURL.lastIndexOf('/') + 1);\r\n                } else {\r\n                    filename = hashCode(url);\r\n                    filename = \"image_note_\" + filename + '.jpg';\r\n                }\r\n                dirEntry.getFile(filename, { create: true }, (fileEntry) => {\r\n                    console.log('axios url ', url);\r\n                    console.log('local path ', fileEntry.toURL());\r\n                    Downresource.fetchFromURL(url, fileEntry.toURL(), 0, (res) => {\r\n                        console.log('res', res);\r\n                        resolve(fileEntry.toURL());\r\n                    }, (err) => {\r\n                        console.log('err', err);\r\n                        reject(err);\r\n                    });\r\n                })\r\n            });\r\n        });\r\n    })\r\n}\r\n\r\nfunction hashCode(str) {\r\n    var hash = 0, i, chr;\r\n    if (str.length === 0) return hash;\r\n    for (i = 0; i < str.length; i++) {\r\n        chr = str.charCodeAt(i);\r\n        hash = ((hash << 5) - hash) + chr;\r\n        hash |= 0; // Convert to 32bit integer\r\n    }\r\n    return hash;\r\n};\r\n\r\n//图片截图\r\n\r\nlet getCanvas = (el, y, height) => {\r\n    return new Promise((resolve, reject) => {\r\n        console.log('2 y,height', y, height);\r\n        let canvas = document.createElement('canvas');\r\n        canvas.width = el.clientWidth * 4 + 100;\r\n        canvas.height = height;\r\n        html2canvas(el, {\r\n            canvas: canvas,\r\n            allowTaint: true,\r\n            backgroundColor: '#fff',\r\n            useCORS: true,\r\n            imageTimeout: 15000,\r\n            scale: 4,  //数值越大图片越清晰\r\n            y: y / 4,\r\n        }).then((rescanvas) => {\r\n            resolve(rescanvas);\r\n        }).catch((err) => {\r\n            reject(err);\r\n        })\r\n    });\r\n}\r\n\r\n\r\nexport function cutImage(el) {\r\n    return new Promise((resolve, reject) => {\r\n        //对高度分段\r\n        try {\r\n            let cutHeight = 30000;\r\n            let scrollHeight = el.scrollHeight * 4;\r\n            let heightArr = [];\r\n            if (cutHeight > scrollHeight) {\r\n                heightArr.push(scrollHeight);\r\n            } else {\r\n                let ys = scrollHeight % cutHeight;\r\n                let addNum = Math.floor(scrollHeight / cutHeight);\r\n                for (let i = 0; i < addNum; i++) {\r\n                    heightArr.push(cutHeight);\r\n                }\r\n                heightArr.push(ys);\r\n            }\r\n            console.log('heightArr', JSON.stringify(heightArr));\r\n            let funcArr = [];\r\n            for (let i = 0; i < heightArr.length; i++) {\r\n                let func = getCanvas(el, i * cutHeight, heightArr[i]);\r\n                funcArr.push(func);\r\n                //break;\r\n            }\r\n            console.log('funcArr num ', funcArr.length);\r\n            Promise.all(funcArr).then(res => {\r\n                if (res.length > 0) {\r\n                    var canvas = document.createElement('canvas');\r\n                    canvas.width = res[0].width;\r\n                    canvas.height = scrollHeight;\r\n                    var ctx = canvas.getContext('2d');\r\n                    for (let i = 0; i < res.length; i++) {\r\n                        ctx.drawImage(res[i], 0, i * cutHeight, res[i].width, res[i].height);\r\n                    }\r\n                    canvas.toBlob((blob) => {\r\n                        saveImage(blob).then((cres) => {\r\n                            resolve(cres);\r\n                        }).catch((err) => {\r\n                            reject(err);\r\n                        });\r\n                    }, \"image/jpeg\", 1)\r\n                }\r\n            }).catch(err => {\r\n                console.log('err', err);\r\n                reject(err);\r\n            })\r\n        } catch (error) {\r\n            reject(error);\r\n        }\r\n    });\r\n\r\n}\r\n\r\n\r\n//下载图片\r\nexport function downloadImage(url, folderName, fileName) {\r\n    return new Promise((resolve, reject) => {\r\n        if (url.startsWith('file://')) {\r\n            window.resolveLocalFileSystemURL(url, function success(fileEntry) {\r\n                var newPicName = fileName;\r\n                if (!newPicName) {\r\n                    newPicName = 'Download' + new Date().getTime() + '.jpg';\r\n                }\r\n                if (!folderName) {\r\n                    folderName = 'Pictures';\r\n                }\r\n                copyFile(fileEntry.toURL(), rootPath, folderName, newPicName).then((data) => {\r\n                    //nativeURL\r\n                    console.log('camera copy file address success:', data.toURL());\r\n                    resolve(data.toURL());\r\n                }).catch(e => {\r\n                    console.log('camera copy file address error:', JSON.stringify(e));\r\n                    reject(e);\r\n                });\r\n            });\r\n\r\n        } else {\r\n            window.resolveLocalFileSystemURL(rootPath, (root) => {\r\n                var newPicName = fileName;\r\n                if (!newPicName) {\r\n                    newPicName = 'Download' + new Date().getTime() + '.jpg';\r\n                }\r\n                if (!folderName) {\r\n                    folderName = 'Pictures';\r\n                }\r\n                root.getDirectory(folderName, { create: true }, (dirEntry) => {\r\n                    dirEntry.getFile(newPicName, { create: true }, (fileEntry) => {\r\n                        console.log('axios url ', url);\r\n                        console.log('local path ', fileEntry.toURL());\r\n                        Downresource.fetchFromURL(url, fileEntry.toURL(), 0, (res) => {\r\n                            console.log('res', res);\r\n                            resolve(fileEntry.toURL());\r\n                        }, (err) => {\r\n                            console.log('err', err);\r\n                            reject(err);\r\n                        });\r\n                    })\r\n                });\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\n//选择文件\r\nexport function selectFile() {\r\n    return new Promise((resolve, reject) => {\r\n        fileChooser.open((contentPath) => {\r\n            window.FilePath.resolveNativePath(contentPath, function (finalPath) {\r\n                resolve(finalPath);\r\n            }, function (error) {\r\n                reject(error);\r\n            });\r\n        }, (err) => {\r\n            reject(err);\r\n        });\r\n    });\r\n\r\n}\r\n//寻找打开文件的app\r\nexport function fileOpener(filepath) {\r\n    let info = getPathInfo(filepath);\r\n    console.log('mimetype:', info.mimeType);\r\n    return new Promise((resolve, reject) => {\r\n        cordova.plugins.fileOpener2.showOpenWithDialog(\r\n            filepath, // You can also use a Cordova-style file uri: cdvfile://localhost/persistent/Downloads/starwars.pdf\r\n            info.mimeType,\r\n            {\r\n                error: (e) => {\r\n                    reject(e);\r\n                },\r\n                success: (e) => {\r\n                    resolve();\r\n                }\r\n            }\r\n        );\r\n    });\r\n}\r\n//删除文件\r\nexport function removeFile(filepath) {\r\n    return new Promise((resolve, reject) => {\r\n        window.resolveLocalFileSystemURL(filepath, function (fileEntry) {\r\n            fileEntry.remove(function () {\r\n                console.log('delete success');\r\n                resolve();\r\n            }, function (err) {\r\n                console.error(err);\r\n                reject(err);\r\n            }, function (err) {\r\n                console.log('file not exist');\r\n                reject(err)\r\n            });\r\n        })\r\n    });\r\n\r\n}","import { copyFile } from '@/plugin/file'\r\nimport { filesPath,picFolderName } from '@/util/config'\r\n\r\n//选择相册\r\nexport function Takefromgalery() {\r\n    return new Promise((resolve, reject) => {\r\n        var cameraOptions = {\r\n            quality: 100,\r\n            //destinationType : Camera.DestinationType.DATA_URL,\r\n            destinationType: Camera.DestinationType.FILE_URI,\r\n            sourceType: Camera.PictureSourceType.SAVEDPHOTOALBUM, //相册类型\r\n            allowEdit: false,\r\n            encodingType: Camera.EncodingType.JPEG,\r\n            //targetWdith : 100,\r\n            //targetHeight : 100,\r\n            popoverOptions: CameraPopoverOptions,\r\n            saveToPhotoAlbum: false,\r\n        };\r\n        console.log('调用相册接口');\r\n        navigator.camera.getPicture((imgUri) => {\r\n            console.log('onCameraSuccess:', imgUri);\r\n            if (!imgUri.startsWith('file://')) {\r\n                imgUri = `file://${imgUri}`;\r\n            }\r\n            window.resolveLocalFileSystemURL(imgUri, function success(fileEntry) {\r\n\r\n                // Do something with the FileEntry object, like write to it, upload it, etc.\r\n                // writeFile(fileEntry, imgUri);\r\n                console.log(\"got file: \" + fileEntry.toURL());\r\n                console.log(\"got file: \" + fileEntry.toInternalURL());\r\n                // displayFileData(fileEntry.nativeURL, \"Native URL\");\r\n\r\n                //复制图片到 cordova.file.externalDataDirectory 路径下\r\n                copyFile(fileEntry.toURL(),filesPath, picFolderName, null).then((data) => {\r\n                    //nativeURL\r\n                    console.log('camera copy file address success:', data.toURL());\r\n                    resolve({ type: 'uri', data: data.toURL() });\r\n                }).catch(e => {\r\n                    console.log('camera copy file address error:', JSON.stringify(e));\r\n                    reject(e);\r\n                });\r\n            }, function (e) {\r\n                // If don't get the FileEntry (which may happen when testing\r\n                // on some emulators), copy to a new FileEntry.\r\n                //createNewFileEntry(imgUri);\r\n                console.log('eeee', JSON.stringify(e));\r\n                reject(e);\r\n            });\r\n            //resolve({type:'uri',data:imgUri});\r\n        }, (e) => {\r\n            console.log('onCameraError:', e);\r\n            reject(e);\r\n        }, cameraOptions);\r\n    });\r\n}\r\n//拍照\r\nexport function TakefromCamera() {\r\n    return new Promise((resolve, reject) => {\r\n        var cameraOptions = {\r\n            quality: 100,\r\n            //destinationType : Camera.DestinationType.DATA_URL,\r\n            destinationType: Camera.DestinationType.FILE_URI,\r\n            sourceType: Camera.PictureSourceType.CAMERA, //相册类型\r\n            allowEdit: false,\r\n            encodingType: Camera.EncodingType.JPEG,\r\n            //targetWdith : 100,\r\n            //targetHeight : 100,\r\n            popoverOptions: CameraPopoverOptions,\r\n            saveToPhotoAlbum: false,\r\n        };\r\n        console.log('调用相册接口');\r\n        navigator.camera.getPicture((imgUri) => {\r\n            console.log('onCameraSuccess:', imgUri);\r\n            if (!imgUri.startsWith('file://')) {\r\n                imgUri = `file://${imgUri}`;\r\n            }\r\n            window.resolveLocalFileSystemURL(imgUri, function success(fileEntry) {\r\n\r\n                // Do something with the FileEntry object, like write to it, upload it, etc.\r\n                // writeFile(fileEntry, imgUri);\r\n                console.log(\"got file: \" + fileEntry.toURL());\r\n                console.log(\"got file: \" + fileEntry.toInternalURL());\r\n                // displayFileData(fileEntry.nativeURL, \"Native URL\");\r\n\r\n                //复制图片到 cordova.file.externalDataDirectory 路径下\r\n                copyFile(fileEntry.toURL(),filesPath, picFolderName, null).then((data) => {\r\n                    //nativeURL\r\n                    console.log('camera copy file address success:', data.toURL());\r\n                    resolve({ type: 'uri', data: data.toURL() });\r\n                }).catch(e => {\r\n                    console.log('camera copy file address error:', JSON.stringify(e));\r\n                    reject(e);\r\n                });\r\n            }, function (e) {\r\n                // If don't get the FileEntry (which may happen when testing\r\n                // on some emulators), copy to a new FileEntry.\r\n                //createNewFileEntry(imgUri);\r\n                console.log('eeee', JSON.stringify(e));\r\n                reject(e);\r\n            });\r\n            //resolve({type:'uri',data:imgUri});\r\n        }, (e) => {\r\n            console.log('onCameraError:', e);\r\n            reject(e);\r\n        }, cameraOptions);\r\n    });\r\n}\r\n//选择相册，返回base64\r\nexport function Takefromgalery2DataURL() {\r\n    return new Promise((resolve, reject) => {\r\n        var cameraOptions = {\r\n            quality: 100,\r\n            destinationType: Camera.DestinationType.DATA_URL,\r\n            //destinationType : Camera.DestinationType.FILE_URI,\r\n            sourceType: Camera.PictureSourceType.SAVEDPHOTOALBUM, //相册类型\r\n            allowEdit: false,\r\n            encodingType: Camera.EncodingType.JPEG,\r\n            //targetWdith : 100,\r\n            //targetHeight : 100,\r\n            popoverOptions: CameraPopoverOptions,\r\n            saveToPhotoAlbum: false,\r\n        };\r\n        console.log('调用相册接口');\r\n\r\n        //todo 图片放入缓存文件来代替数据库\r\n\r\n        navigator.camera.getPicture((imgUri) => {\r\n            //console.log('onCameraSuccess:',imgUri);\r\n            resolve({ type: 'base64', data: imgUri });\r\n        }, (e) => {\r\n            console.log('onCameraError:', e);\r\n            reject(e);\r\n        }, cameraOptions);\r\n    });\r\n}\r\n","import { render } from \"./RichTextView.vue?vue&type=template&id=c2ccf9f0\"\nimport script from \"./RichTextView.vue?vue&type=script&lang=js\"\nexport * from \"./RichTextView.vue?vue&type=script&lang=js\"\n\nimport \"./RichTextView.vue?vue&type=style&index=0&id=c2ccf9f0&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AddNoteView.vue?vue&type=template&id=36a6cfea\"\nimport script from \"./AddNoteView.vue?vue&type=script&lang=js\"\nexport * from \"./AddNoteView.vue?vue&type=script&lang=js\"\n\nimport \"./AddNoteView.vue?vue&type=style&index=0&id=36a6cfea&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <van-nav-bar :title=\"PageTitle\" left-text=\"返回\" left-arrow @click-left=\"onClickLeft\" @click-right=\"onClickRight\">\r\n        <template #right>\r\n            <van-icon name=\"ellipsis\" size=\"25\" />\r\n        </template>\r\n    </van-nav-bar>\r\n    <div class=\"content\" ref=\"root\">\r\n        <!-- <input type=\"text\" class=\"title\" readonly placeholder=\"标题\" v-model=\"title\" /> -->\r\n        <!-- <van-cell class=\"date-info\" v-model:title=\"createTime\">\r\n            <template #right-icon>\r\n                <label class=\"category-name\">{{ categoryName }}</label>\r\n            </template>\r\n        </van-cell> -->\r\n        <div class=\"leftMenu\" @click=\"openMenu\">\r\n            <van-icon name=\"arrow-left\" />\r\n        </div>\r\n        <div class=\"note-content\" ref=\"noteContent\">\r\n            <rich-text @getValue=\"getValue\" @invokeMethod=\"goDetail\" :value=\"tmepContent\" :editable=\"false\"></rich-text>\r\n        </div>\r\n    </div>\r\n    <van-action-sheet v-model:show=\"showSheet\" @select=\"selectSheet\" :actions=\"actionsSheet\" cancel-text=\"取消\"\r\n        close-on-click-action @cancel=\"onCancel\" @closed=\"onClosed\" />\r\n    <van-popup v-model:show=\"showRightMenu\" @closed=\"onRightMenuClosed\" position=\"right\" :style=\"{ width: '80%', height: '100%' }\">\r\n        <p class=\"menutitle\">{{ categoryName }}</p>\r\n        <div class=\"menubox\" ref=\"menuRef\">\r\n            <van-swipe-cell v-for=\"(item, index) in listMenu\" :key=\"index\">\r\n                <van-row @click=\"openOtherNoteDetail(item.Id)\" :class=\"['vrow', item.select == 1 ? 'cur' : '']\">\r\n                    <p style=\"text-align:left;font-size: 14px;\">{{ item.name }}</p>\r\n                </van-row>\r\n                <template #right>\r\n                    <van-button v-show=\"index == 0 ? false : true\" square type=\"default\" text=\"上移\"\r\n                        @click=\"upmove(0, index)\" />\r\n                    <van-button v-show=\"index == item.len ? false : true\" square type=\"default\" text=\"下移\"\r\n                        @click=\"upmove(1, index)\" />\r\n                </template>\r\n            </van-swipe-cell>\r\n        </div>\r\n        <van-button type=\"default\" @click=\"addNote\" style=\"width: 80%;margin: 20px auto 0px;\" block>添加笔记</van-button>\r\n    </van-popup>\r\n</template>\r\n<script>\r\nimport { useRect, useWindowSize } from '@vant/use';\r\nimport { Toast } from '@vant/compat';\r\nimport { onUnmounted, ref, onMounted, onActivated, reactive, onUpdated } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport { getNowDateString } from '@/util/date';\r\nimport { showConfirmDialog, closeToast, showLoadingToast } from 'vant';\r\n\r\nimport { copyText } from '@/plugin/clipboard';\r\n\r\nimport RichText from '../common/RichTextView.vue';\r\n\r\nimport { saveImage, cutImage } from '@/plugin/file'\r\n\r\nexport default {\r\n    name: 'ViewNoteView',\r\n    components: {\r\n        RichText,\r\n    },\r\n    setup() {\r\n        const store = useStore();\r\n        const route = useRoute();\r\n        const router = useRouter();\r\n\r\n        //keep-alive 缓存的组件激活时调用\r\n        onMounted(() => {\r\n            store.commit('SelectTabBar', 1);\r\n            console.log('加载');\r\n        });\r\n        onUnmounted(() => {\r\n            store.commit('SelectTabBar', -1);\r\n            console.log('卸载');\r\n        });\r\n        onActivated(() => {\r\n            console.log('addNote onActivated');\r\n        });\r\n        const queryData = ref(true);\r\n        onUpdated(()=>{\r\n            console.log('addNote onUpdated',Id.value,\"route.query.Id\",route.query.Id);\r\n            var noteId = route.query.Id;\r\n            console.log('addNote onUpdated after',noteId);\r\n            if (noteId && queryData.value) {\r\n                queryData.value = true;\r\n                document.querySelector('.richText').scrollTop = 0;\r\n                getNoteById(noteId);\r\n            }\r\n        });\r\n\r\n        //\r\n        const cutTitle = (content) => {\r\n            content = content ?? '';\r\n            if (content.length > 0) {\r\n                if (content.length > 50) {\r\n                    content = content.substring(0, 50);\r\n                }\r\n            }\r\n            return content;\r\n        };\r\n\r\n        const onClickLeft = () => {\r\n            history.back();\r\n        };\r\n        const onClickRight = () => {\r\n            queryData.value = false;\r\n            showSheet.value = true;\r\n        };\r\n\r\n        const showPopover = ref(false);\r\n        const actions = [\r\n            { text: '生活', icon: 'add-o' },\r\n            { text: '工作', icon: 'music-o' },\r\n            { text: '旅游', icon: 'more-o' },\r\n        ];\r\n        const onSelect = (action) => {\r\n            categoryName.value = action.text;\r\n        };\r\n\r\n        const { height } = useWindowSize();\r\n        const root = ref();\r\n        const vheight = ref(height.value - 92 + 'px');\r\n\r\n\r\n        //内容\r\n        const Id = ref(route.query.Id ?? 0);\r\n        const title = ref('');\r\n        const categoryName = ref('未分类');\r\n        const content = ref('');\r\n        const createTime = ref(getNowDateString());\r\n        const PageTitle = ref('详情');\r\n        const ParentId = ref(0);\r\n        const note_category_Id = ref(0);\r\n\r\n        const tmepContent = reactive({ val: '', type: '0' });//进入页面赋值的时候使用一次\r\n\r\n        const State = ref(0);\r\n\r\n        const getNoteById = (cId) => {\r\n            showLoadingToast('加载中...');\r\n            store.dispatch('getNoteById', cId).then((resolve) => {\r\n                const data = resolve;\r\n                title.value = data.Title;\r\n                PageTitle.value = data.Title;\r\n                categoryName.value = data.Category;\r\n                content.value = data.Content;\r\n                tmepContent.val = data.Content;\r\n                createTime.value = data.CreateTime;\r\n                ParentId.value = data.ParentId;\r\n                note_category_Id.value = data.note_category_Id;\r\n                State.value = data.State;\r\n                closeToast();\r\n                showRightMenu.value = false;\r\n            }).catch((reject) => {\r\n                console.log('查询笔记失败：' + reject);\r\n                Toast.fail('查询笔记失败：' + reject);\r\n            });\r\n\r\n        };\r\n        if (Id.value) {\r\n            getNoteById(Id.value);\r\n        }\r\n\r\n\r\n        //获取富文本值\r\n        const temTitle = ref('');\r\n        const getValue = (valObj) => {\r\n            console.log(valObj.text, valObj.html);\r\n            content.value = valObj.html;\r\n            temTitle.value = valObj.text;\r\n            //查看页面点击checkbox 保存结果\r\n            if (valObj.changeInputCheck) {\r\n                store.dispatch('updateNote', {\r\n                    Id: Id.value,\r\n                    Title: title.value,\r\n                    Category: categoryName.value,\r\n                    Content: content.value,\r\n                    ParentId: ParentId.value,\r\n                    note_category_Id: note_category_Id.value,\r\n                }).then((resolve) => {\r\n                    if (resolve.rowsAffected > 0) {\r\n                        //Toast('保存成功');\r\n                    }\r\n                }).catch((reject) => {\r\n                    Toast.fail('保存失败：' + reject);\r\n                });\r\n            }\r\n        }\r\n\r\n        const goDetail = (obj)=>{\r\n            if(obj.typ == 'appUrl'){\r\n                var noteId = obj.param.noteId;\r\n                console.log('goDetail ',noteId);\r\n                router.push({\r\n                    path: '/ViewNote',\r\n                    query: { \r\n                        Id: noteId,\r\n                        date: new Date().getTime()\r\n                    },\r\n                });\r\n                Id.value = noteId;\r\n                document.querySelector('.richText').scrollTop = 0;\r\n                getNoteById(noteId);\r\n            }\r\n        };\r\n\r\n        //\r\n        const showSheet = ref(false);\r\n        const actionsSheet = [\r\n            { name: '编辑笔记', },\r\n            { name: '复制笔记', },\r\n            { name: '复制链接', },\r\n            { name: '笔记截图', },\r\n            { name: '删除笔记', color: 'red', },\r\n        ];\r\n        const onCancel = () =>{\r\n        };\r\n        const onClosed = () =>{\r\n            queryData.value = true;\r\n        };\r\n        const noteContent = ref(null);\r\n        const selectSheet = (action, index) => {\r\n            console.log(action, index);\r\n            if (index == 0) {\r\n                router.push({\r\n                    path: '/AddNote',\r\n                    query: { Id: Id.value }\r\n                });\r\n            } else if (index == 1) {\r\n                //复制笔记\r\n                router.push({\r\n                    path: '/AddNote',\r\n                    query: { cpId: Id.value, State: State.value },\r\n                    replace: true,\r\n                });\r\n            } else if (index == 2) {\r\n                //链接\r\n                var linkUrl = 'appnote:Id='+Id.value;\r\n                //复制到剪贴板\r\n                copyText(linkUrl).then(() => {\r\n                    Toast.success('复制成功');\r\n                }).catch((err) => {\r\n                    Toast.fail('复制失败!'+err);\r\n                });\r\n            } else if (index == 3) {\r\n                console.log('笔记截图');\r\n                const el = document.getElementById('richTextID')\r\n                console.log('el.scrollHeight', el.scrollHeight);\r\n                console.log('el.clientWidth', el.clientWidth);\r\n\r\n\r\n                showLoadingToast('截图中...');\r\n                cutImage(el).then(resole => {\r\n                    closeToast();\r\n                    Toast.success('截图已保存');\r\n                }).catch(reject => {\r\n                    closeToast();\r\n                    console.log('截图失败：' + JSON.stringify(reject));\r\n                    Toast.fail('截图失败：' + JSON.stringify(reject));\r\n                });\r\n            }\r\n            else if (index == 4) {\r\n                showConfirmDialog({\r\n                    title: '确认删除该笔记？',\r\n                }).then(() => {\r\n                    console.log('shanchu biji ');\r\n                    store.dispatch('delNote', { Id: Id.value, real: 1 }).then((resolve, reject) => {\r\n                        if (resolve.rowsAffected > 0) {\r\n                            Toast.fail('删除成功');\r\n                            store.commit('setRefreshListState', true);\r\n                            setTimeout(function () {\r\n                                history.back();\r\n                            }, 400)\r\n                        } else {\r\n                            Toast.fail('移出失败：' + reject);\r\n                        }\r\n                    }).catch((reject) => {\r\n                        console.log(reject);\r\n                    });\r\n                }).catch(() => {\r\n                    // on cancel\r\n                });\r\n            }\r\n        }\r\n        //目录\r\n        const showRightMenu = ref(false);\r\n        const openMenu = () => {\r\n            queryData.value = false;\r\n            showRightMenu.value = true;\r\n            if (note_category_Id.value > 0) {\r\n                onLoadMenuData(note_category_Id.value);\r\n            }\r\n        };\r\n        const onRightMenuClosed = (e)=>{\r\n            queryData.value = true;\r\n        };\r\n        const listMenu = ref([]);\r\n        const menuRef = ref(null);\r\n        const onLoadMenuData = (CyId) => {\r\n            listMenu.value.length = 0;\r\n            //showLoadingToast('加载中...');\r\n            store.dispatch('getNoteList', { note_category_Id: CyId }).then((resolve) => {\r\n                var listData = resolve;\r\n                console.log('getNoteList=>' + JSON.stringify(listData));\r\n                let len = listData.length - 1;\r\n                let selectheight = 0;\r\n                for (let i = 0; i < listData.length; i++) {\r\n                    var select = 0;\r\n                    if (listData[i].Id == Id.value) {\r\n                        select = 1;\r\n                        selectheight = i + 1;\r\n                    }\r\n                    listMenu.value.push({ Id: listData[i].Id, name: listData[i].Title, timestamp: listData[i].Timestamp, select: select, len: len });\r\n                }\r\n                setTimeout(() => {\r\n                    var rowHeight = document.querySelector('.vrow').clientHeight + 1;\r\n                    selectheight = selectheight * rowHeight;\r\n                    console.log('vrow height', rowHeight);\r\n                    var menuClientHeight = menuRef.value.clientHeight;\r\n                    console.log('selectheight', selectheight, 'menuClientHeight', menuClientHeight)\r\n                    menuRef.value.scrollTop = (selectheight - menuClientHeight) + menuClientHeight / 2;\r\n                }, 100);\r\n                //closeToast();\r\n            });\r\n        }\r\n        //flag 0上移 1下移\r\n        const upmove = (flag, index) => {\r\n            var item1Id = 0;\r\n            var item1Timestamp = 0;\r\n            var item2Id = 0;\r\n            var item2Timestamp = 0;\r\n            if (flag == 0) {\r\n                item1Id = listMenu.value[index].Id;\r\n                item1Timestamp = listMenu.value[index - 1].timestamp;\r\n                item2Id = listMenu.value[index - 1].Id;\r\n                item2Timestamp = listMenu.value[index].timestamp;\r\n            } else {\r\n                item1Id = listMenu.value[index].Id;\r\n                item1Timestamp = listMenu.value[index + 1].timestamp;\r\n                item2Id = listMenu.value[index + 1].Id;\r\n                item2Timestamp = listMenu.value[index].timestamp;\r\n            }\r\n            store.dispatch('updateNoteTimestamp', {\r\n                Id: item1Id,\r\n                timestamp: item1Timestamp,\r\n            }).then((resolve) => {\r\n                if (resolve.rowsAffected > 0) {\r\n                    store.dispatch('updateNoteTimestamp', {\r\n                        Id: item2Id,\r\n                        timestamp: item2Timestamp,\r\n                    }).then((resolve2) => {\r\n                        if (resolve2.rowsAffected > 0) {\r\n                            onLoadMenuData(note_category_Id.value);\r\n                        }\r\n                    }).catch((reject) => {\r\n                        Toast.fail('保存失败：' + reject);\r\n                    });\r\n                }\r\n            }).catch((reject) => {\r\n                Toast.fail('保存失败：' + reject);\r\n            });\r\n        }\r\n        //文章详情\r\n        const openOtherNoteDetail = (cId) => {\r\n            router.push({\r\n                path: '/ViewNote',\r\n                query: { Id: cId },\r\n                replace: true\r\n            });\r\n            Id.value = cId;\r\n            document.querySelector('.richText').scrollTop = 0;\r\n            getNoteById(cId);\r\n        }\r\n        //添加新文章\r\n        const addNote = () => {\r\n            router.push({\r\n                path: '/AddNote',\r\n                query: { Id: 0, aId: Id.value, State: 0 },\r\n                replace: true\r\n            });\r\n        };\r\n\r\n        return {\r\n            getValue,\r\n\r\n            onClickLeft,\r\n            onClickRight,\r\n            PageTitle,\r\n            title,\r\n            categoryName,\r\n            content,\r\n            tmepContent,\r\n            createTime,\r\n            actions,\r\n            showPopover,\r\n            onSelect,\r\n            root,\r\n            vheight,\r\n            Id,\r\n\r\n            showSheet,\r\n            actionsSheet,\r\n            onCancel,\r\n            onClosed,\r\n            selectSheet,\r\n            noteContent,\r\n\r\n            openMenu,\r\n            showRightMenu,\r\n            listMenu,\r\n            upmove,\r\n            openOtherNoteDetail,\r\n            addNote,\r\n            menuRef,\r\n\r\n            goDetail,\r\n            onRightMenuClosed,\r\n        };\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.content {\r\n    padding: 1px 20px;\r\n\r\n    .title {\r\n        width: 100%;\r\n        font-size: 20px;\r\n        line-height: 20px;\r\n        border: none;\r\n    }\r\n\r\n    .title::placeholder {\r\n        font-size: x-large;\r\n        font-weight: 600;\r\n        color: #666;\r\n    }\r\n\r\n    .date-info {\r\n        text-align: left;\r\n        padding-left: 0px !important;\r\n        padding-right: 0px !important;\r\n\r\n        .category-name,\r\n        .arrow-down {\r\n            color: deepskyblue;\r\n        }\r\n    }\r\n\r\n    .note-content {\r\n        width: 100%;\r\n        border: none;\r\n        height: v-bind(\"vheight\");\r\n        word-wrap: break-word;\r\n        padding-top: 5px;\r\n    }\r\n\r\n    .leftMenu {\r\n        display: inline-block;\r\n        position: fixed;\r\n        width: 48px;\r\n        height: 48px;\r\n        right: -28px;\r\n        bottom: 200px;\r\n        background: #fdfdfd;\r\n        line-height: 48px;\r\n        padding-left: 3px;\r\n        text-align: left;\r\n        border-radius: 50%;\r\n        box-shadow: 0 0 3px #bfb8b8;\r\n        z-index: 2000;\r\n    }\r\n}\r\n\r\n.menutitle {\r\n    margin: 0px;\r\n    padding: 12px 3px;\r\n    width: 100%;\r\n    border-bottom: 1px solid #e3dddd;\r\n}\r\n\r\n.menubox {\r\n    overflow: auto;\r\n    height: 80%;\r\n}\r\n\r\n.vrow {\r\n    border-bottom: 1px solid #eee;\r\n    padding: 15px 10px;\r\n}\r\n\r\n.cur {\r\n    background: #d6d6d6;\r\n}\r\n\r\n.vrow p {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    margin: 0px;\r\n}\r\n</style>","import { render } from \"./ViewNoteView.vue?vue&type=template&id=094295e6\"\nimport script from \"./ViewNoteView.vue?vue&type=script&lang=js\"\nexport * from \"./ViewNoteView.vue?vue&type=script&lang=js\"\n\nimport \"./ViewNoteView.vue?vue&type=style&index=0&id=094295e6&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <van-nav-bar title=\"日历\" @click-right=\"clickRightEvent\">\r\n        <!-- <template #right>\r\n            <router-link to=\"/Search\"> <van-icon name=\"search\" size=\"18\" /></router-link>\r\n        </template> -->\r\n    </van-nav-bar>\r\n    <van-calendar :show-title=\"false\" :show-subtitle=\"false\" color=\"#1989fa\" :min-date=\"minDate\" :max-date=\"maxDate\" :poppable=\"false\"\r\n        :show-confirm=\"false\" :formatter=\"formatter\" @select=\"SelectDate\" @month-show=\"monthShow\">\r\n        <template v-slot:top-info=\"day\">\r\n            <van-icon v-show=\"day.topInfo > 0\" class=\"tips\" color=\"red\" name=\"bookmark\" />\r\n        </template>\r\n    </van-calendar>\r\n    <van-popup v-model:show=\"showPopup\" @click-overlay=\"cancelPop\" position=\"bottom\"\r\n        :style=\"{ height: '80%' }\">\r\n        <notes-view :Date=\"DateObj\" :IsAll=\"true\" :ShowNavBar=\"false\" @openNotedetail=\"openNotedetail\"></notes-view>\r\n    </van-popup>\r\n</template>\r\n<script>\r\nimport { useWindowSize } from '@vant/use';\r\nimport { ref, onMounted, computed, reactive, onActivated, onDeactivated } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { calendar } from '@/plugin/calendar';\r\nimport { getPreMonths, getNextMonths } from '@/util/date';\r\nimport { useRouter } from 'vue-router';\r\n\r\nimport NotesView from '../notes/NotesView.vue';\r\n\r\nexport default {\r\n    name: 'CalendarView',\r\n    components: {\r\n        NotesView,\r\n    },\r\n    setup() {\r\n\r\n        const router = useRouter();\r\n\r\n        const store = useStore();\r\n\r\n        const vheight = ref('100%');\r\n        const { height } = useWindowSize();\r\n        //获取日历数据\r\n        const caleListData = reactive({});\r\n        const getCaleListData = async (Year, Month) => {\r\n            const listData = await store.dispatch('getNoteListNearMonth', { Year: Year, Month: Month });\r\n            console.log('getNoteListNearMonth=>' + JSON.stringify(listData));\r\n            var YearMonthData1 = [];\r\n            var YearMonthData2 = [];\r\n            var YearMonthData3 = [];\r\n            const preData = getPreMonths(Year, Month);\r\n            const nextData = getNextMonths(Year, Month);\r\n            for (let index = 0; index < listData.length; index++) {\r\n                const item = listData[index];\r\n                if (item.Year == Year && item.Month == Month) {\r\n                    YearMonthData1.push(item);\r\n                } else if (item.Year == preData.Year && item.Month == preData.Month) {\r\n                    YearMonthData2.push(item);\r\n                } else if (item.Year == nextData.Year && item.Month == nextData.Month) {\r\n                    YearMonthData3.push(item);\r\n                }\r\n            }\r\n            caleListData[`${Year}-${Month}`] = YearMonthData1;\r\n            caleListData[`${preData.Year}-${preData.Month}`] = YearMonthData2;\r\n            caleListData[`${nextData.Year}-${nextData.Month}`] = YearMonthData3;\r\n            //console.log('caleListData=>' + JSON.stringify(caleListData));\r\n        };\r\n        getCaleListData(new Date().getFullYear(), new Date().getMonth() + 1);\r\n        onMounted(() => {\r\n            vheight.value = height.value - 80 + 'px';\r\n        })\r\n\r\n        const formatter = computed(() => {\r\n            return (day) => {\r\n                const _time = new Date(day.date);\r\n                const y = _time.getFullYear();\r\n                const m = _time.getMonth() + 1;\r\n                const d = _time.getDate();\r\n                const w = _time.getDay();\r\n                //   改变周六周日显示颜色\r\n                if (w === 0 || w === 6) {\r\n                    day.className = \"weekendRed\";\r\n                }\r\n                const info = calendar.solar2lunar(y, m, d);\r\n                //console.log(info);\r\n\r\n                const ntime = new Date();\r\n                const ny = ntime.getFullYear();\r\n                const nm = ntime.getMonth() + 1;\r\n                const nd = ntime.getDate();\r\n\r\n                if (y == ny && m == nm && d == nd) {\r\n                    day.className += \" today\";\r\n                }\r\n\r\n                //   优先级:节日>节气>农历\r\n                if (info.festival != null && info.festival != \"\") {\r\n                    day.bottomInfo = info.festival;\r\n                } else if (info.Term != null && info.Term != \"\") {\r\n                    day.bottomInfo = info.Term;\r\n                } else if (info.IDayCn != null && info.IDayCn != \"\") {\r\n                    day.bottomInfo = info.IDayCn;\r\n                }\r\n                hasData(day, y, m, d);\r\n                //console.log('测试Calendar');\r\n                return day;\r\n            };\r\n        });\r\n\r\n        //选择日期\r\n        const showPopup = ref(false);\r\n        const DateObj = reactive({ Year: 0, Month: 0, Day: 0 });\r\n        const SelectDate = (value) => {\r\n            const _time = new Date(value);\r\n            const y = _time.getFullYear();\r\n            const m = _time.getMonth() + 1;\r\n            const d = _time.getDate();\r\n            // const w = _time.getDay();\r\n            console.log([y, m, d].join('-'));\r\n            DateObj.Year = y;\r\n            DateObj.Month = m;\r\n            DateObj.Day = d;\r\n            console.log(JSON.stringify(DateObj));\r\n            showPopup.value = true;\r\n            pushHistory();\r\n        };\r\n\r\n        //监听返回按钮---------START---------\r\n        const pushHistory = () => {\r\n            const state = { title: \"title\", url: \"/Calendar\" };\r\n            window.history.pushState(state, state.title, state.url)\r\n        };\r\n        window.addEventListener('popstate', () => {\r\n            console.log('popstate');\r\n            if (isActived.value && showPopup.value) {\r\n                showPopup.value = false;\r\n            }\r\n        }, false);\r\n        //取消弹窗pop\r\n\r\n        const cancelPop = () => {\r\n            console.log('cancelPop');\r\n            if (showPopup.value) {\r\n                router.back();\r\n            }\r\n        }\r\n        const isActived = ref(false);\r\n        onActivated(() => {\r\n            console.log(\"Cale actived\");\r\n\r\n            isActived.value = true;\r\n            store.commit('SelectTabBar', -1);\r\n            store.commit('SelectTabBar', -1);\r\n            if (DateObj.Year == 0) {\r\n                const date = new Date();\r\n                DateObj.Year = date.getFullYear();\r\n                DateObj.Month = date.getMonth() + 1;\r\n                DateObj.Day = date.getDate();\r\n            }\r\n            getCaleListData(DateObj.Year, DateObj.Month);\r\n\r\n            console.log('historyNote', historyNote.value.length);\r\n            if (historyNote.value.length > 0) {\r\n                console.log('showPop', showPopup.value);\r\n                historyNote.value = [];\r\n                setTimeout(() => {\r\n                    showPopup.value = true;\r\n                }, 100);\r\n            }\r\n        });\r\n        onDeactivated(() => {\r\n            console.log(\"deactived\");\r\n            isActived.value = false;\r\n        });\r\n        const historyNote = ref([]);\r\n        const openNotedetail = (data) => {\r\n            console.log('openNotedetail', JSON.stringify(data));\r\n            historyNote.value.push(data.Id);\r\n        };\r\n        //-----------------END---------------\r\n\r\n        const monthShow = (data) => {\r\n            console.log('monthShow');\r\n            console.log(JSON.stringify(data));\r\n            getCaleListData(data.date.getFullYear(), data.date.getMonth() + 1);\r\n        };\r\n\r\n\r\n        const hasData = (day, y, m, d) => {\r\n            var data = caleListData[`${y}-${m}`];\r\n            //console.log('hasData=>' + y + ',' + m + ' = ' + JSON.stringify(data));\r\n            if (data && data.length > 0) {\r\n                for (let index = 0; index < data.length; index++) {\r\n                    const item = data[index];\r\n                    if (item.Day == d) {\r\n                        day.topInfo = 1;\r\n                        break;\r\n                    }\r\n                }\r\n            } else {\r\n                day.topInfo = 0;\r\n            }\r\n        };\r\n\r\n        const nowDate = new Date();\r\n\r\n        //点击标题右侧按钮事件\r\n        const clickRightEvent = ()=>{\r\n            console.log('click right');\r\n\r\n        }\r\n        return {\r\n            vheight,\r\n            minDate: new Date(nowDate.getFullYear() - 3, 0, 1),\r\n            maxDate: new Date(nowDate.getFullYear() + 3, 11, 31),\r\n            formatter,\r\n            SelectDate,\r\n            monthShow,\r\n            showPopup,\r\n            DateObj,\r\n            cancelPop,\r\n            openNotedetail,\r\n            clickRightEvent,\r\n        };\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n#app {\r\n\r\n    .van-calendar {\r\n        width: 100%;\r\n        height: v-bind(\"vheight\");\r\n\r\n        .weekendRed {\r\n            color: red;\r\n        }\r\n\r\n        .today {\r\n            color: rgb(23, 148, 250);\r\n        }\r\n\r\n        .tips {\r\n            position: absolute;\r\n            top: 8px;\r\n            right: 8px;\r\n        }\r\n    }\r\n}\r\n</style>","/**\r\n * @1900-2100区间内的公历、农历互转\r\n * @charset UTF-8\r\n * @Author  Jea杨(JJonline@JJonline.Cn)\r\n * @Time    2014-7-21\r\n * @Time    2016-8-13 Fixed 2033hex、Attribution Annals\r\n * @Time    2016-9-25 Fixed lunar LeapMonth Param Bug\r\n * @Time    2017-7-24 Fixed use getTerm Func Param Error.use solar year,NOT lunar year\r\n * @Version 1.0.3\r\n * @公历转农历：calendar.solar2lunar(1987,11,01); //[you can ignore params of prefix 0]\r\n * @农历转公历：calendar.lunar2solar(1987,09,10); //[you can ignore params of prefix 0]\r\n */\r\nconst calendar = {\r\n\r\n    /**\r\n     * 农历1900-2100的润大小信息表\r\n     * @Array Of Property\r\n     * @return Hex\r\n     */\r\n    lunarInfo: [0x04bd8, 0x04ae0, 0x0a570, 0x054d5, 0x0d260, 0x0d950, 0x16554, 0x056a0, 0x09ad0, 0x055d2,//1900-1909\r\n        0x04ae0, 0x0a5b6, 0x0a4d0, 0x0d250, 0x1d255, 0x0b540, 0x0d6a0, 0x0ada2, 0x095b0, 0x14977,//1910-1919\r\n        0x04970, 0x0a4b0, 0x0b4b5, 0x06a50, 0x06d40, 0x1ab54, 0x02b60, 0x09570, 0x052f2, 0x04970,//1920-1929\r\n        0x06566, 0x0d4a0, 0x0ea50, 0x16a95, 0x05ad0, 0x02b60, 0x186e3, 0x092e0, 0x1c8d7, 0x0c950,//1930-1939\r\n        0x0d4a0, 0x1d8a6, 0x0b550, 0x056a0, 0x1a5b4, 0x025d0, 0x092d0, 0x0d2b2, 0x0a950, 0x0b557,//1940-1949\r\n        0x06ca0, 0x0b550, 0x15355, 0x04da0, 0x0a5b0, 0x14573, 0x052b0, 0x0a9a8, 0x0e950, 0x06aa0,//1950-1959\r\n        0x0aea6, 0x0ab50, 0x04b60, 0x0aae4, 0x0a570, 0x05260, 0x0f263, 0x0d950, 0x05b57, 0x056a0,//1960-1969\r\n        0x096d0, 0x04dd5, 0x04ad0, 0x0a4d0, 0x0d4d4, 0x0d250, 0x0d558, 0x0b540, 0x0b6a0, 0x195a6,//1970-1979\r\n        0x095b0, 0x049b0, 0x0a974, 0x0a4b0, 0x0b27a, 0x06a50, 0x06d40, 0x0af46, 0x0ab60, 0x09570,//1980-1989\r\n        0x04af5, 0x04970, 0x064b0, 0x074a3, 0x0ea50, 0x06b58, 0x05ac0, 0x0ab60, 0x096d5, 0x092e0,//1990-1999\r\n        0x0c960, 0x0d954, 0x0d4a0, 0x0da50, 0x07552, 0x056a0, 0x0abb7, 0x025d0, 0x092d0, 0x0cab5,//2000-2009\r\n        0x0a950, 0x0b4a0, 0x0baa4, 0x0ad50, 0x055d9, 0x04ba0, 0x0a5b0, 0x15176, 0x052b0, 0x0a930,//2010-2019\r\n        0x07954, 0x06aa0, 0x0ad50, 0x05b52, 0x04b60, 0x0a6e6, 0x0a4e0, 0x0d260, 0x0ea65, 0x0d530,//2020-2029\r\n        0x05aa0, 0x076a3, 0x096d0, 0x04afb, 0x04ad0, 0x0a4d0, 0x1d0b6, 0x0d250, 0x0d520, 0x0dd45,//2030-2039\r\n        0x0b5a0, 0x056d0, 0x055b2, 0x049b0, 0x0a577, 0x0a4b0, 0x0aa50, 0x1b255, 0x06d20, 0x0ada0,//2040-2049\r\n        /**Add By JJonline@JJonline.Cn**/\r\n        0x14b63, 0x09370, 0x049f8, 0x04970, 0x064b0, 0x168a6, 0x0ea50, 0x06b20, 0x1a6c4, 0x0aae0,//2050-2059\r\n        0x092e0, 0x0d2e3, 0x0c960, 0x0d557, 0x0d4a0, 0x0da50, 0x05d55, 0x056a0, 0x0a6d0, 0x055d4,//2060-2069\r\n        0x052d0, 0x0a9b8, 0x0a950, 0x0b4a0, 0x0b6a6, 0x0ad50, 0x055a0, 0x0aba4, 0x0a5b0, 0x052b0,//2070-2079\r\n        0x0b273, 0x06930, 0x07337, 0x06aa0, 0x0ad50, 0x14b55, 0x04b60, 0x0a570, 0x054e4, 0x0d160,//2080-2089\r\n        0x0e968, 0x0d520, 0x0daa0, 0x16aa6, 0x056d0, 0x04ae0, 0x0a9d4, 0x0a2d0, 0x0d150, 0x0f252,//2090-2099\r\n        0x0d520],//2100\r\n\r\n    /**\r\n     * 公历每个月份的天数普通表\r\n     * @Array Of Property\r\n     * @return Number\r\n     */\r\n    solarMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\r\n\r\n    /**\r\n     * 天干地支之天干速查表\r\n     * @Array Of Property trans[\"甲\",\"乙\",\"丙\",\"丁\",\"戊\",\"己\",\"庚\",\"辛\",\"壬\",\"癸\"]\r\n     * @return Cn string\r\n     */\r\n    Gan: [\"\\u7532\", \"\\u4e59\", \"\\u4e19\", \"\\u4e01\", \"\\u620a\", \"\\u5df1\", \"\\u5e9a\", \"\\u8f9b\", \"\\u58ec\", \"\\u7678\"],\r\n\r\n    /**\r\n     * 天干地支之地支速查表\r\n     * @Array Of Property\r\n     * @trans[\"子\",\"丑\",\"寅\",\"卯\",\"辰\",\"巳\",\"午\",\"未\",\"申\",\"酉\",\"戌\",\"亥\"]\r\n     * @return Cn string\r\n     */\r\n    Zhi: [\"\\u5b50\", \"\\u4e11\", \"\\u5bc5\", \"\\u536f\", \"\\u8fb0\", \"\\u5df3\", \"\\u5348\", \"\\u672a\", \"\\u7533\", \"\\u9149\", \"\\u620c\", \"\\u4ea5\"],\r\n\r\n    /**\r\n     * 天干地支之地支速查表<=>生肖\r\n     * @Array Of Property\r\n     * @trans[\"鼠\",\"牛\",\"虎\",\"兔\",\"龙\",\"蛇\",\"马\",\"羊\",\"猴\",\"鸡\",\"狗\",\"猪\"]\r\n     * @return Cn string\r\n     */\r\n    Animals: [\"\\u9f20\", \"\\u725b\", \"\\u864e\", \"\\u5154\", \"\\u9f99\", \"\\u86c7\", \"\\u9a6c\", \"\\u7f8a\", \"\\u7334\", \"\\u9e21\", \"\\u72d7\", \"\\u732a\"],\r\n\r\n    /**\r\n     * 阳历节日\r\n     */\r\n    festival: {\r\n        '1-1': {title: '元旦节'},\r\n        '2-14': {title: '情人节'},\r\n        '5-1': {title: '劳动节'},\r\n        '5-4': {title: '青年节'},\r\n        '6-1': {title: '儿童节'},\r\n        '9-10': {title: '教师节'},\r\n        '10-1': {title: '国庆节'},\r\n        '12-25': {title: '圣诞节'},\r\n\r\n        '3-8': {title: '妇女节'},\r\n        '3-12': {title: '植树节'},\r\n        '4-1': {title: '愚人节'},\r\n        '5-12': {title: '护士节'},\r\n        '7-1': {title: '建党节'},\r\n        '8-1': {title: '建军节'},\r\n        '12-24': {title: '平安夜'},\r\n    },\r\n\r\n    /**\r\n     * 农历节日\r\n     */\r\n    lFestival: {\r\n        '12-30': {title: '除夕'},\r\n        '1-1': {title: '春节'},\r\n        '1-15': {title: '元宵节'},\r\n        '2-2': {title: '龙抬头'},\r\n        '5-5': {title: '端午节'},\r\n        '7-7': {title: '七夕节'},\r\n        '7-15': {title: '中元节'},\r\n        '8-15': {title: '中秋节'},\r\n        '9-9': {title: '重阳节'},\r\n        '10-1': {title: '寒衣节'},\r\n        '10-15': {title: '下元节'},\r\n        '12-8': {title: '腊八节'},\r\n        '12-23': {title: '北方小年'},\r\n        '12-24': {title: '南方小年'},\r\n    },\r\n\r\n    /**\r\n     * 返回默认定义的阳历节日\r\n     */\r\n    getFestival() {\r\n        return this.festival\r\n    },\r\n\r\n    /**\r\n     * 返回默认定义的内容里节日\r\n     */\r\n    getLunarFestival() {\r\n        return this.lFestival\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param param {Object} 按照festival的格式输入数据，设置阳历节日\r\n     */\r\n    setFestival(param = {}) {\r\n        this.festival = param\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param param {Object} 按照lFestival的格式输入数据，设置农历节日\r\n     */\r\n    setLunarFestival(param = {}) {\r\n        this.lFestival = param\r\n    },\r\n\r\n    /**\r\n     * 24节气速查表\r\n     * @Array Of Property\r\n     * @trans[\"小寒\",\"大寒\",\"立春\",\"雨水\",\"惊蛰\",\"春分\",\"清明\",\"谷雨\",\"立夏\",\"小满\",\"芒种\",\"夏至\",\"小暑\",\"大暑\",\"立秋\",\"处暑\",\"白露\",\"秋分\",\"寒露\",\"霜降\",\"立冬\",\"小雪\",\"大雪\",\"冬至\"]\r\n     * @return Cn string\r\n     */\r\n    solarTerm: [\"\\u5c0f\\u5bd2\", \"\\u5927\\u5bd2\", \"\\u7acb\\u6625\", \"\\u96e8\\u6c34\", \"\\u60ca\\u86f0\", \"\\u6625\\u5206\", \"\\u6e05\\u660e\", \"\\u8c37\\u96e8\", \"\\u7acb\\u590f\", \"\\u5c0f\\u6ee1\", \"\\u8292\\u79cd\", \"\\u590f\\u81f3\", \"\\u5c0f\\u6691\", \"\\u5927\\u6691\", \"\\u7acb\\u79cb\", \"\\u5904\\u6691\", \"\\u767d\\u9732\", \"\\u79cb\\u5206\", \"\\u5bd2\\u9732\", \"\\u971c\\u964d\", \"\\u7acb\\u51ac\", \"\\u5c0f\\u96ea\", \"\\u5927\\u96ea\", \"\\u51ac\\u81f3\"],\r\n\r\n    /**\r\n     * 1900-2100各年的24节气日期速查表\r\n     * @Array Of Property\r\n     * @return 0x string For splice\r\n     */\r\n    sTermInfo: ['9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf97c3598082c95f8c965cc920f',\r\n        '97bd0b06bdb0722c965ce1cfcc920f', 'b027097bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\r\n        '97bcf97c359801ec95f8c965cc920f', '97bd0b06bdb0722c965ce1cfcc920f', 'b027097bd097c36b0b6fc9274c91aa',\r\n        '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f', '97bd0b06bdb0722c965ce1cfcc920f',\r\n        'b027097bd097c36b0b6fc9274c91aa', '9778397bd19801ec9210c965cc920e', '97b6b97bd19801ec95f8c965cc920f',\r\n        '97bd09801d98082c95f8e1cfcc920f', '97bd097bd097c36b0b6fc9210c8dc2', '9778397bd197c36c9210c9274c91aa',\r\n        '97b6b97bd19801ec95f8c965cc920e', '97bd09801d98082c95f8e1cfcc920f', '97bd097bd097c36b0b6fc9210c8dc2',\r\n        '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec95f8c965cc920e', '97bcf97c3598082c95f8e1cfcc920f',\r\n        '97bd097bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec9210c965cc920e',\r\n        '97bcf97c3598082c95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\r\n        '97b6b97bd19801ec9210c965cc920e', '97bcf97c3598082c95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722',\r\n        '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f',\r\n        '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\r\n        '97bcf97c359801ec95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\r\n        '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f', '97bd097bd07f595b0b6fc920fb0722',\r\n        '9778397bd097c36b0b6fc9210c8dc2', '9778397bd19801ec9210c9274c920e', '97b6b97bd19801ec95f8c965cc920f',\r\n        '97bd07f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c920e',\r\n        '97b6b97bd19801ec95f8c965cc920f', '97bd07f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2',\r\n        '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bd07f1487f595b0b0bc920fb0722',\r\n        '7f0e397bd097c36b0b6fc9210c8dc2', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\r\n        '97bcf7f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\r\n        '97b6b97bd19801ec9210c965cc920e', '97bcf7f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',\r\n        '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf7f1487f531b0b0bb0b6fb0722',\r\n        '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\r\n        '97bcf7f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\r\n        '97b6b97bd19801ec9210c9274c920e', '97bcf7f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',\r\n        '9778397bd097c36b0b6fc9210c91aa', '97b6b97bd197c36c9210c9274c920e', '97bcf7f0e47f531b0b0bb0b6fb0722',\r\n        '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c920e',\r\n        '97b6b7f0e47f531b0723b0b6fb0722', '7f0e37f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2',\r\n        '9778397bd097c36b0b70c9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721', '7f0e37f1487f595b0b0bb0b6fb0722',\r\n        '7f0e397bd097c35b0b6fc9210c8dc2', '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721',\r\n        '7f0e27f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\r\n        '97b6b7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',\r\n        '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',\r\n        '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721',\r\n        '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\r\n        '97b6b7f0e47f531b0723b0787b0721', '7f0e27f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',\r\n        '9778397bd097c36b0b6fc9210c91aa', '97b6b7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',\r\n        '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9210c8dc2', '977837f0e37f149b0723b0787b0721',\r\n        '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f5307f595b0b0bc920fb0722', '7f0e397bd097c35b0b6fc9210c8dc2',\r\n        '977837f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e37f1487f595b0b0bb0b6fb0722',\r\n        '7f0e397bd097c35b0b6fc9210c8dc2', '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\r\n        '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '977837f0e37f14998082b0787b06bd',\r\n        '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',\r\n        '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',\r\n        '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\r\n        '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14998082b0787b06bd',\r\n        '7f07e7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',\r\n        '977837f0e37f14998082b0723b06bd', '7f07e7f0e37f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',\r\n        '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b0721',\r\n        '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f1487f595b0b0bb0b6fb0722', '7f0e37f0e37f14898082b0723b02d5',\r\n        '7ec967f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f1487f531b0b0bb0b6fb0722',\r\n        '7f0e37f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\r\n        '7f0e37f1487f531b0b0bb0b6fb0722', '7f0e37f0e37f14898082b072297c35', '7ec967f0e37f14998082b0787b06bd',\r\n        '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e37f0e37f14898082b072297c35',\r\n        '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',\r\n        '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f149b0723b0787b0721',\r\n        '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14998082b0723b06bd',\r\n        '7f07e7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722', '7f0e37f0e366aa89801eb072297c35',\r\n        '7ec967f0e37f14998082b0723b06bd', '7f07e7f0e37f14998083b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',\r\n        '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14898082b0723b02d5', '7f07e7f0e37f14998082b0787b0721',\r\n        '7f07e7f0e47f531b0723b0b6fb0722', '7f0e36665b66aa89801e9808297c35', '665f67f0e37f14898082b0723b02d5',\r\n        '7ec967f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0722', '7f0e36665b66a449801e9808297c35',\r\n        '665f67f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\r\n        '7f0e36665b66a449801e9808297c35', '665f67f0e37f14898082b072297c35', '7ec967f0e37f14998082b0787b06bd',\r\n        '7f07e7f0e47f531b0723b0b6fb0721', '7f0e26665b66a449801e9808297c35', '665f67f0e37f1489801eb072297c35',\r\n        '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722'],\r\n\r\n    /**\r\n     * 数字转中文速查表\r\n     * @Array Of Property\r\n     * @trans ['日','一','二','三','四','五','六','七','八','九','十']\r\n     * @return Cn string\r\n     */\r\n    nStr1: [\"\\u65e5\", \"\\u4e00\", \"\\u4e8c\", \"\\u4e09\", \"\\u56db\", \"\\u4e94\", \"\\u516d\", \"\\u4e03\", \"\\u516b\", \"\\u4e5d\", \"\\u5341\"],\r\n\r\n    /**\r\n     * 日期转农历称呼速查表\r\n     * @Array Of Property\r\n     * @trans ['初','十','廿','卅']\r\n     * @return Cn string\r\n     */\r\n    nStr2: [\"\\u521d\", \"\\u5341\", \"\\u5eff\", \"\\u5345\"],\r\n\r\n    /**\r\n     * 月份转农历称呼速查表\r\n     * @Array Of Property\r\n     * @trans ['正','一','二','三','四','五','六','七','八','九','十','冬','腊']\r\n     * @return Cn string\r\n     */\r\n    nStr3: [\"\\u6b63\", \"\\u4e8c\", \"\\u4e09\", \"\\u56db\", \"\\u4e94\", \"\\u516d\", \"\\u4e03\", \"\\u516b\", \"\\u4e5d\", \"\\u5341\", \"\\u51ac\", \"\\u814a\"],\r\n\r\n    /**\r\n     * 返回农历y年一整年的总天数\r\n     * @param y lunar Year\r\n     * @return Number\r\n     * @eg:var count = calendar.lYearDays(1987) ;//count=387\r\n     */\r\n    lYearDays: function (y) {\r\n        let i, sum = 348;\r\n        for (i = 0x8000; i > 0x8; i >>= 1) {\r\n            sum += (this.lunarInfo[y - 1900] & i) ? 1 : 0;\r\n        }\r\n        return (sum + this.leapDays(y));\r\n    },\r\n\r\n    /**\r\n     * 返回农历y年闰月是哪个月；若y年没有闰月 则返回0\r\n     * @param y lunar Year\r\n     * @return Number (0-12)\r\n     * @eg:var leapMonth = calendar.leapMonth(1987) ;//leapMonth=6\r\n     */\r\n    leapMonth: function (y) { //闰字编码 \\u95f0\r\n        return (this.lunarInfo[y - 1900] & 0xf);\r\n    },\r\n\r\n    /**\r\n     * 返回农历y年闰月的天数 若该年没有闰月则返回0\r\n     * @param y lunar Year\r\n     * @return Number (0、29、30)\r\n     * @eg:var leapMonthDay = calendar.leapDays(1987) ;//leapMonthDay=29\r\n     */\r\n    leapDays: function (y) {\r\n        if (this.leapMonth(y)) {\r\n            return ((this.lunarInfo[y - 1900] & 0x10000) ? 30 : 29);\r\n        }\r\n        return (0);\r\n    },\r\n\r\n    /**\r\n     * 返回农历y年m月（非闰月）的总天数，计算m为闰月时的天数请使用leapDays方法\r\n     * @param y lunar Year\r\n     * @param m lunar Month\r\n     * @return Number (-1、29、30)\r\n     * @eg:var MonthDay = calendar.monthDays(1987,9) ;//MonthDay=29\r\n     */\r\n    monthDays: function (y, m) {\r\n        if (m > 12 || m < 1) {\r\n            return -1\r\n        }//月份参数从1至12，参数错误返回-1\r\n        return ((this.lunarInfo[y - 1900] & (0x10000 >> m)) ? 30 : 29);\r\n    },\r\n\r\n    /**\r\n     * 返回公历(!)y年m月的天数\r\n     * @param y solar Year\r\n     * @param m solar Month\r\n     * @return Number (-1、28、29、30、31)\r\n     * @eg:var solarMonthDay = calendar.leapDays(1987) ;//solarMonthDay=30\r\n     */\r\n    solarDays: function (y, m) {\r\n        if (m > 12 || m < 1) {\r\n            return -1\r\n        } //若参数错误 返回-1\r\n        const ms = m - 1;\r\n        if (ms === 1) { //2月份的闰平规律测算后确认返回28或29\r\n            return (((y % 4 === 0) && (y % 100 !== 0) || (y % 400 === 0)) ? 29 : 28);\r\n        } else {\r\n            return (this.solarMonth[ms]);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 农历年份转换为干支纪年\r\n     * @param  lYear 农历年的年份数\r\n     * @return Cn string\r\n     */\r\n    toGanZhiYear: function (lYear) {\r\n        var ganKey = (lYear - 3) % 10;\r\n        var zhiKey = (lYear - 3) % 12;\r\n        if (ganKey === 0) ganKey = 10;//如果余数为0则为最后一个天干\r\n        if (zhiKey === 0) zhiKey = 12;//如果余数为0则为最后一个地支\r\n        return this.Gan[ganKey - 1] + this.Zhi[zhiKey - 1];\r\n\r\n    },\r\n\r\n    /**\r\n     * 公历月、日判断所属星座\r\n     * @param  cMonth [description]\r\n     * @param  cDay [description]\r\n     * @return Cn string\r\n     */\r\n    toAstro: function (cMonth, cDay) {\r\n        const s = \"\\u9b54\\u7faf\\u6c34\\u74f6\\u53cc\\u9c7c\\u767d\\u7f8a\\u91d1\\u725b\\u53cc\\u5b50\\u5de8\\u87f9\\u72ee\\u5b50\\u5904\\u5973\\u5929\\u79e4\\u5929\\u874e\\u5c04\\u624b\\u9b54\\u7faf\";\r\n        const arr = [20, 19, 21, 21, 21, 22, 23, 23, 23, 23, 22, 22];\r\n        return s.substr(cMonth * 2 - (cDay < arr[cMonth - 1] ? 2 : 0), 2) + \"\\u5ea7\";//座\r\n    },\r\n\r\n    /**\r\n     * 传入offset偏移量返回干支\r\n     * @param offset 相对甲子的偏移量\r\n     * @return Cn string\r\n     */\r\n    toGanZhi: function (offset) {\r\n        return this.Gan[offset % 10] + this.Zhi[offset % 12];\r\n    },\r\n\r\n    /**\r\n     * 传入公历(!)y年获得该年第n个节气的公历日期\r\n     * @param y y公历年(1900-2100)\r\n     * @param n n二十四节气中的第几个节气(1~24)；从n=1(小寒)算起\r\n     * @return day Number\r\n     * @eg:var _24 = calendar.getTerm(1987,3) ;//_24=4;意即1987年2月4日立春\r\n     */\r\n    getTerm: function (y, n) {\r\n        if( y < 1900 || y > 2100 || n < 1 || n > 24) {\r\n            return -1;\r\n        }\r\n        const _table = this.sTermInfo[y - 1900];\r\n        const _calcDay = []\r\n        for (let index = 0; index < _table.length; index += 5) {\r\n            const chunk = parseInt('0x' + _table.substr(index, 5)).toString()\r\n            _calcDay.push(\r\n              chunk[0],\r\n              chunk.substr(1, 2),\r\n              chunk[3],\r\n              chunk.substr(4, 2)\r\n            )\r\n        }\r\n        return parseInt(_calcDay[n - 1]);\r\n    },\r\n\r\n    /**\r\n     * 传入农历数字月份返回汉语通俗表示法\r\n     * @param m lunar month\r\n     * @return Cn string\r\n     * @eg:var cnMonth = calendar.toChinaMonth(12) ;//cnMonth='腊月'\r\n     */\r\n    toChinaMonth: function (m) { // 月 => \\u6708\r\n        if (m > 12 || m < 1) {\r\n            return -1\r\n        } //若参数错误 返回-1\r\n        let s = this.nStr3[m - 1];\r\n        s += \"\\u6708\";//加上月字\r\n        return s;\r\n    },\r\n\r\n    /**\r\n     * 传入农历日期数字返回汉字表示法\r\n     * @param d lunar day\r\n     * @return Cn string\r\n     * @eg:var cnDay = calendar.toChinaDay(21) ;//cnMonth='廿一'\r\n     */\r\n    toChinaDay: function (d) { //日 => \\u65e5\r\n        let s;\r\n        switch (d) {\r\n            case 10:\r\n                s = '\\u521d\\u5341';\r\n                break;\r\n            case 20:\r\n                s = '\\u4e8c\\u5341';\r\n                break;\r\n            case 30:\r\n                s = '\\u4e09\\u5341';\r\n                break;\r\n            default :\r\n                s = this.nStr2[Math.floor(d / 10)];\r\n                s += this.nStr1[d % 10];\r\n        }\r\n        return (s);\r\n    },\r\n\r\n    /**\r\n     * 年份转生肖[!仅能大致转换] => 精确划分生肖分界线是“立春”\r\n     * @param y year\r\n     * @return Cn string\r\n     * @eg:var animal = calendar.getAnimal(1987) ;//animal='兔'\r\n     */\r\n    getAnimal: function (y) {\r\n        return this.Animals[(y - 4) % 12]\r\n    },\r\n\r\n    /**\r\n     * 传入阳历年月日获得详细的公历、农历object信息 <=>JSON\r\n     * !important! 公历参数区间1900.1.31~2100.12.31\r\n     * @param yPara  solar year\r\n     * @param mPara  solar month\r\n     * @param dPara  solar day\r\n     * @return JSON object\r\n     * @eg:console.log(calendar.solar2lunar(1987,11,01));\r\n     */\r\n    solar2lunar: function (yPara, mPara, dPara) {\r\n        let y = parseInt(yPara);\r\n        let m = parseInt(mPara);\r\n        let d = parseInt(dPara);\r\n        //年份限定、上限\r\n        if (y < 1900 || y > 2100) {\r\n            return -1;// undefined转换为数字变为NaN\r\n        }\r\n        //公历传参最下限\r\n        if (y === 1900 && m === 1 && d < 31) {\r\n            return -1;\r\n        }\r\n\r\n        //未传参  获得当天\r\n        let objDate;\r\n        if (!y) {\r\n            objDate = new Date();\r\n        } else {\r\n            objDate = new Date(y, parseInt(m) - 1, d);\r\n        }\r\n        let i, leap = 0, temp = 0;\r\n        //修正ymd参数\r\n        y = objDate.getFullYear();\r\n        m = objDate.getMonth() + 1;\r\n        d = objDate.getDate();\r\n        let offset = (Date.UTC(objDate.getFullYear(), objDate.getMonth(), objDate.getDate()) - Date.UTC(1900, 0, 31)) / 86400000;\r\n        for (i = 1900; i < 2101 && offset > 0; i++) {\r\n            temp = this.lYearDays(i);\r\n            offset -= temp;\r\n        }\r\n        if (offset < 0) {\r\n            offset += temp;\r\n            i--;\r\n        }\r\n\r\n        //是否今天\r\n        let isTodayObj = new Date(),\r\n            isToday = false;\r\n        if (isTodayObj.getFullYear() === y && isTodayObj.getMonth() + 1 === m && isTodayObj.getDate() === d) {\r\n            isToday = true;\r\n        }\r\n        //星期几\r\n        let nWeek = objDate.getDay(),\r\n            cWeek = this.nStr1[nWeek];\r\n        //数字表示周几顺应天朝周一开始的惯例\r\n        if (nWeek === 0) {\r\n            nWeek = 7;\r\n        }\r\n        //农历年\r\n        const year = i;\r\n        leap = this.leapMonth(i); //闰哪个月\r\n        let isLeap = false;\r\n\r\n        //效验闰月\r\n        for (i = 1; i < 13 && offset > 0; i++) {\r\n            //闰月\r\n            if (leap > 0 && i === (leap + 1) && isLeap === false) {\r\n                --i;\r\n                isLeap = true;\r\n                temp = this.leapDays(year); //计算农历闰月天数\r\n            } else {\r\n                temp = this.monthDays(year, i);//计算农历普通月天数\r\n            }\r\n            //解除闰月\r\n            if (isLeap === true && i === (leap + 1)) {\r\n                isLeap = false;\r\n            }\r\n            offset -= temp;\r\n        }\r\n        // 闰月导致数组下标重叠取反\r\n        if (offset === 0 && leap > 0 && i === leap + 1) {\r\n            if (isLeap) {\r\n                isLeap = false;\r\n            } else {\r\n                isLeap = true;\r\n                --i;\r\n            }\r\n        }\r\n        if (offset < 0) {\r\n            offset += temp;\r\n            --i;\r\n        }\r\n        //农历月\r\n        const month = i;\r\n        //农历日\r\n        const day = offset + 1;\r\n        //天干地支处理\r\n        const sm = m - 1;\r\n        const gzY = this.toGanZhiYear(year);\r\n\r\n        // 当月的两个节气\r\n        // bugfix-2017-7-24 11:03:38 use lunar Year Param `y` Not `year`\r\n        const firstNode = this.getTerm(y, (m * 2 - 1));//返回当月「节」为几日开始\r\n        const secondNode = this.getTerm(y, (m * 2));//返回当月「节」为几日开始\r\n\r\n        // 依据12节气修正干支月\r\n        let gzM = this.toGanZhi((y - 1900) * 12 + m + 11);\r\n        if (d >= firstNode) {\r\n            gzM = this.toGanZhi((y - 1900) * 12 + m + 12);\r\n        }\r\n\r\n        //传入的日期的节气与否\r\n        let isTerm = false;\r\n        let Term = null;\r\n        if (firstNode === d) {\r\n            isTerm = true;\r\n            Term = this.solarTerm[m * 2 - 2];\r\n        }\r\n        if (secondNode === d) {\r\n            isTerm = true;\r\n            Term = this.solarTerm[m * 2 - 1];\r\n        }\r\n        //日柱 当月一日与 1900/1/1 相差天数\r\n        const dayCyclical = Date.UTC(y, sm, 1, 0, 0, 0, 0) / 86400000 + 25567 + 10;\r\n        const gzD = this.toGanZhi(dayCyclical + d - 1);\r\n        //该日期所属的星座\r\n        const astro = this.toAstro(m, d);\r\n\r\n        const solarDate = y + '-' + m + '-' + d;\r\n        const lunarDate = year + '-' + month + '-' + day;\r\n\r\n        const festival = this.festival;\r\n        const lFestival = this.lFestival;\r\n\r\n        const festivalDate = m + '-' + d;\r\n        let lunarFestivalDate = month + '-' + day;\r\n\r\n        // bugfix https://github.com/jjonline/calendar.js/issues/29\r\n        // 农历节日修正：农历12月小月则29号除夕，大月则30号除夕\r\n        // 此处取巧修正：当前为农历12月29号时增加一次判断并且把lunarFestivalDate设置为12-30以正确取得除夕\r\n        // 天朝农历节日遇闰月过前不过后的原则，此处取农历12月天数不考虑闰月\r\n        // 农历润12月在本工具支持的200年区间内仅1574年出现\r\n        if (month === 12 && day === 29 && this.monthDays(year, month) === 29) {\r\n            lunarFestivalDate = '12-30';\r\n        }\r\n        return {\r\n            date: solarDate,\r\n            lunarDate: lunarDate,\r\n            festival: festival[festivalDate] ? festival[festivalDate].title : null,\r\n            lunarFestival: lFestival[lunarFestivalDate] ? lFestival[lunarFestivalDate].title : null,\r\n            'lYear': year,\r\n            'lMonth': month,\r\n            'lDay': day,\r\n            'Animal': this.getAnimal(year),\r\n            'IMonthCn': (isLeap ? \"\\u95f0\" : '') + this.toChinaMonth(month),\r\n            'IDayCn': this.toChinaDay(day),\r\n            'cYear': y,\r\n            'cMonth': m,\r\n            'cDay': d,\r\n            'gzYear': gzY,\r\n            'gzMonth': gzM,\r\n            'gzDay': gzD,\r\n            'isToday': isToday,\r\n            'isLeap': isLeap,\r\n            'nWeek': nWeek,\r\n            'ncWeek': \"\\u661f\\u671f\" + cWeek,\r\n            'isTerm': isTerm,\r\n            'Term': Term,\r\n            'astro': astro\r\n        };\r\n    },\r\n\r\n    /**\r\n     * 传入农历年月日以及传入的月份是否闰月获得详细的公历、农历object信息 <=>JSON\r\n     * !important! 参数区间1900.1.31~2100.12.1\r\n     * @param y  lunar year\r\n     * @param m  lunar month\r\n     * @param d  lunar day\r\n     * @param isLeapMonth  lunar month is leap or not.[如果是农历闰月第四个参数赋值true即可]\r\n     * @return JSON object\r\n     * @eg:console.log(calendar.lunar2solar(1987,9,10));\r\n     */\r\n    lunar2solar: function (y, m, d, isLeapMonth) {\r\n        y = parseInt(y)\r\n        m = parseInt(m)\r\n        d = parseInt(d)\r\n        isLeapMonth = !!isLeapMonth;\r\n       // const leapOffset = 0;\r\n        const leapMonth = this.leapMonth(y);\r\n        //const leapDay = this.leapDays(y);\r\n        if (isLeapMonth && (leapMonth !== m)) {\r\n            return -1;\r\n        }//传参要求计算该闰月公历 但该年得出的闰月与传参的月份并不同\r\n        if (y === 2100 && m === 12 && d > 1 || y === 1900 && m === 1 && d < 31) {\r\n            return -1;\r\n        }//超出了最大极限值\r\n        const day = this.monthDays(y, m);\r\n        let _day = day;\r\n        //bugFix 2016-9-25\r\n        //if month is leap, _day use leapDays method\r\n        if (isLeapMonth) {\r\n            _day = this.leapDays(y, m);\r\n        }\r\n        if (y < 1900 || y > 2100 || d > _day) {\r\n            return -1;\r\n        }//参数合法性效验\r\n\r\n        //计算农历的时间差\r\n        let offset = 0;\r\n        let i;\r\n        for (i = 1900; i < y; i++) {\r\n            offset += this.lYearDays(i);\r\n        }\r\n        let leap = 0, isAdd = false;\r\n        for (i = 1; i < m; i++) {\r\n            leap = this.leapMonth(y);\r\n            if (!isAdd) {//处理闰月\r\n                if (leap <= i && leap > 0) {\r\n                    offset += this.leapDays(y);\r\n                    isAdd = true;\r\n                }\r\n            }\r\n            offset += this.monthDays(y, i);\r\n        }\r\n        //转换闰月农历 需补充该年闰月的前一个月的时差\r\n        if (isLeapMonth) {\r\n            offset += day;\r\n        }\r\n        //1900年农历正月一日的公历时间为1900年1月30日0时0分0秒(该时间也是本农历的最开始起始点)\r\n        const strap = Date.UTC(1900, 1, 30, 0, 0, 0);\r\n        const calObj = new Date((offset + d - 31) * 86400000 + strap);\r\n        const cY = calObj.getUTCFullYear();\r\n        const cM = calObj.getUTCMonth() + 1;\r\n        const cD = calObj.getUTCDate();\r\n\r\n        return this.solar2lunar(cY, cM, cD);\r\n    }\r\n};\r\n\r\nexport {\r\n    calendar\r\n};\r\n","import { render } from \"./CalendarView.vue?vue&type=template&id=26e380c8\"\nimport script from \"./CalendarView.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarView.vue?vue&type=script&lang=js\"\n\nimport \"./CalendarView.vue?vue&type=style&index=0&id=26e380c8&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <van-nav-bar title=\"设置\" />\r\n    <div class=\"setting\">\r\n        <van-cell-group inset>\r\n            <van-cell title=\"开启指纹验证\" size=\"large\">\r\n                <template #right-icon>\r\n                    <van-switch v-model=\"switchChecked\" @update:model-value=\"onUpdateValue\" />\r\n                </template>\r\n            </van-cell>\r\n        </van-cell-group>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport { onActivated, ref } from 'vue';\r\nimport { showConfirmDialog } from 'vant';\r\nimport { useStore } from 'vuex';\r\n\r\nexport default {\r\n    name: 'SettingView',\r\n    setup() {\r\n\r\n        const store = useStore();\r\n\r\n        const switchChecked = ref(false)\r\n\r\n        const onUpdateValue = (newValue) => {\r\n            console.log('newValue',newValue);\r\n            showConfirmDialog({\r\n                title: '提醒',\r\n                message: newValue?'是否开启指纹验证？':'是否关闭指纹验证？',\r\n            }).then(() => {\r\n                switchChecked.value = newValue;\r\n                store.commit('setLocalItem',{key:store.state.localFingerKey,val:newValue});\r\n            }).catch(()=>{\r\n                switchChecked.value = !newValue;\r\n            });\r\n        };\r\n\r\n        onActivated(()=>{\r\n            getLocalItemFn();\r\n        });\r\n\r\n        const getLocalItemFn = async ()=>{\r\n            var val = await store.getters.getLocalItem(store.state.localFingerKey); \r\n            console.log('getLocalItem',val,typeof val);\r\n            switchChecked.value = val==='true';\r\n        }\r\n\r\n        return {\r\n            switchChecked,\r\n            onUpdateValue,\r\n        };\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.setting {\r\n    height: 100%;\r\n    background-color: #fff;\r\n    text-align: left;\r\n    padding: 10px 1px;\r\n}\r\n</style>","import { render } from \"./SettingView.vue?vue&type=template&id=aa049ee4\"\nimport script from \"./SettingView.vue?vue&type=script&lang=js\"\nexport * from \"./SettingView.vue?vue&type=script&lang=js\"\n\nimport \"./SettingView.vue?vue&type=style&index=0&id=aa049ee4&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"list-header\">\r\n        <van-nav-bar title=\"搜索记录\" left-text=\"返回\" left-arrow @click-left=\"onClickLeft\" />\r\n        <van-search v-model=\"searchKeyword\" @search=\"onSearch\" placeholder=\"请输入搜索关键词\" />\r\n        <van-dropdown-menu active-color=\"#ee0a24\">\r\n            <van-dropdown-item v-model=\"selValue1\" :options=\"option1\" @change=\"changeOption1\" />\r\n            <van-dropdown-item v-model=\"selValue2\" :options=\"option2\" @change=\"changeOption2\" />\r\n        </van-dropdown-menu>\r\n    </div>\r\n    <div class=\"list-data\">\r\n        <notes-view :ShowNavBar=\"false\" @openNotedetail=\"openNotedetail\" :Lazyload=\"Lazyload\" :QueryItem=\"QueryItem\"\r\n            :IsAll=\"true\"></notes-view>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport { onUnmounted, ref, onMounted, onActivated, reactive } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRoute, useRouter } from 'vue-router';\r\n\r\nimport NotesView from '../notes/NotesView.vue';\r\n\r\nexport default {\r\n    name: \"Search\",\r\n    components: {\r\n        NotesView,\r\n    },\r\n    setup() {\r\n        const store = useStore()\r\n        const route = useRoute();\r\n        const router = useRouter();\r\n\r\n        //keep-alive 缓存的组件激活时调用\r\n        onMounted(() => {\r\n            store.commit('SelectTabBar', 1);\r\n            console.log('SelectTabBar加载');\r\n        });\r\n        onUnmounted(() => {\r\n            store.commit('SelectTabBar', -1);\r\n            console.log('SelectTabBar卸载');\r\n        });\r\n\r\n        onActivated(() => {\r\n            console.log('onActivated Search');\r\n            store.commit('SelectTabBar', 1);\r\n            console.log('route.query.CyId', route.query.CyId);\r\n        });\r\n\r\n        const onClickLeft = () => {\r\n            history.back();\r\n        };\r\n\r\n        const lz = ref(!route.query.lz ? 0 : Number(route.query.lz));\r\n        console.log('lz', lz.value, typeof lz.value)\r\n        const Lazyload = ref(lz.value == 1);\r\n        console.log(Lazyload.value, typeof Lazyload.value);\r\n\r\n        const CyId = ref(!route.query.CyId ? 0 : route.query.CyId);\r\n        const CaId = ref(!route.query.CaId ? -1 : route.query.CaId);\r\n        const kw = ref(!route.query.kw ? '' : route.query.kw);\r\n        const searchKeyword = ref('');\r\n        searchKeyword.value = kw.value;\r\n\r\n\r\n        //搜索关键字\r\n        ///监听确认按钮\r\n        const onSearch = () => {\r\n            QueryItem.Keywords = searchKeyword.value;\r\n            router.push({\r\n                path: '/Search',\r\n                query: { CyId: CyId.value, CaId: CaId.value, kw: searchKeyword.value, lz: 1 },\r\n                replace: true\r\n            });\r\n\r\n        };\r\n        //筛选\r\n        const QueryItem = reactive({ ParentId: 0, note_category_Id: -1, Keywords: '' });\r\n        const selValue1 = ref(0);\r\n        const selValue2 = ref(-1);\r\n        const option1 = [\r\n            { text: '全部知识库', value: 0 },\r\n        ];\r\n        const option2 = [\r\n            { text: '全部分类', value: -1 },\r\n        ];\r\n        const getCyNoteList = () => {\r\n            store.dispatch('getCyNoteList').then((resolve) => {\r\n                var listData = resolve;\r\n                console.log('getCyNoteList=>' + JSON.stringify(listData));\r\n                for (let i = 0; i < listData.length; i++) {\r\n                    var item = listData[i];\r\n                    option1.push({ text: item.Title + ' (' + item.TotalNoteNum + ')', value: item.Id, num: item.TotalNoteNum });\r\n                }\r\n                if (!CyId.value) {\r\n                    CyId.value = 0;\r\n                }\r\n                selValue1.value = Number(CyId.value);\r\n                changeOptionFn(selValue1.value);\r\n            });\r\n        };\r\n        getCyNoteList();\r\n        const changeOptionFn = (val) => {\r\n            option2.length = 0;\r\n            option2.push({ text: '全部分类', value: -1 });\r\n            let notCategoryItem = { text: '未分类', value: 0 };\r\n            let selOption = null;\r\n            if (val > 0) {\r\n                option2.push(notCategoryItem);\r\n                for (let i = 0; i < option1.length; i++) {\r\n                    const item = option1[i];\r\n                    if (item.value == val) {\r\n                        selOption = item;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            store.dispatch('getCategoryList', { CyNoteId: val }).then((resolve) => {\r\n                var listData = resolve;\r\n                console.log('getCategoryList=>' + JSON.stringify(listData));\r\n                let totalNum = 0;\r\n                for (let i = 0; i < listData.length; i++) {\r\n                    totalNum += listData[i].TotalNoteNum;\r\n                    option2.push({ value: listData[i].Id, text: listData[i].CName + ' (' + listData[i].TotalNoteNum + ')' });\r\n                }\r\n                if(selOption != null){\r\n                    notCategoryItem.text = '未分类(' + (selOption.num - totalNum) + ')'\r\n                }\r\n                if (!CaId.value) {\r\n                    CaId.value = -1;\r\n                }\r\n                selValue2.value = Number(CaId.value);\r\n                QueryItem.note_category_Id = Number(CaId.value);\r\n                QueryItem.ParentId = val;\r\n                QueryItem.Keywords = searchKeyword.value;\r\n                if (searchKeyword.value.trim().length == 0) {\r\n                    QueryItem.Keywords = \"  \";\r\n                }\r\n            });\r\n        }\r\n        const changeOption1 = (val) => {\r\n            router.push({\r\n                path: '/Search',\r\n                query: { CyId: val, CaId: -1, kw: searchKeyword.value, lz: 1 },\r\n                replace: true\r\n            });\r\n            CyId.value = val;\r\n            CaId.value = -1;\r\n            changeOptionFn(val);\r\n        };\r\n        const changeOption2 = (val) => {\r\n            router.push({\r\n                path: '/Search',\r\n                query: { CyId: CyId.value, CaId: val, kw: searchKeyword.value, lz: 1 },\r\n                replace: true\r\n            });\r\n            CaId.value = val;\r\n            QueryItem.note_category_Id = val;\r\n        };\r\n\r\n        const openNotedetail = (data) => {\r\n            console.log('openNotedetail', JSON.stringify(data));\r\n        };\r\n\r\n        return {\r\n            onClickLeft,\r\n            searchKeyword,\r\n            onSearch,\r\n            selValue1,\r\n            selValue2,\r\n            option1,\r\n            option2,\r\n            changeOption1,\r\n            changeOption2,\r\n            QueryItem,\r\n            Lazyload,\r\n            openNotedetail,\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.list-header {\r\n    position: fixed;\r\n    width: 100%;\r\n    top: 0px;\r\n    z-index: 1000000;\r\n}\r\n\r\n.list-data {\r\n    margin-top: 150px;\r\n}\r\n\r\n.task-finish-overlay {\r\n    z-index: 1000000 !important;\r\n}\r\n\r\n.task-finish-dialog {\r\n    z-index: 1000000 !important;\r\n}\r\n</style>","import { render } from \"./SearchView.vue?vue&type=template&id=56dfc0d4\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js\"\n\nimport \"./SearchView.vue?vue&type=style&index=0&id=56dfc0d4&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <van-nav-bar class=\"list-title\" title=\"知识库\" v-show=\"showNavbar\">\r\n    <template #right>\r\n      <router-link v-if=\"showSwitchBtn\" to=\"/AddCategory\"> <van-icon name=\"plus\" size=\"22\" /></router-link>\r\n    </template>\r\n  </van-nav-bar>\r\n  <div class=\"list-box-cy\">\r\n    <van-pull-refresh class=\"van-pull-refresh-cy\" v-model=\"Refresh\" @refresh=\"onRefresh\">\r\n      <van-list v-model:loading=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\r\n        <van-swipe-cell v-for=\"(item, index) in list\" :key=\"index\" :before-close=\"beforeClose\">\r\n          <template #left>\r\n            <van-button square type=\"primary\" style=\"height: 100% !important\" :text=\"item.Sort > 1 ? '取消常用' : '常用'\"\r\n              @click=\"nextTop(item.Id)\" />\r\n          </template>\r\n          <van-row @click=\"onNoteDetail(item.Id)\">\r\n            <van-col span=\"24\">\r\n              <p class=\"van-multi-ellipsis--l3\"><van-icon name=\"bookmark\" style=\"margin-right: 5px;\" color=\"blue\" />{{\r\n                item.Title }}</p>\r\n              <p><span style=\"color:#999;margin-right:8px;\">共{{ item.totalNotes }}篇笔记</span>{{ item.CreateTime }}<span\r\n                  class=\"top-tag\" v-show=\"item.Sort > 1\">常用</span></p>\r\n            </van-col>\r\n          </van-row>\r\n          <template #right v-if=\"showSwitchBtn\">\r\n            <van-button square style=\"height: 100% !important\" text=\"编辑\" @click=\"AddCategory(item.Id)\" type=\"success\"\r\n              class=\"delete-button\" />\r\n            <!-- <van-button square style=\"height: 100% !important\" text=\"删除\" @click=\"preDelItem(item.Id,item.totalNotes)\" type=\"danger\"\r\n              class=\"delete-button\" /> -->\r\n          </template>\r\n        </van-swipe-cell>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { onActivated, ref, watch } from 'vue';\r\nimport { showConfirmDialog, showNotify } from 'vant';\r\nimport { Toast } from '@vant/compat';\r\nimport { useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport { useWindowSize } from '@vant/use';\r\n\r\nexport default {\r\n  name: 'CategoryView',\r\n  props: {\r\n    Date: {\r\n      type: Object,\r\n      default: () => ({ Year: 0, Month: 0, Day: 0 })\r\n    },\r\n    IsAll: Boolean,\r\n    Keywords: String,\r\n    ShowNavBar: {\r\n      type: Boolean,\r\n      default: () => true\r\n    }, //是否展示\r\n  },\r\n  emits: {\r\n    'openNotedetail': null,\r\n  },\r\n  setup(props, context) {\r\n\r\n    const router = useRouter();\r\n    const store = useStore();\r\n    const Refresh = ref(false);\r\n    const list = ref([]);\r\n    const loading = ref(false);\r\n    const finished = ref(false);\r\n    var initPageIndex = 0;\r\n\r\n    const onRefresh = () => {\r\n      setTimeout(() => {\r\n        Toast('刷新成功');\r\n        initPageIndex = 1;\r\n        list.value = [];\r\n        console.log('getNoteListByPage5');\r\n        getNoteListByPage(initPageIndex, 20);\r\n        Refresh.value = false;\r\n      }, 1000);\r\n    };\r\n\r\n    const onLoad = () => {\r\n      // 异步更新数据\r\n      initPageIndex = initPageIndex + 1;\r\n      console.log('getNoteListByPage6');\r\n      getNoteListByPage(initPageIndex, 20);\r\n    };\r\n\r\n    let willDelItemId = 0;\r\n    //删除\r\n    const preDelItem = (Id,totalNotes) => {\r\n      willDelItemId = Id;\r\n      console.log(willDelItemId);\r\n      showConfirmDialog({\r\n        title: '是否删除该知识库？',\r\n      }).then(() => {\r\n        if(totalNotes>0){\r\n          Toast.fail('知识库有数据不能删除!');\r\n          return;\r\n        }\r\n        store.dispatch('delNote', { Id: willDelItemId, real: 0 }).then((resolve, reject) => {\r\n          if (resolve.rowsAffected > 0) {\r\n            for (let index = 0; index < list.value.length; index++) {\r\n              const item = list.value[index];\r\n              if (item.Id == willDelItemId) {\r\n                list.value.splice(index, 1);\r\n                break;\r\n              }\r\n            }\r\n            showNotify({ type: 'success', message: '删除成功', position: 'bottom' });\r\n          } else {\r\n            Toast.fail('删除失败：' + reject);\r\n          }\r\n        });\r\n      }).catch(() => {\r\n        // on cancel\r\n      });\r\n    };\r\n    //置顶\r\n    let willTopItemId = 0;\r\n    const nextTop = (Id) => {\r\n      willTopItemId = Id;\r\n      console.log(willTopItemId);\r\n    };\r\n\r\n    const topItem = (item) => {\r\n      if (item.Sort > 1) {\r\n        //取消置顶\r\n        store.dispatch('updateNoteSort', {\r\n          Id: item.Id,\r\n          Sort: 1\r\n        }).then((resolve) => {\r\n          if (resolve.rowsAffected > 0) {\r\n            initPageIndex = 1;\r\n            list.value = [];\r\n            console.log('getNoteListByPage7');\r\n            getNoteListByPage(initPageIndex, 20);\r\n            setTimeout(function () {\r\n              Toast('已取消常用');\r\n            }, 300);\r\n          }\r\n        }).catch((reject) => {\r\n          Toast.fail('取消常用失败：' + reject);\r\n        });\r\n      } else {\r\n        //置顶\r\n        store.dispatch('updateNoteSort', {\r\n          Id: item.Id,\r\n          Sort: Date.now()\r\n        }).then((resolve) => {\r\n          if (resolve.rowsAffected > 0) {\r\n            initPageIndex = 1;\r\n            list.value = [];\r\n            console.log('getNoteListByPage1');\r\n            getNoteListByPage(initPageIndex, 20);\r\n            setTimeout(function () {\r\n              Toast('已设置常用');\r\n            }, 300);\r\n          }\r\n        }).catch((reject) => {\r\n          Toast.fail('常用失败：' + reject);\r\n        });\r\n      }\r\n    };\r\n\r\n    // position 为关闭时点击的位置\r\n    const beforeClose = ({ position }) => {\r\n      switch (position) {\r\n        case 'left':\r\n          return new Promise(() => {\r\n            for (let index = 0; index < list.value.length; index++) {\r\n              const item = list.value[index];\r\n              if (item.Id == willTopItemId) {\r\n                topItem(item);\r\n                break;\r\n              }\r\n            }\r\n          });\r\n        case 'cell':\r\n        case 'outside':\r\n          return true;\r\n        case 'right':\r\n          return new Promise(() => {\r\n\r\n          });\r\n      }\r\n    };\r\n\r\n    onActivated(() => {\r\n\r\n      store.commit('SelectTabBar', -1);\r\n\r\n      const RefreshListState = store.state.RefreshListState;\r\n      console.log('store.state.RefreshListState:' + RefreshListState, typeof RefreshListState);\r\n      if (RefreshListState) {\r\n        store.commit('setRefreshListState', false);\r\n        list.value = [];\r\n        initPageIndex = 1;\r\n        console.log('getNoteListByPage2');\r\n        getNoteListByPage(initPageIndex, 20);\r\n      }\r\n    });\r\n\r\n    //监听传入的日期是否变化\r\n    watch(() => props.Date, (newVal, oldVal) => {\r\n      console.log(JSON.stringify(newVal), JSON.stringify(oldVal));\r\n      list.value = [];\r\n      initPageIndex = 1;\r\n      console.log('getNoteListByPage3');\r\n      getNoteListByPage(initPageIndex, 20);\r\n    }, { deep: true });\r\n    //监听关键字\r\n    watch(() => props.Keywords, (newVal, oldVal) => {\r\n      console.log(JSON.stringify(newVal), JSON.stringify(oldVal));\r\n      list.value = [];\r\n      initPageIndex = 1;\r\n      console.log('getNoteListByPage4');\r\n      getNoteListByPage(initPageIndex, 20);\r\n    }, { deep: true });\r\n\r\n    const getNoteListByPage = (pageIndex, pageSize) => {\r\n      finished.value = false;\r\n      console.log(pageIndex + ', ' + pageSize + ', ' + props.Date.Year + ', ' + props.Date.Month + ', ' + props.Date.Day + ', ' + props.Keywords);\r\n      store.dispatch('getCyNoteListByPage', { pageIndex: pageIndex, pageSize: pageSize, Year: props.Date.Year, Month: props.Date.Month, Day: props.Date.Day, State: (props.IsAll ? 0 : 1), Sort: props.IsAll, kw: props.Keywords }).then((resolve) => {\r\n        var listData = resolve;\r\n        console.log('getCyNoteListByPage=>' + JSON.stringify(listData));\r\n        for (let i = 0; i < listData.length; i++) {\r\n          list.value.push(listData[i]);\r\n        }\r\n        // 加载状态结束\r\n        loading.value = false;\r\n\r\n        // 数据全部加载完成\r\n        if (listData.length == 0) {\r\n          finished.value = true;\r\n        }\r\n      });\r\n    };\r\n\r\n    //查看详情\r\n    const AddCategory = (Id) => {\r\n      router.push({\r\n        path: '/AddCategory',\r\n        query: { Id: Id }\r\n      });\r\n    };\r\n    const onNoteDetail = (CyId) => {\r\n      router.push({\r\n        path: '/CategoryDetail',\r\n        query: { CyId: CyId},\r\n      });\r\n    };\r\n\r\n    //是否展示navbar\r\n    const showNavbar = ref(props.ShowNavBar);\r\n\r\n    const { height } = useWindowSize();\r\n    const vheight = ref(height.value - 46 + 'px');\r\n\r\n    return {\r\n      Refresh,\r\n      onRefresh,\r\n      list,\r\n      onLoad,\r\n      loading,\r\n      finished,\r\n      onNoteDetail,\r\n      AddCategory,\r\n      preDelItem,\r\n      beforeClose,\r\n      vheight,\r\n      nextTop,\r\n      showNavbar,\r\n      showSwitchBtn: !props.IsAll,\r\n    };\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.list-title {\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 0px;\r\n}\r\n\r\n.list-box-cy {\r\n  margin-top: 46px;\r\n}\r\n\r\n.list-box-cy .add-box {\r\n  display: inline-block;\r\n  width: 60px;\r\n  height: 60px;\r\n  position: fixed;\r\n  border-radius: 50%;\r\n  bottom: 60px;\r\n  right: 12px;\r\n}\r\n\r\n.list-box-cy .add-box .border {\r\n  display: inline-block;\r\n  width: 42px;\r\n  height: 42px;\r\n  background: #fff;\r\n  border: 1px solid #1989fa;\r\n  border-radius: 50%;\r\n  background-color: #1989fa;\r\n}\r\n\r\n.list-box-cy .add-box .border .van-icon {\r\n  line-height: 42px;\r\n  font-size: 22px;\r\n  color: #ededed;\r\n}\r\n\r\n.list-box-cy .add-box .border .van-icon:hover {\r\n  font-size: 24px;\r\n  color: #fff;\r\n}\r\n\r\n.van-pull-refresh-cy {\r\n  background-color: #f9f9f9;\r\n  //margin-bottom: 120px;\r\n\r\n  .van-list {\r\n    //margin-bottom: 80px;\r\n    min-height: v-bind(\"vheight\");\r\n  }\r\n\r\n  .van-row {\r\n    margin: 12px 20px;\r\n    background-color: #fff;\r\n    border-radius: 0.8em;\r\n\r\n    .van-col {\r\n\r\n      padding: 3px 12px;\r\n\r\n      p {\r\n        margin: 6px;\r\n        text-align: left;\r\n      }\r\n\r\n      p:first {\r\n        font-size: 15px;\r\n      }\r\n\r\n      p:last-child {\r\n        font-size: 13px;\r\n        color: #666;\r\n      }\r\n    }\r\n  }\r\n\r\n  .top-tag {\r\n    font-size: 12px;\r\n    display: inline-block;\r\n    padding: 2px 3px;\r\n    background-color: blue;\r\n    color: #fff;\r\n    border-radius: 3px;\r\n    margin-left: 9px;\r\n  }\r\n}</style>","import { render } from \"./CategoryView.vue?vue&type=template&id=7567edc1\"\nimport script from \"./CategoryView.vue?vue&type=script&lang=js\"\nexport * from \"./CategoryView.vue?vue&type=script&lang=js\"\n\nimport \"./CategoryView.vue?vue&type=style&index=0&id=7567edc1&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <van-nav-bar :title=\"PageTitle\" left-text=\"返回\" right-text=\"保存\" left-arrow @click-left=\"onClickLeft\"\r\n        @click-right=\"onClickRight\" />\r\n    <div class=\"addcycontent\">\r\n        <input type=\"text\" class=\"title\" placeholder=\"标题\" v-model=\"title\" />\r\n        <van-cell class=\"date-info\" v-model:title=\"createTime\" icon=\"calendar-o\">\r\n        </van-cell>\r\n        <textarea class=\"note-content \" rows=\"6\" placeholder=\"描述\" v-model=\"content\"></textarea>\r\n        <div class=\"categorylist\">\r\n            <p>\r\n                <span>分类</span>\r\n                <van-button @click=\"addCategory(0, '', -1)\"\r\n                    style=\"padding: 0px 3px;height: 24px;position: absolute;right: 24px;\" type=\"primary\">添加</van-button>\r\n            </p>\r\n            <div class=\"listdata\">\r\n                <van-swipe-cell v-for=\"(item, index) in list\" :key=\"index\">\r\n                    <van-row class=\"vrow\">\r\n                        <p style=\"text-align:center;\">{{ item.name }}</p>\r\n                    </van-row>\r\n                    <template #right>\r\n                        <van-button square type=\"primary\" text=\"编辑\" @click=\"addCategory(item.Id, item.tname, index)\" />\r\n                        <van-button square type=\"danger\" text=\"删除\"\r\n                            @click=\"delCategory(item.Id, item.tname, item.TotalNoteNum, index)\" />\r\n                    </template>\r\n                </van-swipe-cell>\r\n            </div>\r\n        </div>\r\n        <van-button v-if=\"Id > 0\" type=\"danger\" style=\"margin-top:60px;\" block @click=\"delCyNote\">删除知识库</van-button>\r\n    </div>\r\n    <van-dialog class=\"showPicUrlDialog\" v-model:show=\"showPicUrl\" title=\"分类\" show-cancel-button\r\n        @confirm=\"showPicUrlconfirm\">\r\n        <input type=\"text\" height=\"30px\" v-model=\"categoryName\" placeholder=\"分类名称\" />\r\n    </van-dialog>\r\n</template>\r\n<script>\r\nimport { Toast } from '@vant/compat';\r\nimport { onUnmounted, ref, onMounted, onActivated, } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport { getNowDateString } from '@/util/date';\r\nimport { showConfirmDialog, showNotify } from 'vant';\r\n\r\nimport RichText from '../common/RichTextView.vue';\r\n\r\nexport default {\r\n    name: 'AddCategoryView',\r\n    components: {\r\n        RichText,\r\n    },\r\n    setup() {\r\n        const store = useStore()\r\n        const route = useRoute();\r\n\r\n        //keep-alive 缓存的组件激活时调用\r\n        onMounted(() => {\r\n            store.commit('SelectTabBar', 1);\r\n            console.log('加载');\r\n        });\r\n        onUnmounted(() => {\r\n            store.commit('SelectTabBar', -1);\r\n            console.log('卸载');\r\n        });\r\n        onActivated(() => {\r\n            console.log('addNote onActivated');\r\n        });\r\n\r\n        //\r\n        const cutTitle = (content) => {\r\n            content = content ?? '';\r\n            if (content.length > 0) {\r\n                if (content.length > 50) {\r\n                    content = content.substring(0, 50);\r\n                }\r\n            }\r\n            return content;\r\n        };\r\n\r\n        const onClickLeft = () => {\r\n            history.back();\r\n        };\r\n        const onClickRight = () => {\r\n            if (title.value.trim().length == 0) {\r\n                if (content.value.trim().length == 0) {\r\n                    Toast.fail('请输入内容');\r\n                    return;\r\n                } else {\r\n                    title.value = cutTitle(temTitle.value);\r\n                }\r\n            }\r\n            if (Id.value > 0) {\r\n                store.dispatch('updateNote', {\r\n                    Id: Id.value,\r\n                    Title: title.value,\r\n                    Category: '',\r\n                    Content: content.value,\r\n                    ParentId: ParentId.value,\r\n                    note_category_Id: note_category_Id.value,\r\n                }).then((resolve) => {\r\n                    if (resolve.rowsAffected > 0) {\r\n                        Toast('保存成功');\r\n                        store.commit('setRefreshListState', true);\r\n                        setTimeout(() => {\r\n                            history.back();\r\n                        }, 300);\r\n                    }\r\n                }).catch((reject) => {\r\n                    Toast.fail('保存失败：' + reject);\r\n                });\r\n            } else {\r\n                const nowdate = new Date();\r\n                const y = nowdate.getFullYear();\r\n                const m = nowdate.getMonth() + 1;\r\n                const d = nowdate.getDate();\r\n\r\n                store.dispatch('addCyNote', {\r\n                    Id: Id.value,\r\n                    Title: title.value,\r\n                    SType: 1,\r\n                    Content: content.value,\r\n                    CreateTime: createTime.value,\r\n                    Year: y,\r\n                    Month: m,\r\n                    Day: d,\r\n                    timestamp: Date.now(),\r\n                    ParentId: ParentId.value,\r\n                    note_category_Id: note_category_Id.value,\r\n                }).then((resolve) => {\r\n                    console.log(JSON.stringify(resolve));\r\n                    if (resolve.rowsAffected > 0) {\r\n                        var insertId = resolve.insertId;\r\n                        store.commit('setRefreshListState', true);\r\n                        if (list.value.length > 0) {\r\n                            for (let i = 0; i < list.value.length; i++) {\r\n                                const item = list.value[i];\r\n                                store.dispatch('addCategory', {\r\n                                    CName: item.tname,\r\n                                    note_Id: insertId,\r\n                                    Des: \"\",\r\n                                }).then((resolve) => {\r\n                                    console.log(JSON.stringify(resolve));\r\n                                    if (resolve.rowsAffected > 0) {\r\n                                        console.log('分类添加成功');\r\n                                    }\r\n                                }).catch((reject) => {\r\n                                    Toast.fail('添加失败：' + reject);\r\n                                });\r\n                            }\r\n                        }\r\n                        Toast('创建成功');\r\n                        setTimeout(() => {\r\n                            history.back();\r\n                        }, 300);\r\n                    }\r\n                }).catch((reject) => {\r\n                    Toast.fail('添加失败：' + reject);\r\n                });\r\n            }\r\n        };\r\n\r\n        //内容\r\n        const Id = ref(!route.query.Id ? 0 : Number(route.query.Id));\r\n        const back = ref(route.query.back ?? 0);\r\n        const title = ref('');\r\n        const content = ref('');\r\n        const createTime = ref(getNowDateString());\r\n        const PageTitle = ref('创建知识库');\r\n        const ParentId = ref(0);\r\n        const note_category_Id = ref(0);\r\n        const totalNotes = ref(0);\r\n\r\n        console.log('Id.value', Id.value);\r\n        if (Id.value && Id.value > 0) {\r\n            PageTitle.value = '编辑知识库';\r\n            store.dispatch('getNoteById', Id.value).then((resolve) => {\r\n                const data = resolve;\r\n                title.value = data.Title;\r\n                content.value = data.Content;\r\n                createTime.value = data.CreateTime;\r\n                ParentId.value = data.ParentId;\r\n                note_category_Id.value = data.note_category_Id;\r\n                totalNotes.value = data.totalNotes;\r\n            }).catch((reject) => {\r\n                console.log('查询笔记失败：' + reject);\r\n                Toast.fail('查询笔记失败：' + reject);\r\n            });\r\n        }\r\n\r\n        const list = ref([]);\r\n\r\n        const onLoad = () => {\r\n            list.value.length = 0;\r\n            store.dispatch('getCategoryList', { CyNoteId: Id.value }).then((resolve) => {\r\n                var listData = resolve;\r\n                console.log('getCategoryList=>' + JSON.stringify(listData));\r\n                for (let i = 0; i < listData.length; i++) {\r\n                    list.value.push({\r\n                        Id: listData[i].Id,\r\n                        name: listData[i].CName + '(' + listData[i].TotalNoteNum + ')',\r\n                        tname: listData[i].CName,\r\n                        TotalNoteNum: listData[i].TotalNoteNum\r\n                    });\r\n                }\r\n            });\r\n\r\n        };\r\n        onLoad();\r\n\r\n        const showPicUrl = ref(false); //是否展示图片地址弹框\r\n        const showPicUrlconfirm = () => {\r\n            if (categoryName.value.trim().length == 0) {\r\n                Toast('请输入分类名称');\r\n            } else {\r\n                if (Id.value > 0) {\r\n                    if (categoryId.value > 0) {\r\n                        store.dispatch('updateCategory', {\r\n                            Id: categoryId.value,\r\n                            CName: categoryName.value,\r\n                            note_Id: Id.value,\r\n                            Des: \"\",\r\n                        }).then((resolve) => {\r\n                            if (resolve.rowsAffected > 0) {\r\n                                for (let i = 0; i < list.value.length; i++) {\r\n                                    const item = list.value[i];\r\n                                    if (item.Id == categoryId.value) {\r\n                                        item.name = categoryName.value + '(' + item.TotalNoteNum + ')';\r\n                                        item.tname = categoryName.value;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }).catch((reject) => {\r\n                            Toast.fail('保存失败：' + reject);\r\n                        });\r\n                    } else {\r\n                        store.dispatch('addCategory', {\r\n                            CName: categoryName.value,\r\n                            note_Id: Id.value,\r\n                            Des: \"\",\r\n                        }).then((resolve) => {\r\n                            console.log(JSON.stringify(resolve));\r\n                            if (resolve.rowsAffected > 0) {\r\n                                categoryId.value = resolve.insertId;\r\n                                list.value.push({ name: categoryName.value + '(0)', tname: categoryName.value, Id: resolve.insertId,TotalNoteNum:0 });\r\n                            }\r\n                        }).catch((reject) => {\r\n                            Toast.fail('添加失败：' + reject);\r\n                        });\r\n                    }\r\n                } else {\r\n                    if (categoryIndex.value >= 0) {\r\n                        list.value[categoryIndex.value].name = categoryName.value + '(0)';\r\n                        list.value[categoryIndex.value].Id = categoryId.value;\r\n                        list.value[categoryIndex.value].tname = categoryName.value;\r\n                    } else {\r\n                        list.value.push({ name: categoryName.value + '(0)', tname: categoryName.value, Id: 0 });\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        const categoryName = ref('');\r\n        const categoryId = ref(0);\r\n        const categoryIndex = ref(-1);\r\n        const addCategory = (cyId, cname, index) => {\r\n            showPicUrl.value = true;\r\n            categoryIndex.value = index;\r\n            if (cyId == 0 && cname.length == 0) {\r\n                categoryName.value = '';\r\n                categoryId.value = 0;\r\n            } else {\r\n                categoryName.value = cname;\r\n                categoryId.value = cyId;\r\n            }\r\n        }\r\n        const delCategory = (cyId, cname, TotalNoteNum, index) => {\r\n            console.log(cyId, cname, TotalNoteNum, index)\r\n            showConfirmDialog({\r\n                title: '确定删除 \\'' + cname + '\\' 分类？',\r\n            }).then(() => {\r\n                if (TotalNoteNum > 0) {\r\n                    Toast.fail('该分类有数据不能删除!');\r\n                    return;\r\n                }\r\n                if (cyId > 0) {\r\n                    store.dispatch('delCategory', { Id: cyId, real: 0 }).then((resolve, reject) => {\r\n                        if (resolve.rowsAffected > 0) {\r\n                            for (let i = 0; i < list.value.length; i++) {\r\n                                const item = list.value[i];\r\n                                if (item.Id == cyId) {\r\n                                    list.value.splice(i, 1);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            showNotify({ type: 'success', message: '已删除', position: 'bottom' });\r\n                        } else {\r\n                            Toast.fail('移出失败：' + reject);\r\n                        }\r\n                    });\r\n                } else {\r\n                    list.value.splice(index, 1);\r\n                    showNotify({ type: 'success', message: '已删除', position: 'bottom' });\r\n                }\r\n\r\n            }).catch(() => {\r\n                // on cancel\r\n            });\r\n        }\r\n\r\n        const delCyNote = () => {\r\n            showConfirmDialog({\r\n                title: '是否删除该知识库？',\r\n            }).then(() => {\r\n                if (totalNotes.value > 0) {\r\n                    Toast.fail('知识库有数据不能删除!');\r\n                    return;\r\n                }\r\n                store.dispatch('delNote', { Id: Id.value, real: 0 }).then((resolve, reject) => {\r\n                    if (resolve.rowsAffected > 0) {\r\n                        store.commit('setRefreshListState', true);\r\n                        if (!back.value || back.value == 0) {\r\n                            history.back();\r\n                        } else {\r\n                            history.go(-2);\r\n                        }\r\n                    } else {\r\n                        Toast.fail('删除失败：' + reject);\r\n                    }\r\n                });\r\n            }).catch(() => {\r\n                // on cancel\r\n            });\r\n        };\r\n\r\n        return {\r\n            onClickLeft,\r\n            onClickRight,\r\n            PageTitle,\r\n            title,\r\n            categoryName,\r\n            content,\r\n            createTime,\r\n            Id,\r\n\r\n            list,\r\n            showPicUrl,\r\n            showPicUrlconfirm,\r\n            addCategory,\r\n            delCategory,\r\n            delCyNote,\r\n        };\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.addcycontent {\r\n    padding: 16px 20px;\r\n\r\n    .title {\r\n        width: 97%;\r\n        height: 32px;\r\n        border: 1px solid #cdc8c8;\r\n    }\r\n\r\n    .date-info {\r\n        text-align: left;\r\n        padding-left: 0px !important;\r\n        padding-right: 0px !important;\r\n\r\n        .category-name,\r\n        .arrow-down {\r\n            color: deepskyblue;\r\n        }\r\n    }\r\n\r\n    .note-content {\r\n        width: 98%;\r\n        border: 1px solid #cdc8c8;\r\n    }\r\n\r\n    .categorylist {\r\n        margin-top: 30px;\r\n        padding-top: 18px;\r\n        border-top: 1px solid #eee;\r\n\r\n        p {\r\n            text-align: left;\r\n        }\r\n\r\n        .listdata {\r\n            max-height: 250px;\r\n            overflow: auto;\r\n\r\n            .vrow {\r\n                border-bottom: 1px solid #f0ecec;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import { render } from \"./AddCategoryView.vue?vue&type=template&id=8caab4fc\"\nimport script from \"./AddCategoryView.vue?vue&type=script&lang=js\"\nexport * from \"./AddCategoryView.vue?vue&type=script&lang=js\"\n\nimport \"./AddCategoryView.vue?vue&type=style&index=0&id=8caab4fc&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <van-nav-bar class=\"list-title\" title=\"知识库详情\" left-text=\"返回\" left-arrow @click-left=\"onClickLeft\">\r\n    <template #right>\r\n      <div class=\"icon-box\" @click=\"onSearch\"><van-icon name=\"search\" size=\"22\" /></div>\r\n      <div class=\"icon-box\" @click=\"onAddNote\"><van-icon name=\"plus\" size=\"22\" /></div>\r\n      <div class=\"icon-box\" @click=\"onShowActionsheet\"><van-icon name=\"ellipsis\" size=\"25\" /></div>\r\n    </template>\r\n  </van-nav-bar>\r\n  <div class=\"list-box-detail\">\r\n    <div class=\"cydes\">\r\n      <h2>{{ menuTitle }}</h2>\r\n      <p>{{ menuContent }}</p>\r\n    </div>\r\n    <div class=\"cybody\">\r\n      <a-tree :tree-data=\"treeData\" :default-expandAll=true @expand=\"expandNode\" @select=\"selectNode\"\r\n        v-model:expandedKeys=\"expandedKeys\">\r\n        <template #switcherIcon=\"{ switcherCls }\"><down-outlined :class=\"switcherCls\" /></template>\r\n      </a-tree>\r\n    </div>\r\n  </div>\r\n  <van-action-sheet v-model:show=\"showSheet\" @select=\"selectSheet\" :actions=\"actionsSheet\" cancel-text=\"取消\"\r\n    close-on-click-action @cancel=\"onCancel\" />\r\n\r\n  <van-action-sheet v-model:show=\"showAddSheet\" @select=\"selectAddSheet\" :actions=\"actionsAdd\" cancel-text=\"取消\"\r\n    @cancel=\"onAddCancel\" close-on-click-action />\r\n</template>\r\n<script>\r\nimport { onActivated, onMounted, onUnmounted, ref } from 'vue';\r\nimport { useRouter, useRoute } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport { Toast } from '@vant/compat';\r\nimport { pasteText, clearText } from '@/plugin/clipboard';\r\n\r\nimport { DownOutlined } from '@ant-design/icons-vue';\r\n\r\nexport default {\r\n  name: 'CategoryDetailView',\r\n  props: {\r\n  },\r\n  components: {\r\n    DownOutlined,\r\n  },\r\n  setup(props) {\r\n\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const store = useStore();\r\n\r\n    const getLocalItemFn = async (key) => {\r\n      return await store.getters.getLocalItem(key);\r\n    }\r\n\r\n    const CyId = ref(!route.query.CyId ? 0 : Number(route.query.CyId));\r\n    console.log(CyId.value)\r\n    const expandedKeys = ref([]);\r\n    const getNoteListByParentId = (PId) => {\r\n      store.dispatch('getCategoryList', { CyNoteId: PId }).then((resolve) => {\r\n        var listData = resolve;\r\n        console.log('getCategoryList=>' + JSON.stringify(listData));\r\n        let sortlistData = [];\r\n        for (let i = 0; i < listData.length; i++) {\r\n          sortlistData.push({\r\n            key: 'cy_' + listData[i].Id,\r\n            title: listData[i].CName,\r\n            selectable: true,\r\n            class: 'cyLParentNote',\r\n            timestamp: listData[i].Timestamp,\r\n            children: []\r\n          });\r\n          getLocalItemFn('cy_' + listData[i].Id).then((val) => {\r\n            if (val) {\r\n              expandedKeys.value.push(val);\r\n            }\r\n          });\r\n        }\r\n\r\n        store.dispatch('getNoteListByParentId', { ParentId: PId }).then((resolve) => {\r\n          var listData = resolve;\r\n          console.log('getNoteListByParentId=>' + JSON.stringify(listData));\r\n          treeData.value.length = 0;\r\n          for (let i = 0; i < listData.length; i++) {\r\n            let item = listData[i];\r\n            if (item.note_category_Id == 0) {\r\n              insertDataSortTimestamp({\r\n                title: item.Title,\r\n                key: item.Id,\r\n                class: 'cyLleafNote',\r\n                timestamp: item.Timestamp\r\n              }, sortlistData);\r\n              continue;\r\n            }\r\n            for (let j = 0; j < sortlistData.length; j++) {\r\n              const categoryItem = sortlistData[j];\r\n              let cykey = 'cy_' + item.note_category_Id;\r\n              if (categoryItem.key == cykey && categoryItem.children) {\r\n                categoryItem.children.push({ title: item.Title, key: item.Id, class: 'cyLleafNote' });\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          for (let i = 0; i < sortlistData.length; i++) {\r\n            const categoryItem = sortlistData[i];\r\n            treeData.value.push(categoryItem);\r\n          }\r\n          console.log(treeData.value);\r\n        });\r\n      });\r\n    }\r\n    getNoteListByParentId(CyId.value);\r\n\r\n    const insertDataSortTimestamp = (item, arr) => {\r\n      if (!item || !arr) {\r\n        return;\r\n      }\r\n      if (arr.length == 0) {\r\n        arr.push(item);\r\n        return;\r\n      }\r\n      for (let i = arr.length - 1; i >= 0; i--) {\r\n        const el = arr[i];\r\n        if (item.timestamp > el.timestamp) {\r\n          arr.splice(i + 1, 0, item);\r\n          break;\r\n        }\r\n        if (i == 0) {\r\n          arr.splice(i, 0, item);\r\n        }\r\n      }\r\n    };\r\n\r\n    const menuTitle = ref('');\r\n    const menuContent = ref('');\r\n    const getNoteById = (CId) => {\r\n      store.dispatch('getNoteById', CId).then((resolve) => {\r\n        const data = resolve;\r\n        menuTitle.value = data.Title;\r\n        menuContent.value = data.Content;\r\n      }).catch((reject) => {\r\n        console.log('查询笔记失败：' + reject);\r\n      });\r\n    };\r\n    getNoteById(CyId.value);\r\n\r\n    onActivated(() => {\r\n      store.commit('SelectTabBar', 1);\r\n      console.log('cydetail onActivated')\r\n    });\r\n    onMounted(() => {\r\n      store.commit('SelectTabBar', 1);\r\n      console.log('加载');\r\n    });\r\n    onUnmounted(() => {\r\n      store.commit('SelectTabBar', -1);\r\n      console.log('卸载');\r\n    });\r\n    const onClickLeft = () => {\r\n      history.back();\r\n    };\r\n    const treeData = ref([]);\r\n    const NCId = ref(-1);\r\n    const selectNoteTitle = ref('');\r\n\r\n    const selectNode = (keys, e) => {\r\n      console.log(keys, e);\r\n      if (keys.length > 0) {\r\n        let keystr = e.node.key + '';\r\n        if (keystr.indexOf('cy_') != -1) {\r\n          //点击分类\r\n          NCId.value = Number(keystr.substring(keystr.indexOf('cy_') + 3));\r\n          selectNoteTitle.value = e.node.title;\r\n          pasteText().then((res) => {\r\n            const data = res;\r\n            //appnote:Id\r\n            if (data.startsWith('appnote:Id')) {\r\n              showAddSheet.value = true;\r\n            }\r\n          });\r\n        } else {\r\n          //点击文章\r\n          NCId.value = -1;\r\n          selectNoteTitle.value = '';\r\n          router.push({\r\n            path: '/ViewNote',\r\n            query: { Id: keystr }\r\n          });\r\n        }\r\n      } else {\r\n        NCId.value = -1;\r\n        selectNoteTitle.value = '';\r\n      }\r\n    };\r\n\r\n    const showAddSheet = ref(false);\r\n    const actionsAdd = [\r\n      { name: '笔记移动到此分类', },\r\n    ];\r\n    const onAddCancel = () => {\r\n      clearText().catch((err) =>{\r\n        console.log('clear fails: ',err);\r\n      });\r\n    };\r\n    const selectAddSheet = (action, index) => {\r\n      if (index == 0) {\r\n        pasteText().then((res) => {\r\n          var noteId = res.replace('appnote:Id=', '');\r\n          store.dispatch('updateNoteCategory', {\r\n            Id: noteId,\r\n            Category: menuTitle.value + '/' + selectNoteTitle.value,\r\n            ParentId: CyId.value,\r\n            note_category_Id: NCId.value,\r\n          }).then((resolve) => {\r\n            if (resolve.rowsAffected > 0) {\r\n              getNoteById(CyId.value);\r\n              getNoteListByParentId(CyId.value);\r\n              clearText().catch((err) => {\r\n                console.log('clear fails: ', err);\r\n              });\r\n              Toast('笔记已移动到 ' + selectNoteTitle.value);\r\n            }\r\n          }).catch((reject) => {\r\n            // Toast.fail('保存失败：' + reject);\r\n          });\r\n        });\r\n      }\r\n    };\r\n\r\n    const expandNode = (key, e) => {\r\n      console.log(key, e);\r\n      //NCId.value = -1;\r\n      if (e.expanded) {//展开\r\n        store.commit('setLocalItem', { key: e.node.key, val: e.node.key });\r\n      } else {\r\n        store.commit('removeLocalItem', e.node.key);\r\n      }\r\n    };\r\n\r\n    const onSearch = () => {\r\n      router.push({\r\n        path: '/Search',\r\n        query: { CyId: CyId.value, CaId: NCId.value, kw: '', lz: 1 },\r\n      });\r\n    };\r\n    const onAddNote = () => {\r\n      router.push({\r\n        path: '/AddNote',\r\n        query: { Id: 0, CyId: CyId.value, NCId: NCId.value, State: 0 },\r\n      });\r\n    };\r\n\r\n    const showSheet = ref(false);\r\n    const onShowActionsheet = () => {\r\n      showSheet.value = true;\r\n    };\r\n    const actionsSheet = [\r\n      { name: '编辑', },\r\n      { name: '刷新', },\r\n    ];\r\n    const onCancel = () => console.log('取消');\r\n    const selectSheet = (action, index) => {\r\n      console.log(action, index);\r\n      if (index == 0) {\r\n        router.push({\r\n          path: '/AddCategory',\r\n          query: { Id: CyId.value, back: 1 }\r\n        });\r\n      } else if (index == 1) {\r\n        getNoteById(CyId.value);\r\n        getNoteListByParentId(CyId.value);\r\n        Toast('已刷新');\r\n      }\r\n    }\r\n\r\n    return {\r\n      treeData,\r\n      selectNode,\r\n      expandNode,\r\n      expandedKeys,\r\n\r\n      onClickLeft,\r\n      onSearch,\r\n      onAddNote,\r\n\r\n      menuTitle,\r\n      menuContent,\r\n\r\n      showSheet,\r\n      selectSheet,\r\n      actionsSheet,\r\n      onCancel,\r\n      onShowActionsheet,\r\n\r\n      showAddSheet,\r\n      actionsAdd,\r\n      onAddCancel,\r\n      selectAddSheet,\r\n    };\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.list-title {\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 0px;\r\n}\r\n\r\n.cybody {\r\n  padding: 6px 12px 6px;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.list-box-detail {\r\n  margin-top: 46px;\r\n\r\n  .cydes {\r\n    padding: 20px 0px 30px;\r\n    background-image: url(@/assets/img/bg-cy-detail.jpg);\r\n    background-size: 100%;\r\n\r\n    h2 {\r\n      word-wrap: break-word;\r\n      word-break: break-all;\r\n      white-space: pre-wrap;\r\n    }\r\n\r\n    p {\r\n      word-wrap: break-word;\r\n      word-break: break-all;\r\n      white-space: pre-wrap;\r\n    }\r\n  }\r\n}\r\n\r\n.ant-tree {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.cyLParentNote {\r\n  margin-top: 8px;\r\n}\r\n\r\n.cyLParentNote span.ant-tree-node-selected {\r\n  background-color: #b9c1c8 !important;\r\n}\r\n\r\n.cyLleafNote {\r\n  width: 86%;\r\n  border-bottom: 1px solid #f3f3f8;\r\n  padding: 8px 1px 8px !important;\r\n  margin-left: 24px;\r\n}\r\n\r\n.cyLleafNote .ant-tree-switcher {\r\n  width: 0px;\r\n}\r\n\r\n.cyLleafNote .ant-tree-node-content-wrapper {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  margin: 0px;\r\n}\r\n\r\n.cyLleafNote .ant-tree-switcher .anticon,\r\n.cyLleafNote .ant-tree-indent {\r\n  display: none;\r\n}\r\n\r\n.icon-box {\r\n  display: inline-block;\r\n  padding-left: 18px;\r\n}\r\n</style>","import { render } from \"./CategoryDetailView.vue?vue&type=template&id=64b997b8\"\nimport script from \"./CategoryDetailView.vue?vue&type=script&lang=js\"\nexport * from \"./CategoryDetailView.vue?vue&type=script&lang=js\"\n\nimport \"./CategoryDetailView.vue?vue&type=style&index=0&id=64b997b8&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace\\\\VueWKSpace\\\\CordovaApp\\\\NoteApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\r\nimport NotesView from '../views/notes/NotesView.vue'\r\nimport AddNoteView from '../views/notes/AddNoteView.vue'\r\nimport ViewNoteView from '../views/notes/ViewNoteView.vue'\r\nimport CalendarView from '../views/calendar/CalendarView.vue'\r\nimport SettingView from '../views/setting/SettingView.vue'\r\nimport SearchView from '../views/search/SearchView.vue'\r\nimport CategoryView from '../views/category/CategoryView.vue'\r\nimport AddCategoryView from '../views/category/AddCategoryView.vue'\r\nimport CategoryDetailView from '../views/category/CategoryDetailView.vue'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'NotesView',\r\n    component: NotesView\r\n  },\r\n  {\r\n    path: '/AddNote',\r\n    name: 'AddNoteView',\r\n    components: {\r\n      NewNote:AddNoteView\r\n    }\r\n  },\r\n  {\r\n    path: '/ViewNote',\r\n    name: 'ViewNoteView',\r\n    components: {\r\n      NewNote:ViewNoteView\r\n    }\r\n  },\r\n  {\r\n    path: '/Category',\r\n    name: 'CategoryView',\r\n    component: CategoryView\r\n  },\r\n  {\r\n    path: '/AddCategory',\r\n    name: 'AddCategory',\r\n    components: {\r\n      NewNote:AddCategoryView\r\n    }\r\n  },\r\n  {\r\n    path: '/CategoryDetail',\r\n    name: 'CategoryDetailView',\r\n    components:{\r\n      NewNote:CategoryDetailView\r\n    } \r\n  },\r\n  {\r\n    path: '/Calendar',\r\n    name: 'CalendarView',\r\n    component: CalendarView\r\n  },\r\n  {\r\n    path: '/Search',\r\n    name: 'SearchView',\r\n    components: {\r\n      NewNote:SearchView\r\n    }\r\n  },\r\n  {\r\n    path: '/Setting',\r\n    name: 'SettingView',\r\n    component: SettingView\r\n  },\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n})\r\n\r\nexport default router\r\n","export default {\r\n    PreTabbarIndex:0,//上一个选项\r\n    CurTabbarIndex:0,//当前选项\r\n    database:{}, //数据库\r\n    RefreshListState:false, //首页是否刷新列表 \r\n\r\n    localFingerKey:'openFingerprint', //是否开启指纹解锁的字段名\r\n}","export function IsShowTabBar(state) {\r\n    return !(state.CurTabbarIndex == 1)\r\n}\r\n\r\nexport function getLocalItem(){\r\n    return (key)=>{\r\n        return localStorage.getItem(key)\r\n    }\r\n}","export function SelectTabBar(state, index) {\r\n    if (index < 0) {\r\n        state.CurTabbarIndex = state.PreTabbarIndex;\r\n        state.PreTabbarIndex = 0;\r\n    } else {\r\n        state.PreTabbarIndex = state.CurTabbarIndex;\r\n        state.CurTabbarIndex = index;\r\n    }\r\n}\r\n\r\nexport function setDatabase(state,db){\r\n    state.database = db;\r\n}\r\nexport function setRefreshListState(state,isRefresh){\r\n    state.RefreshListState = isRefresh;\r\n}\r\n\r\n//本地存储\r\nexport function setLocalItem(state,keyval){\r\n    localStorage.setItem(keyval.key,keyval.val);\r\n}\r\nexport function removeLocalItem(state,key){\r\n    localStorage.removeItem(key);\r\n}","import {copyFile} from '@/plugin/file'\r\n//cordova plugin\r\n//step1: npm install cordova-sqlite-storage\r\n//step2: npm install @ionic-native/sqlite\r\n\r\n//表的定义结构\r\n// const tableObject = {\r\n//     tableName: \"fileinfo\",\r\n//     fields: {\r\n//         Id: \"integer\",\r\n//         PId: \"integer\",\r\n//         Name: \"text\",\r\n//         Uri: \"text\",\r\n//         Type: \"text\",\r\n//         Suffix: \"text\",\r\n//         Ctime: \"integer\",\r\n//         Mtime: \"integer\",\r\n//         Shortcut: \"integer\",\r\n//         Size: \"integer\",\r\n//         Sync: \"integer\",\r\n//         State: \"integer\",\r\n//     }\r\n// };\r\n\r\n// openDatabase 创建或打开数据库\r\n//      databaseName: 数据库名称\r\nfunction openDatabase(databaseName,dblocation) {\r\n    // console.log('datadirect: ',cordova.file.dataDirectory)\r\n    // let dbpath  = cordova.file.dataDirectory;\r\n    // if(dbpath.endsWith('files/')){\r\n    //     dbpath = dbpath.substring(0,dbpath.lastIndexOf('files/'))+'databases/';\r\n    // }\r\n    //console.log('database: ',dbpath)\r\n    return new Promise((resolve) => {\r\n        databaseName = databaseName || \"default_database_db\";\r\n        const db = (window.cordova.platformId === 'browser') ?\r\n            window.openDatabase(databaseName, '1.0', 'Data', 2 * 1024 * 1024) :\r\n            window.sqlitePlugin.openDatabase({ \r\n                name: databaseName + '.db', \r\n                androidDatabaseLocation:dblocation,\r\n                //androidDatabaseLocation:cordova.file.externalDataDirectory,\r\n                //location: 'default', \r\n                //androidDatabaseImplementation: 2 \r\n            });\r\n        //copyFile(dbpath+databaseName+'.db',cordova.file.externalDataDirectory,'database',databaseName+'.db')\r\n        resolve(db);\r\n    });\r\n}\r\n// createTable 创建表\r\n//      db: openDatabase方法创建的数据库实例\r\n//      tableObject: 数据表对象\r\nfunction createTable(db, tableObject) {\r\n    if (db == null || tableObject == null) {\r\n        return \"\"\r\n    }\r\n    var tableName = tableObject.tableName;\r\n    var fields = tableObject.fields;\r\n    if (tableName == \"\" || tableName == null || tableName == undefined) {\r\n        return \"\";\r\n    }\r\n    if (!Object.prototype.hasOwnProperty.call(fields, \"Id\")) {\r\n        fields['Id'] = 'integer';\r\n    }\r\n    var fieldList = [];\r\n    for (let key in fields) {\r\n        if (key == \"Id\") {\r\n            fieldList.push('\"Id\" integer NOT NULL PRIMARY KEY AUTOINCREMENT,');\r\n            continue;\r\n        }\r\n        fieldList.push('\"' + key + '\" ' + fields[key] + ',');\r\n    }\r\n    let fieldLen = fieldList.length;\r\n    let field = fieldList[fieldLen - 1];\r\n    fieldList[fieldLen - 1] = field.substring(0, field.lastIndexOf(','));\r\n    return new Promise((resolve, reject) => {\r\n        //创建数据表\r\n        db.transaction(function (tx) {\r\n            const sql = `CREATE TABLE IF NOT EXISTS \"` + tableName + `\" ( \r\n                `+ fieldList.join(' ') + ` \r\n            )`;\r\n            console.log('SQL===> ' + sql);\r\n            tx.executeSql(sql, [], (tx, res) => {\r\n                resolve(res);\r\n                if (res.rowsAffected > 0) {\r\n                    console.log('fileinfo 创建成功');\r\n                }\r\n            });\r\n        }, function (error) {\r\n            console.log('transaction error: ' + error.message);\r\n            reject('transaction error: ' + error.message);\r\n        }, function () {\r\n            console.log('resolve transaction ok');\r\n        });\r\n    });\r\n}\r\n\r\nfunction addColumn(db, tableObject, columnName, columnType, defaultVal) {\r\n    var tableName = tableObject.tableName;\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(function (tx) {\r\n            tx.executeSql(`select count(*) as cnt from sqlite_master where name='${tableName}' and sql like '%${columnName}%'`, [], (tx, res) => {\r\n                var rowData = res.rows.item(0).cnt;\r\n                if (rowData == 0) {\r\n                    const sql = `alter table ${tableName} add column ${columnName} ${columnType} default ${defaultVal}`;\r\n                    console.log('SQL===> ' + sql);\r\n                    tx.executeSql(sql, [], (tx, res) => {\r\n                        if (res.rowsAffected > 0) {\r\n                            console.log('字段添加成功');\r\n                            resolve(res);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }, function (error) {\r\n            console.log('transaction error: ' + error.message);\r\n            reject('transaction error: ' + error.message);\r\n        }, function () {\r\n            console.log('resolve transaction ok');\r\n        });\r\n    });\r\n}\r\n\r\nfunction checkNumber(type) {\r\n    if (!type) {\r\n        return false;\r\n    }\r\n    if (type.toLowerCase() == \"text\" || type.toLowerCase() == \"blob\") {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n// delRecord 删除记录\r\n//      db: openDatabase方法创建的数据库实例\r\n//      tableObject: 数据表对象\r\n//      whereObject: 条件，字符串和对象都可以，例如： \"a = 1 and b = 2\" 或者 {a:1,b:2}\r\n//      setObject: 设置值,字符串和对象都可以, 例如： \"State = 0\" 或者 {State:0}，也可以传{}空对象,{}代表物理删除\r\nfunction delRecord(db, tableObject, whereObject, setObject) {\r\n    var tableName = tableObject.tableName;\r\n    var fields = tableObject.fields;\r\n\r\n    var whereStr = \"\";\r\n    if (typeof whereObject == \"object\") {\r\n        for (let key in whereObject) {\r\n            if (!checkNumber(fields[key])) {\r\n                whereStr += key + \" = '\" + whereObject[key] + \"' and \"\r\n            } else {\r\n                whereStr += key + \" = \" + whereObject[key] + \" and \"\r\n            }\r\n        }\r\n        whereStr = whereStr.substring(0, whereStr.lastIndexOf('and'));\r\n    } else if (typeof whereObject == \"string\") {\r\n        whereStr = whereObject;\r\n    }\r\n    var setStr = \"\";\r\n    if (typeof setObject == \"object\") {\r\n        for (let key in setObject) {\r\n            if (!checkNumber(fields[key])) {\r\n                setStr += key + \" = '\" + setObject[key] + \"' , \"\r\n            } else {\r\n                setStr += key + \" = \" + setObject[key] + \" , \"\r\n            }\r\n        }\r\n        setStr = setStr.substring(0, setStr.lastIndexOf(','));\r\n    } else if (typeof setObject == \"string\") {\r\n        setStr = setObject;\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(function (tx) {\r\n            var query = \"\";\r\n            if (setStr == \"\") {\r\n                query = \"delete from \" + tableName + \" WHERE \" + whereStr;\r\n            } else {\r\n                query = \"update \" + tableName + \" set \" + setStr + \" WHERE \" + whereStr;\r\n            }\r\n            console.log('SQL===> ' + query);\r\n            tx.executeSql(query, [], function (tx, res) {\r\n                //console.log(\"removeId: \" + res.insertId);\r\n                //console.log(\"rowsAffected: \" + res.rowsAffected);\r\n                resolve({ rowsAffected: res.rowsAffected });\r\n            },\r\n                function (tx, error) {\r\n                    console.log('DELETE error: ' + error.message);\r\n                    reject('DELETE  error: ' + error.message);\r\n                });\r\n        }, function (error) {\r\n            console.log('transaction error: ' + error.message);\r\n        }, function () {\r\n            console.log('transaction ok');\r\n        });\r\n    });\r\n}\r\n\r\n// updateRecord 修改记录\r\n//      db: openDatabase方法创建的数据库实例\r\n//      tableObject: 数据库表对象\r\n//      whereObject: 条件，字符串和对象都可以，例如： \"a = 1 and b = 2\" 或者 {a:1,b:2}\r\n//      setObject: 设置值,字符串和对象都可以, 例如： \"State = 0\" 或者 {State:0}\r\nfunction updateRecord(db, tableObject, whereObject, setObject) {\r\n    var tableName = tableObject.tableName;\r\n    var fields = tableObject.fields;\r\n\r\n    var setStr = \"\";\r\n    var setValArr = [];\r\n    if (typeof setObject == \"object\") {\r\n        for (let key in setObject) {\r\n            setStr += key + \" = ?, \";\r\n            setValArr.push(setObject[key]);\r\n        }\r\n        setStr = setStr.substring(0, setStr.lastIndexOf(','));\r\n    } else if (typeof setObject == \"string\") {\r\n        setStr = setObject;\r\n    }\r\n\r\n    var whereStr = \"\";\r\n    if (typeof whereObject == \"object\") {\r\n        for (let key in whereObject) {\r\n            whereStr += key + \" = ? and \"\r\n            setValArr.push(whereObject[key]);\r\n        }\r\n        whereStr = whereStr.substring(0, whereStr.lastIndexOf('and'));\r\n    } else if (typeof whereObject == \"string\") {\r\n        whereStr = whereObject;\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(function (tx) {\r\n            var query = \"update \" + tableName + \" set \" + setStr + \" WHERE \" + whereStr;\r\n            //console.log('SQL===> '+query);\r\n            console.log('SQL===> ' + query + '   data:(' + setValArr.join(',') + ')');\r\n            tx.executeSql(query, setValArr, function (tx, res) {\r\n                //console.log(\"removeId: \" + res.insertId);\r\n                //console.log(\"rowsAffected: \" + res.rowsAffected);\r\n                resolve({ rowsAffected: res.rowsAffected });\r\n            },\r\n                function (tx, error) {\r\n                    console.log('update error: ' + error.message);\r\n                    reject('update  error: ' + error.message);\r\n                });\r\n        }, function (error) {\r\n            console.log('transaction error: ' + error.message);\r\n        }, function () {\r\n            console.log('transaction ok');\r\n        });\r\n    });\r\n}\r\n// addRecord 添加记录\r\n//      db: openDatabase方法创建的数据库实例\r\n//      tableObject: 数据库表对象\r\n//      dataObject: 添加的数据对象,例如：{Id:0,Name:'sushan',Age:22,State:1}\r\nfunction addRecord(db, tableObject, dataObject) {\r\n    var tableName = tableObject.tableName;\r\n    //var fields = tableObject.fields;\r\n    var keyStr = \"\", valStr = \"\";\r\n    var valArr = [];\r\n    if (typeof dataObject == \"object\") {\r\n        delete dataObject.Id;\r\n        for (let key in dataObject) {\r\n            keyStr += key + \" , \";\r\n            valStr += \"?,\";\r\n            valArr.push(dataObject[key]);\r\n        }\r\n        keyStr = keyStr.substring(0, keyStr.lastIndexOf(','));\r\n        valStr = valStr.substring(0, valStr.lastIndexOf(','));\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(function (tx) {\r\n            var query = \"INSERT INTO \" + tableName + \" (\" + keyStr + \") VALUES (\" + valStr + \")\";\r\n            console.log('SQL===> ' + query + '   data:(' + valArr.join(',') + ')');\r\n            tx.executeSql(query, valArr, function (tx, res) {\r\n                //console.log(\"insertId: \" + res.insertId + \" -- probably 1\");\r\n                //console.log(\"rowsAffected: \" + res.rowsAffected + \" -- should be 1\");\r\n                resolve(res);\r\n            },\r\n                function (tx, error) {\r\n                    console.log('INSERT error: ' + error.message);\r\n                    reject('INSERT error: ' + error.message);\r\n                });\r\n        }, function (error) {\r\n            console.log('transaction error: ' + error.message);\r\n        }, function () {\r\n            console.log('transaction ok');\r\n        });\r\n    });\r\n}\r\n// getRecord 查询一条记录\r\n//      db: openDatabase方法创建的数据库实例\r\n//      tableObject: 数据库表对象\r\n//      whereObject:查询条件,可以是 {Name:\"sushan\",Age:22} 或者 \"Name='sushan' and Age = 22\"\r\n//      childField: 其他的字段\r\n//      orderby: 排序\r\nfunction getRecord(db, tableObject, whereObject, childField, orderby) {\r\n    var tableName = tableObject.tableName;\r\n    var fields = tableObject.fields;\r\n    var fieldStr = \"\";\r\n    let leftjoinTable = [];\r\n    for (let key in fields) {\r\n        if (key.endsWith('_Id')) {\r\n            leftjoinTable.push(key.substring(0, key.lastIndexOf('_Id')));\r\n        }\r\n        if (key.indexOf('.') != -1) {\r\n            fieldStr += key + \",\";\r\n        } else {\r\n            fieldStr += tableName + \".\" + key + \",\";\r\n        }\r\n    }\r\n    if (childField) {\r\n        if (childField.endsWith(',')) {\r\n            fieldStr += childField;\r\n        } else {\r\n            fieldStr += childField + \",\";\r\n        }\r\n    }\r\n    fieldStr = fieldStr.substring(0, fieldStr.lastIndexOf(','));\r\n    var whereStr = \"\";\r\n    if (typeof whereObject == \"object\") {\r\n        for (let key in whereObject) {\r\n            let skey = '';\r\n            if (key.indexOf('.') == -1) {\r\n                skey = tableName + \".\" + key\r\n            }else{\r\n                skey = key;\r\n            }\r\n            if (!checkNumber(fields[key])) {\r\n                whereStr += skey + \" = '\" + whereObject[key] + \"' and \";\r\n            } else {\r\n                whereStr += skey + \" = \" + whereObject[key] + \" and \";\r\n            }\r\n        }\r\n        whereStr = whereStr.substring(0, whereStr.lastIndexOf('and'));\r\n    } else if (typeof whereObject == \"string\") {\r\n        whereStr = whereObject;\r\n    }\r\n    if (orderby) {\r\n        orderby = \" order by \" + orderby\r\n    } else {\r\n        orderby = \"\";\r\n    }\r\n    //left join\r\n    var leftjoinStr = '';\r\n    if (leftjoinTable.length > 0) {\r\n        for (let i = 0; i < leftjoinTable.length; i++) {\r\n            const lftableName = leftjoinTable[i];\r\n            leftjoinStr += ` left join  ${lftableName} on ${lftableName}.Id = ${tableName}.${lftableName}_Id `;\r\n        }\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(tx => {\r\n            const sql = \"select \" + fieldStr + \" from \" + tableName + leftjoinStr + \" where \" + whereStr + ' ' + orderby;\r\n            console.log('SQL===> ' + sql);\r\n            tx.executeSql(sql, [], (tx, res) => {\r\n                var rowData = {};\r\n                for (var x = 0; x < res.rows.length; x++) {\r\n                    rowData = res.rows.item(x);\r\n                    break;\r\n                }\r\n                resolve(rowData)\r\n            })\r\n        }, function (error) {\r\n            reject(error.message);\r\n        }, function () {\r\n            //console.log('transaction ok');\r\n        })\r\n    });\r\n}\r\n// getRecordList 查询多条记录\r\n//      db: openDatabase方法创建的数据库实例\r\n//      tableObject: 数据库表对象\r\n//      whereObject:查询条件,可以是 {Name:\"sushan\",Age:22} 或者 \"Name='sushan' and Age = 22\"\r\n//      childField:其他的字段\r\n//      orderby: 排序，例如: \"Id DESC,Name ASC\"\r\n//      page: 分页，{pageIndex:1,pageSize:20}\r\n//      ignore: 忽略查询的字段,['Id','State']\r\nfunction getRecordList(db, tableObject, whereObject, childField, orderby, page, ignore) {\r\n    var tableName = tableObject.tableName;\r\n    var fields = tableObject.fields;\r\n    var fieldStr = \"\";\r\n    let leftjoinTable = [];\r\n    for (let key in fields) {\r\n        if (ignore && ignore.indexOf(key) != -1) {\r\n            continue;\r\n        }\r\n        if (key.endsWith('_Id')) {\r\n            leftjoinTable.push(key.substring(0, key.lastIndexOf('_Id')));\r\n        }\r\n        if (key.indexOf('.') != -1) {\r\n            fieldStr += key + \",\";\r\n        } else {\r\n            fieldStr += tableName + \".\" + key + \",\";\r\n        }\r\n    }\r\n    if (childField) {\r\n        if (childField.endsWith(',')) {\r\n            fieldStr += childField;\r\n        } else {\r\n            fieldStr += childField + \",\";\r\n        }\r\n    }\r\n    fieldStr = fieldStr.substring(0, fieldStr.lastIndexOf(','));\r\n    var whereStr = \"\";\r\n    if (typeof whereObject == \"object\") {\r\n        for (let key in whereObject) {\r\n            let skey = '';\r\n            if (key.indexOf('.') == -1) {\r\n                skey = tableName + \".\" + key\r\n            }else{\r\n                skey = key;\r\n            }\r\n            if (!checkNumber(fields[key])) {\r\n                whereStr += skey + \" = '\" + whereObject[key] + \"' and \";\r\n            } else {\r\n                whereStr += skey + \" = \" + whereObject[key] + \" and \";\r\n            }\r\n        }\r\n        whereStr = whereStr.substring(0, whereStr.lastIndexOf('and'));\r\n    } else if (typeof whereObject == \"string\") {\r\n        whereStr = whereObject;\r\n    }\r\n    if ((whereStr.trim()).length == 0) {\r\n        whereStr = \" 1 = 1 \";\r\n    }\r\n    if (!orderby) {\r\n        orderby = \" order by \" + tableName + \".Id asc \"\r\n    } else {\r\n        orderby = \" order by \" + orderby\r\n    }\r\n\r\n    var pageStr = \"\";\r\n    if (page && typeof page == \"object\" && Object.prototype.hasOwnProperty.call(page, \"pageIndex\") && Object.prototype.hasOwnProperty.call(page, \"pageSize\")) {\r\n        var pageIndex = page.pageIndex;\r\n        var pageSize = page.pageSize;\r\n        if (pageIndex < 1) {\r\n            pageIndex = 1;\r\n        }\r\n        pageIndex = (pageIndex - 1) * pageSize;\r\n        pageStr = \" limit \" + pageIndex + \",\" + pageSize;\r\n    }\r\n    //left join\r\n    var leftjoinStr = '';\r\n    if (leftjoinTable.length > 0) {\r\n        for (let i = 0; i < leftjoinTable.length; i++) {\r\n            const lftableName = leftjoinTable[i];\r\n            leftjoinStr += ` left join  ${lftableName} on ${lftableName}.Id = ${tableName}.${lftableName}_Id `;\r\n        }\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(tx => {\r\n            const sql = \"select \" + fieldStr + \" from \" + tableName + leftjoinStr + \" where \" + whereStr + \" \" + orderby + \" \" + pageStr;\r\n            console.log('SQL===> ' + sql);\r\n            tx.executeSql(sql, [], (tx, res) => {\r\n                var rowData = [];\r\n                for (var x = 0; x < res.rows.length; x++) {\r\n                    rowData.push(res.rows.item(x));\r\n                }\r\n                resolve(rowData)\r\n            })\r\n        }, function (error) {\r\n            reject(error.message);\r\n        }, function () {\r\n            //console.log('transaction ok');\r\n        })\r\n    });\r\n}\r\nexport {\r\n    openDatabase,\r\n    createTable,\r\n    addColumn,\r\n    delRecord,\r\n    updateRecord,\r\n    addRecord,\r\n    getRecord,\r\n    getRecordList,\r\n}","import {getNowDateString,getNowTimestamp,getPreMonths,getNextMonths} from '@/util/date'\r\nimport {filesPath} from '@/util/config'\r\nimport {\r\n    openDatabase,\r\n    createTable,\r\n    addColumn,\r\n    delRecord,\r\n    updateRecord,\r\n    addRecord,\r\n    getRecord,\r\n    getRecordList\r\n } from '@/plugin/sqllite'\r\n\r\n const note = {\r\n    tableName: \"note\",\r\n    fields: {\r\n        Id: \"integer\",\r\n        ParentId:'integer',\r\n        SType:'integer', //文件类型 0 文件  1目录\r\n        Title: \"text\",\r\n        Category: \"text\",\r\n        note_category_Id:'integer', //关联 note_category 表\r\n        Content: \"text\",\r\n        CreateTime: \"text\",\r\n        State: \"integer\",\r\n        Year: \"integer\",\r\n        Month: \"integer\",\r\n        Day: \"integer\",\r\n        Sort: \"integer\",\r\n        Timestamp: \"integer\"\r\n    }\r\n};\r\nconst version = {\r\n    tableName: \"note_version\",\r\n    fields: {\r\n        Version: \"text\",\r\n        Timestamp: \"integer\",\r\n        Des: \"text\",\r\n        CreateTime: \"text\",\r\n        Info1: \"text\",\r\n        Info2: \"text\",\r\n        Info3: \"text\",\r\n        State: \"integer\",\r\n        Sort: \"integer\",\r\n    }\r\n};\r\n\r\nconst noteCategory = {\r\n    tableName: \"note_category\",\r\n    fields: {\r\n        CName: \"text\",\r\n        Timestamp: \"integer\",\r\n        note_Id:\"integer\",  //note.SType = 1时的note的数据Id\r\n        Des: \"text\",\r\n        CreateTime: \"text\",\r\n        State: \"integer\",\r\n    }\r\n};\r\n\r\nexport function getNoteById(context, id) {\r\n    return new Promise((resolve, reject) => {\r\n        let childFeildSql = \"(select count(1) from note nn where ifnull(nn.SType,0) = 0 and nn.ParentId = note.Id ) as totalNotes\";\r\n        getRecord(context.state.database,note, {Id:id},childFeildSql).then((res) => {\r\n            resolve(res)\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function hasNoteOnYearMonthDate(context,{Year,Month,Date}) {\r\n    return new Promise((resolve, reject) => {\r\n        var fieldSql = \"count(1) as cnt\";\r\n        getRecord(context.state.database,{tableName:note.tableName,fields:[]}, `ifnull(note.SType,0) = 0 and note.Year =${Year} and note.Month=${Month} and note.Day=${Date}`, fieldSql).then((res) => {\r\n            var rowData = 0;\r\n            for (var x = 0; x < res.rows.length; x++) {\r\n                rowData = res.rows.item(x).cnt;\r\n                break;\r\n            }\r\n            resolve(rowData)\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function getNoteListByPage(context,{pageIndex=1,pageSize=20,Year=0,Month=0,Day=0,State = 0,Sort=0,kw='',ParentId=0,note_category_Id=0}){\r\n    return new Promise((resolve,reject)=>{\r\n        var page = {pageIndex:pageIndex,pageSize:pageSize};\r\n\r\n        var whereObject = {};\r\n        if(State>0){\r\n            whereObject.State = State;\r\n        }\r\n        if(Year>0){\r\n            whereObject.Year = Year;\r\n        }\r\n        if(Month>0){\r\n            whereObject.Month = Month;\r\n        }\r\n        if(Day>0){\r\n            whereObject.Day = Day;\r\n        }\r\n        var whereStr = ' ifnull(note.SType,0) = 0 and ';\r\n        for (let key in whereObject) {\r\n            if (!checkNumber(note.fields[key])) {\r\n                whereStr += \"note.\" + key + \" = '\" + whereObject[key] + \"' and \";\r\n            } else {\r\n                whereStr += \"note.\" + key + \" = \" + whereObject[key] + \" and \";\r\n            }\r\n        }\r\n        console.log('kw:',kw,typeof kw,kw !== undefined && kw.trim().length>0);\r\n        if(kw !== undefined && kw.trim().length>0){\r\n            whereStr += \" ( note.Title like '%\"+kw.trim()+\"%' \" + \" OR note.Content like '%\"+kw.trim()+\"%' \" + \" ) and \";\r\n        }\r\n        if(ParentId>0){\r\n            whereStr += \" note.ParentId = \"+ParentId +\" and \";\r\n        }\r\n        if(note_category_Id>=0){\r\n            whereStr += \" note.note_category_Id = \"+note_category_Id +\" and \";\r\n        }\r\n        whereStr = whereStr.substring(0, whereStr.lastIndexOf('and'));\r\n        let sortBy = \"note.Sort desc,note.Timestamp desc\";\r\n        if(Sort != undefined && Sort>0){\r\n            sortBy = \"note.Timestamp desc\";\r\n        }\r\n        \r\n        getRecordList(context.state.database, note  , whereStr,\"\",sortBy,page,['Content']).then((res) => {\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function getCyNoteListByPage(context,{pageIndex=1,pageSize=20,Year=0,Month=0,Day=0,State = 0,Sort=0,kw=''}){\r\n    return new Promise((resolve,reject)=>{\r\n        var page = {pageIndex:pageIndex,pageSize:pageSize};\r\n\r\n        var whereObject = {};\r\n        if(State>0){\r\n            whereObject.State = State;\r\n        }\r\n        if(Year>0){\r\n            whereObject.Year = Year;\r\n        }\r\n        if(Month>0){\r\n            whereObject.Month = Month;\r\n        }\r\n        if(Day>0){\r\n            whereObject.Day = Day;\r\n        }\r\n        var whereStr = ' ifnull(note.SType,0) = 1 and ';\r\n        for (let key in whereObject) {\r\n            if (!checkNumber(note.fields[key])) {\r\n                whereStr += \"note.\" + key + \" = '\" + whereObject[key] + \"' and \";\r\n            } else {\r\n                whereStr += \"note.\" + key + \" = \" + whereObject[key] + \" and \";\r\n            }\r\n        }\r\n        console.log('kw:',kw,typeof kw,kw !== undefined && kw.trim().length>0);\r\n        if(kw !== undefined && kw.trim().length>0){\r\n            whereStr += \" ( note.Title like '%\"+kw.trim()+\"%' \" + \" OR note.Content like '%\"+kw.trim()+\"%' \" + \" ) and \";\r\n        }\r\n        whereStr = whereStr.substring(0, whereStr.lastIndexOf('and'));\r\n        let sortBy = \"note.Sort desc,note.Timestamp desc\";\r\n        if(Sort != undefined && Sort>0){\r\n            sortBy = \"note.Timestamp desc\";\r\n        }\r\n        let childFeildSql = \"(select count(1) from note nn where nn.SType = 0 and nn.ParentId = note.Id ) as totalNotes\";\r\n\r\n        getRecordList(context.state.database, note  , whereStr,childFeildSql,sortBy,page,['Content','note_category_Id']).then((res) => {\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function addCyNote(context,{\r\n    Title,SType,Content,CreateTime,Year,Month,Day,timestamp\r\n}){\r\n    return new Promise((resolve, reject) => {\r\n        addRecord(context.state.database, note, {\r\n            Id: 0,\r\n            Title: Title,\r\n            SType:SType,\r\n            Content:Content,\r\n            CreateTime:CreateTime,\r\n            Year:Year,\r\n            Month:Month,\r\n            Day:Day,\r\n            State:1,\r\n            Sort:1,\r\n            Timestamp:timestamp\r\n        }).then((res) => {\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function addCategory(context,{\r\n    CName,note_Id,Des\r\n}){\r\n    var CreateTime = getNowDateString();\r\n    var timestamp = getNowTimestamp();\r\n    return new Promise((resolve, reject) => {\r\n        addRecord(context.state.database, noteCategory, {\r\n            Id: 0,\r\n            CName: CName,\r\n            note_Id:note_Id,\r\n            Des:Des,\r\n            CreateTime:CreateTime,\r\n            Timestamp:timestamp,\r\n            State:1\r\n        }).then((res) => {\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function updateCategory(context,{\r\n    Id,CName,note_Id,Des\r\n}){\r\n    return new Promise((resolve, reject)=>{\r\n        updateRecord(context.state.database, noteCategory, { Id: Id }, {\r\n            CName: CName,\r\n            note_Id:note_Id,\r\n            Des:Des,\r\n            State:1\r\n        }).then((res) =>{\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function updateNoteTimestamp(context,{\r\n    Id,timestamp\r\n}){\r\n    return new Promise((resolve, reject)=>{\r\n        updateRecord(context.state.database, note, { Id: Id }, {\r\n            Timestamp: timestamp,\r\n        }).then((res) =>{\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nfunction checkNumber(type) {\r\n    if (!type) {\r\n        return false;\r\n    }\r\n    if (type.toLowerCase() == \"text\" || type.toLowerCase() == \"blob\") {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function getNoteListNearMonth(context,{Year,Month}){\r\n    return new Promise((resolve,reject)=>{\r\n        const preData = getPreMonths(Year,Month);\r\n        const nextData = getNextMonths(Year,Month);\r\n        getRecordList(context.state.database, note  , `ifnull(note.SType,0) = 0 and (note.Year = ${preData.Year} and note.Month=${preData.Month} or note.Year = ${Year} and note.Month=${Month} or note.Year = ${nextData.Year} and note.Month=${nextData.Month})`,\"\",\"note.Year desc,note.Month desc\",null,[\"Content\"]).then((res) => {\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function getCyNoteList(context){\r\n    return new Promise((resolve,reject)=>{\r\n        let otherFeildSql = \" (select count(1) from note nn where ifnull(nn.SType,0)=0 and nn.ParentId = note.Id) as TotalNoteNum \";\r\n        getRecordList(context.state.database, note  , `ifnull(note.SType,0) = 1 and note.State = 1 `,otherFeildSql,\"note.Sort desc,note.Timestamp desc\",null,[\"Content\"]).then((res) => {\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function getNoteList(context,{note_category_Id}){\r\n    return new Promise((resolve,reject)=>{\r\n        getRecordList(context.state.database, note  , `ifnull(note.SType,0) = 0 and note.note_category_Id = ${note_category_Id}`,\"\",\"note.Timestamp asc\",null,[\"Content\"]).then((res) => {\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function getNoteListByParentId(context,{ParentId}){\r\n    return new Promise((resolve,reject)=>{\r\n        let otherFeildSql = \" note_category.CName \";\r\n        getRecordList(context.state.database, note  , `ifnull(note.SType,0) = 0 and note.ParentId = ${ParentId}`,otherFeildSql,\"note.note_category_Id asc,note.Timestamp asc\",null,[\"Content\"]).then((res) => {\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function addNote(context,{\r\n    Title,Category,Content,CreateTime,Year,Month,Day,timestamp,ParentId,note_category_Id,State\r\n}){\r\n    return new Promise((resolve, reject) => {\r\n        addRecord(context.state.database, note, {\r\n            Id: 0,\r\n            Title: Title,\r\n            Category:Category,\r\n            Content:Content,\r\n            CreateTime:CreateTime,\r\n            SType:0,\r\n            Year:Year,\r\n            Month:Month,\r\n            Day:Day,\r\n            State:State,\r\n            Sort:1,\r\n            Timestamp:timestamp,\r\n            ParentId:ParentId,\r\n            note_category_Id:note_category_Id,\r\n        }).then((res) => {\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function updateNote(context,{\r\n    Id,Title,Category,Content,ParentId,note_category_Id,\r\n}){\r\n    return new Promise((resolve, reject)=>{\r\n        const timestamp = getNowTimestamp();\r\n        updateRecord(context.state.database, note, { Id: Id }, {\r\n            Title:Title,\r\n            Category:Category,\r\n            Content:Content,\r\n            Timestamp:timestamp,\r\n            ParentId:ParentId,\r\n            note_category_Id:note_category_Id,\r\n        }).then((res) =>{\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function updateNoteSort(context,{\r\n    Id,Sort\r\n}){\r\n    return new Promise((resolve, reject)=>{\r\n        updateRecord(context.state.database, note, { Id: Id }, {\r\n            Sort: Sort,\r\n            State:1,\r\n        }).then((res) =>{\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function updateNoteCategory(context,{\r\n    Id,ParentId,Category,note_category_Id\r\n}){\r\n    return new Promise((resolve, reject)=>{\r\n        updateRecord(context.state.database, note, { Id: Id }, {\r\n            ParentId: ParentId,\r\n            Category:Category,\r\n            note_category_Id:note_category_Id,\r\n        }).then((res) =>{\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\nexport function delNote(context,{Id,real}){\r\n    return new Promise((resolve, reject) => {\r\n        if(real == 0){\r\n            //逻辑删除\r\n            delRecord(context.state.database, note, { Id: Id }, {\r\n                State: 0\r\n            }).then((res) => {\r\n                resolve(res);\r\n            }).catch((reject1) => {\r\n                reject(reject1);\r\n            });\r\n        }else{\r\n            //物理删除\r\n            delRecord(context.state.database, note, { Id: Id },\"\").then((res) => {\r\n                resolve(res);\r\n            }).catch((reject1) => {\r\n                reject(reject1);\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nexport function delCategory(context,{Id,real}){\r\n    return new Promise((resolve, reject) => {\r\n        if(real == 0){\r\n            //逻辑删除\r\n            delRecord(context.state.database, noteCategory, { Id: Id }, {\r\n                State: 0\r\n            }).then((res) => {\r\n                resolve(res);\r\n            }).catch((reject1) => {\r\n                reject(reject1);\r\n            });\r\n        }else{\r\n            //物理删除\r\n            delRecord(context.state.database, noteCategory, { Id: Id },\"\").then((res) => {\r\n                resolve(res);\r\n            }).catch((reject1) => {\r\n                reject(reject1);\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nexport function getCategoryList(context,{CyNoteId}){\r\n    return new Promise((resolve,reject)=>{\r\n        let otherFeildSql = \"(select count(1) from note nn where ifnull(nn.SType,0)=0 and nn.note_category_Id = note_category.Id) as TotalNoteNum\";\r\n        getRecordList(context.state.database, noteCategory  , `note_category.note_Id = ${CyNoteId} and note_category.State = 1 `,otherFeildSql,\"note_category.Timestamp asc\",null,[]).then((res) => {\r\n            resolve(res);\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\n//------------note_Category  start ----------------------------------\r\n\r\nexport function getCategoryById(context, id) {\r\n    return new Promise((resolve, reject) => {\r\n        let childFeildSql = \"note.Title\";\r\n        getRecord(context.state.database,noteCategory, {Id:id},childFeildSql).then((res) => {\r\n            resolve(res)\r\n        }).catch((reject1) => {\r\n            reject(reject1);\r\n        });\r\n    });\r\n}\r\n\r\n//------------note_Category  end ----------------------------------\r\n\r\n\r\nexport function startupDatabase(context) {\r\n    return new Promise((resolve) => {\r\n        document.addEventListener('deviceready', () => {\r\n            openDatabase('NoteDatabase',filesPath).then((res) => {\r\n                const db = res;\r\n                context.commit('setDatabase', db);\r\n                //创建文件信息表\r\n                createTable(db, note).then((res1) => {\r\n                    if (res1.rowsAffected > 0) {\r\n                        console.log('fileinfo 创建成功');\r\n                    }\r\n                }).catch((reject1) => {\r\n                    console.log(reject1);\r\n                });\r\n                //创建分类表\r\n                createTable(db, noteCategory).then((res1) => {\r\n                    if (res1.rowsAffected > 0) {\r\n                        console.log('noteCategory 创建成功');\r\n                    }\r\n                }).catch((reject1) => {\r\n                    console.log(reject1);\r\n                });\r\n                //创建版本表\r\n                createTable(db, version).then((res1) => {\r\n                    if (res1.rowsAffected > 0) {\r\n                        console.log('version 创建成功');\r\n                    }\r\n                }).catch((reject1) => {\r\n                    console.log(reject1);\r\n                });\r\n                resolve(db);\r\n            });\r\n        });\r\n    });\r\n}","import { createStore } from 'vuex'\r\nimport state from './state';\r\nimport * as getters from './getters';\r\nimport * as mutations from './mutations';\r\nimport * as actions from './actions';\r\n\r\nexport default createStore({\r\n  state: state,\r\n  getters: getters,\r\n  mutations: mutations,\r\n  actions: actions,\r\n  modules: {\r\n  }\r\n})\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport {\r\n    Tabbar,\r\n    TabbarItem,\r\n    Col, Row, PullRefresh, List, Cell, CellGroup, NavBar, Field, \r\n    Icon, Popover, Calendar,SwipeCell,Button,Notify,Dialog,\r\n    Popup,Switch,Search,DropdownMenu, DropdownItem,BackTop,Toast,\r\n    ImagePreview,ActionSheet,Cascader,TextEllipsis,\r\n} from 'vant';\r\nimport 'vant/lib/index.css';\r\n\r\nimport {Tree} from 'ant-design-vue';\r\nimport 'ant-design-vue/dist/reset.css';\r\n\r\n/*app中加入console插件调试 ------start------*/\r\n// import VConsole from \"vconsole\";\r\n// import { initPlugin } from 'vue-vconsole-devtools'\r\n// initPlugin(new VConsole());// 需要在创建Vue根实例前调用\r\n/*app中加入console插件调试 ------end------*/\r\nconst app = createApp(App);\r\napp.use(store);\r\napp.use(router);\r\n//vant组件\r\napp.use(Tabbar);\r\napp.use(TabbarItem);\r\napp.use(Col);\r\napp.use(Row);\r\napp.use(PullRefresh);\r\napp.use(List);\r\napp.use(CellGroup);\r\napp.use(Cell);\r\napp.use(NavBar);\r\napp.use(Field);\r\napp.use(CellGroup);\r\napp.use(Icon);\r\napp.use(Popover);\r\napp.use(Calendar);\r\napp.use(SwipeCell);\r\napp.use(Button);\r\napp.use(Notify);\r\napp.use(Popup);\r\napp.use(Switch);\r\napp.use(Search);\r\napp.use(DropdownMenu);\r\napp.use(DropdownItem);\r\napp.use(Dialog);\r\napp.use(BackTop);\r\napp.use(Toast);\r\napp.use(ImagePreview);\r\napp.use(ActionSheet);\r\napp.use(Cascader);\r\napp.use(TextEllipsis);\r\n\r\n//ant\r\napp.use(Tree);\r\n\r\napp.mount('#app');\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue\"] = self[\"webpackChunkvue\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9899); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createVNode","_component_router_view","Component","_createBlock","_KeepAlive","_resolveDynamicComponent","name","_component_van_tabbar","route","_component_van_tabbar_item","icon","to","_ctx","FingerprintVerification","Promise","resolve","reject","FingerprintAuth","isAvailable","resultSuccess","config","clientId","usename","password","disableBackup","maxAttempts","locale","userAuthRequired","dialogTitle","dialogMessage","dialogHint","encrypt","rs","err","code","msg","resultError","setup","router","useRouter","active","ref","store","useStore","onMounted","dispatch","then","getLocalItemFn","data","console","log","JSON","stringify","push","path","replace","catch","navigator","app","exitApp","Toast","splashscreen","show","window","setTimeout","hide","async","getters","getLocalItem","state","localFingerKey","computed","mapGetters","__exports__","render","class","_createElementVNode","style","_component_van_nav_bar","title","right","$setup","_component_router_link","_component_van_icon","size","_component_van_pull_refresh","$event","onRefresh","_component_van_list","loading","finished","onLoad","_createElementBlock","_Fragment","_renderList","item","index","_component_van_swipe_cell","key","_component_van_button","square","text","onClick","Id","type","State","Sort","_component_van_row","_component_van_col","span","_toDisplayString","Title","_hoisted_5","CreateTime","__default__","props","Date","Object","default","Year","Month","Day","IsAll","Boolean","ShowNavBar","Lazyload","QueryItem","ParentId","note_category_Id","Keywords","emits","context","Refresh","list","initPageIndex","value","getNoteListByPage","willDelItemId","preDelItem","showConfirmDialog","className","overlayClass","real","rowsAffected","length","splice","fail","topItem","now","setNotState","beforeClose","position","onActivated","commit","RefreshListState","watch","newVal","oldVal","deep","pageIndex","pageSize","kw","listData","i","onNoteDetail","emit","query","showNavbar","height","useWindowSize","vheight","marginbottom","addNote","showSwitchBtn","onClickLeft","onClickRight","onInput","onBlur","onFocus","placeholder","_component_rich_text","onGetValue","getNowDateString","typ","nowdate","y","getFullYear","m","getMonth","d","getDate","h","getHours","mn","getMinutes","join","getNowTimestamp","getPreMonths","getNextMonths","_hoisted_3","id","contenteditable","onKeydown","_component_van_back_top","target","bottom","_component_van_dialog","onConfirm","onClosed","rows","_component_van_image_preview","images","onLongPress","onChange","previewIndex","_component_van_action_sheet","onSelect","actions","onCancel","description","copyText","cordova","plugins","clipboard","copy","pasteText","paste","clearText","clear","rootPath","filesPath","cachePath","localPicPath","picFolderName","replaceNativeURL","url","startsWith","subpath","substring","indexOf","getPathInfo","lastIndexOf","ext","decodeURI","mimeType","getMIMEType","document","addEventListener","platformId","file","externalRootDirectory","externalDataDirectory","externalCacheDirectory","permissions","saveImage","blob","checkPermission","WRITE_EXTERNAL_STORAGE","status","hasPermission","saveImageAsBlob","requestPermission","stat","resolveLocalFileSystemURL","root","isDirectory","getDirectory","create","dirEntry","subDirEntry","time","getTime","getFile","fileEntry","createWriter","fileWriter","onwriteend","onerror","error","toString","write","copyFile","fromFileURL","toParentDirectURL","newFolder","newName","toURL","newFolderEntry","isFile","copyTo","entry","nativeURL","saveNetImage","filename","endsWith","hashCode","Downresource","fetchFromURL","res","str","chr","hash","charCodeAt","getCanvas","el","canvas","createElement","width","clientWidth","html2canvas","allowTaint","backgroundColor","useCORS","imageTimeout","scale","rescanvas","cutImage","cutHeight","scrollHeight","heightArr","ys","addNum","Math","floor","funcArr","func","all","ctx","getContext","drawImage","toBlob","cres","downloadImage","folderName","fileName","newPicName","e","selectFile","fileChooser","open","contentPath","FilePath","resolveNativePath","finalPath","fileOpener","filepath","info","fileOpener2","showOpenWithDialog","success","removeFile","remove","Takefromgalery","cameraOptions","quality","destinationType","Camera","DestinationType","FILE_URI","sourceType","PictureSourceType","SAVEDPHOTOALBUM","allowEdit","encodingType","EncodingType","JPEG","popoverOptions","CameraPopoverOptions","saveToPhotoAlbum","camera","getPicture","imgUri","toInternalURL","TakefromCamera","CAMERA","Takefromgalery2DataURL","DATA_URL","val","editable","richDiv","innerHTML","imgs","getElementById","getElementsByTagName","num","img","imgsrc","src","changeInputCheck","setRichText","showPreview","previewImages","startPosition","onPreviewChange","onLongPressEvent","showDownPic","actionsPic","onCancelDownPic","selectDownPicSheet","action","downUrl","showFileActionSheet","actionsFileItem","editFileActionDes","showEditFileFlag","selectTarget","selectEditFileSheet","selectFilePath","showEditFileName","downFileName","editFileName","message","parentNode","removeChild","clickRichText","parent","childrens","children","checked","setAttribute","removeAttribute","pclasslist","split","localName","noteId","getAttribute","param","innerText","selectFileName","imgsrcList","location","blurRichText","html","obj","assign","simg","sourceurl","showLinkUrl","linkUrl","showLinkUrlconfirm","trim","setSelectionRange","selection","getSelection","rangeCount","htmlstr","execCommand","showPicUrl","picUrl","onEditFileNameConfirm","timestr","focus","changeFont","getSelectionRange","htmlStr","resole","datestr","uri","rangeRef","range","getRangeAt","sel","removeAllRanges","addRange","showPicUrlconfirm","enterAfter","checkdivList","querySelectorAll","inputCheck","querySelector","newInputCheckbox","inc","parentCheckbox","startContainer","classList","incRef","enterKeydown","components","RichText","useRoute","onUnmounted","cutTitle","content","onClearTitle","titleRef","isShowClearIcon","onTitleFocus","onTitleBlur","onTitleInput","history","back","openOtherNoteDetail","cId","Number","tmepContent","temTitle","Category","categoryName","Content","saveAfter","createTime","timestamp","insertId","IdVal","aId","cpId","PageTitle","CyId","NCId","reactive","showLoadingToast","closeToast","CName","note_Id","getValue","valObj","getCyNoteList","options","showPopup","cascaderValue","CyNoteId","selectData","onFinish","selectedOptions","map","option","selectIdstr","selectIdArr","onInvokeMethod","_component_van_popup","len","select","block","queryData","onUpdated","scrollTop","getNoteById","showSheet","showPopover","showRightMenu","goDetail","date","actionsSheet","color","noteContent","selectSheet","openMenu","onLoadMenuData","onRightMenuClosed","listMenu","menuRef","selectheight","Timestamp","rowHeight","clientHeight","menuClientHeight","upmove","flag","item1Id","item1Timestamp","item2Id","item2Timestamp","resolve2","_component_van_calendar","poppable","formatter","onMonthShow","_withCtx","day","topInfo","onClickOverlay","_component_notes_view","onOpenNotedetail","calendar","lunarInfo","solarMonth","Gan","Zhi","Animals","festival","lFestival","getFestival","this","getLunarFestival","setFestival","setLunarFestival","solarTerm","sTermInfo","nStr1","nStr2","nStr3","lYearDays","sum","leapDays","leapMonth","monthDays","solarDays","ms","toGanZhiYear","lYear","ganKey","zhiKey","toAstro","cMonth","cDay","s","arr","substr","toGanZhi","offset","getTerm","n","_table","_calcDay","chunk","parseInt","toChinaMonth","toChinaDay","getAnimal","solar2lunar","yPara","mPara","dPara","objDate","leap","temp","UTC","isTodayObj","isToday","nWeek","getDay","cWeek","year","isLeap","month","sm","gzY","firstNode","secondNode","gzM","isTerm","Term","dayCyclical","gzD","astro","solarDate","lunarDate","festivalDate","lunarFestivalDate","lunarFestival","lunar2solar","isLeapMonth","_day","isAdd","strap","calObj","cY","getUTCFullYear","cM","getUTCMonth","cD","getUTCDate","NotesView","caleListData","getCaleListData","YearMonthData1","YearMonthData2","YearMonthData3","preData","nextData","_time","w","ntime","ny","nm","nd","bottomInfo","IDayCn","hasData","DateObj","SelectDate","pushHistory","pushState","isActived","cancelPop","historyNote","onDeactivated","openNotedetail","monthShow","nowDate","clickRightEvent","minDate","maxDate","_component_van_cell_group","inset","_component_van_cell","_component_van_switch","switchChecked","onUpdateValue","newValue","_component_van_search","onSearch","_component_van_dropdown_menu","_component_van_dropdown_item","lz","CaId","searchKeyword","selValue1","selValue2","option1","option2","TotalNoteNum","changeOptionFn","notCategoryItem","selOption","totalNum","changeOption1","changeOption2","left","totalNotes","String","showNotify","willTopItemId","nextTop","AddCategory","tname","SType","Des","categoryId","categoryIndex","addCategory","cyId","cname","delCategory","delCyNote","go","_component_a_tree","onExpand","expandedKeys","switcherIcon","switcherCls","_component_down_outlined","DownOutlined","getNoteListByParentId","PId","sortlistData","selectable","treeData","j","categoryItem","cykey","insertDataSortTimestamp","menuTitle","menuContent","CId","selectNoteTitle","selectNode","keys","keystr","node","showAddSheet","actionsAdd","onAddCancel","selectAddSheet","expandNode","expanded","onAddNote","onShowActionsheet","routes","component","NewNote","AddNoteView","ViewNoteView","CategoryView","AddCategoryView","CategoryDetailView","CalendarView","SearchView","SettingView","createRouter","createWebHistory","process","PreTabbarIndex","CurTabbarIndex","database","IsShowTabBar","localStorage","getItem","SelectTabBar","setDatabase","db","setRefreshListState","isRefresh","setLocalItem","keyval","setItem","removeLocalItem","removeItem","openDatabase","databaseName","dblocation","sqlitePlugin","androidDatabaseLocation","createTable","tableObject","tableName","fields","undefined","prototype","hasOwnProperty","call","fieldList","fieldLen","field","transaction","tx","sql","executeSql","checkNumber","toLowerCase","delRecord","whereObject","setObject","whereStr","setStr","updateRecord","setValArr","addRecord","dataObject","keyStr","valStr","valArr","getRecord","childField","orderby","fieldStr","leftjoinTable","skey","leftjoinStr","lftableName","rowData","x","getRecordList","page","ignore","pageStr","note","version","Version","Info1","Info2","Info3","noteCategory","childFeildSql","reject1","hasNoteOnYearMonthDate","fieldSql","cnt","sortBy","getCyNoteListByPage","addCyNote","updateCategory","updateNoteTimestamp","getNoteListNearMonth","otherFeildSql","getNoteList","updateNote","updateNoteSort","updateNoteCategory","delNote","getCategoryList","getCategoryById","startupDatabase","res1","createStore","mutations","modules","createApp","App","use","Tabbar","TabbarItem","Col","Row","PullRefresh","List","CellGroup","Cell","NavBar","Field","Icon","Popover","Calendar","SwipeCell","Button","Notify","Popup","Switch","Search","DropdownMenu","DropdownItem","Dialog","BackTop","ImagePreview","ActionSheet","Cascader","TextEllipsis","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","r","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","prop","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}